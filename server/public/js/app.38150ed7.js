(function(e){function t(t){for(var o,i,r=t[0],l=t[1],d=t[2],u=0,m=[];u<r.length;u++)i=r[u],Object.prototype.hasOwnProperty.call(s,i)&&s[i]&&m.push(s[i][0]),s[i]=0;for(o in l)Object.prototype.hasOwnProperty.call(l,o)&&(e[o]=l[o]);c&&c(t);while(m.length)m.shift()();return n.push.apply(n,d||[]),a()}function a(){for(var e,t=0;t<n.length;t++){for(var a=n[t],o=!0,r=1;r<a.length;r++){var l=a[r];0!==s[l]&&(o=!1)}o&&(n.splice(t--,1),e=i(i.s=a[0]))}return e}var o={},s={app:0},n=[];function i(t){if(o[t])return o[t].exports;var a=o[t]={i:t,l:!1,exports:{}};return e[t].call(a.exports,a,a.exports,i),a.l=!0,a.exports}i.m=e,i.c=o,i.d=function(e,t,a){i.o(e,t)||Object.defineProperty(e,t,{enumerable:!0,get:a})},i.r=function(e){"undefined"!==typeof Symbol&&Symbol.toStringTag&&Object.defineProperty(e,Symbol.toStringTag,{value:"Module"}),Object.defineProperty(e,"__esModule",{value:!0})},i.t=function(e,t){if(1&t&&(e=i(e)),8&t)return e;if(4&t&&"object"===typeof e&&e&&e.__esModule)return e;var a=Object.create(null);if(i.r(a),Object.defineProperty(a,"default",{enumerable:!0,value:e}),2&t&&"string"!=typeof e)for(var o in e)i.d(a,o,function(t){return e[t]}.bind(null,o));return a},i.n=function(e){var t=e&&e.__esModule?function(){return e["default"]}:function(){return e};return i.d(t,"a",t),t},i.o=function(e,t){return Object.prototype.hasOwnProperty.call(e,t)},i.p="/";var r=window["webpackJsonp"]=window["webpackJsonp"]||[],l=r.push.bind(r);r.push=t,r=r.slice();for(var d=0;d<r.length;d++)t(r[d]);var c=l;n.push([0,"chunk-vendors"]),a()})({0:function(e,t,a){e.exports=a("56d7")},"009d":function(e,t,a){},"0230":function(e,t,a){},"034f":function(e,t,a){"use strict";var o=a("85ec"),s=a.n(o);s.a},"042c":function(e,t,a){},1099:function(e,t,a){},"10d3":function(e,t,a){},1157:function(e,t,a){"use strict";var o=a("1f3d"),s=a.n(o);s.a},"17a5":function(e,t,a){},"1f3d":function(e,t,a){},2175:function(e,t,a){"use strict";var o=a("5ce0"),s=a.n(o);s.a},2442:function(e,t,a){},"272e":function(e,t,a){},"2dd6":function(e,t,a){"use strict";var o=a("1099"),s=a.n(o);s.a},"32a6":function(e,t,a){},"3cef":function(e,t,a){"use strict";var o=a("a52b"),s=a.n(o);s.a},"3f89":function(e,t,a){"use strict";var o=a("042c"),s=a.n(o);s.a},"425b":function(e,t,a){"use strict";var o=a("4636"),s=a.n(o);s.a},4636:function(e,t,a){},"4b57":function(e,t,a){"use strict";var o=a("df2f"),s=a.n(o);s.a},"534b":function(e,t,a){"use strict";var o=a("10d3"),s=a.n(o);s.a},"56d7":function(e,t,a){"use strict";a.r(t);a("e260"),a("e6cf"),a("cca6"),a("a79d");var o=a("2b0e"),s=function(){var e=this,t=e.$createElement,a=e._self._c||t;return a("div",{class:{"hide-menu":!e.isMenuVisible},attrs:{id:"app"}},[a("Header",{attrs:{title:"Monitoramento de Idosos",hideToggle:!e.user,hideUserDropdown:!e.user}}),e.user?a("Menu"):e._e(),e.isLoadingApp?a("Loading"):a("Content"),a("Footer")],1)},n=[],i=(a("b0c0"),a("96cf"),a("1da1")),r=a("bc3a"),l=a.n(r),d=(a("99af"),a("53ca")),c="__frente_prevencao_covid_rn",u="https://imuni.app.br/api";function m(e){e&&e.response&&e.response.data?(console.error(e.response.data),o["default"].toasted.global.defaultError({msg:e.response.data})):"string"===typeof e||"object"===Object(d["a"])(e)?(console.error(e),o["default"].toasted.global.defaultError({msg:e})):o["default"].toasted.global.defaultError()}function f(e,t){return"/unidades/".concat(e.unidadeId,"/cadastrarAtendimento?idIdoso=").concat(e._id,"&idVigilante=").concat(t.id,"&idUnidade=").concat(e.unidadeId,"&nomeIdoso=").concat(e.nome,"&tipoAtendimento=").concat(e.estatisticas&&e.estatisticas.count.qtdAtendimentosEfetuados>0?"Acompanhamento":"Primeiro atendimento")}function p(e,t,a,o){return console.log("1FAIpQLSd-6JvODh3gkPLdSogP5doEGgywkKSSBCIyk5tTPTtiiS0Dtw"),"https://docs.google.com/forms/d/e/".concat("1FAIpQLSd-6JvODh3gkPLdSogP5doEGgywkKSSBCIyk5tTPTtiiS0Dtw","/viewform?entry.1400965172=").concat(e,"&entry.107358182=").concat(t,"&entry.1292516784=").concat(a,"&entry.2065609378=").concat(o,"&embedded=true")}function b(e){return new Date(e).toLocaleString()}var v=a("2f62"),g=function(){var e=this,t=e.$createElement,a=e._self._c||t;return a("header",{staticClass:"header"},[a("h1",{staticClass:"title"},[e._v(" "+e._s(e.title)+" ")]),e.hideUserDropdown?e._e():a("UserDropdown")],1)},h=[],_=function(){var e=this,t=e.$createElement,a=e._self._c||t;return a("div",{staticClass:"user-dropdown"},[a("div",{staticClass:"user-button"},[a("span",{staticClass:"d-none d-sm-block"},[e._v(e._s(e.user.name))]),a("div",{staticClass:"user-dropdown-img"},[a("Gravatar",{attrs:{email:e.user.email,alt:"User"}})],1),a("font-awesome-icon",{attrs:{icon:["fas","angle-down"]}})],1),a("div",{staticClass:"user-dropdown-content"},[a("div",[e._v(" "+e._s(e.user.role)+" ")]),a("div",[e._v(" "+e._s(e.user.email)+" ")]),a("a",{attrs:{href:""},on:{click:function(t){return t.preventDefault(),e.logout(t)}}},[e._v(" Sair ")])])])},I=[],x=a("e06a"),y=a.n(x),k={name:"UserDropdown",components:{Gravatar:y.a},computed:Object(v["b"])(["user"]),methods:{logout:function(){localStorage.removeItem(c),this.$store.commit("setUser",null),this.$router.push({name:"auth"})}}},A=k,C=(a("a09f"),a("2877")),w=Object(C["a"])(A,_,I,!1,null,null,null),E=w.exports,O={name:"Header",components:{UserDropdown:E},data:function(){return{syncState:"synced",lastSync:"00/00/0000 00:00"}},props:{title:String,hideToggle:Boolean,hideUserDropdown:Boolean},computed:{isMenuVisible:function(){return this.$store.state.isMenuVisible}},methods:{toggleMenu:function(){this.$store.commit("toggleMenu")}}},S=O,U=(a("9f34"),Object(C["a"])(S,g,h,!1,null,null,null)),$=U.exports,P=function(){var e=this,t=e.$createElement,a=e._self._c||t;return a("aside",{directives:[{name:"show",rawName:"v-show",value:e.isMenuVisible,expression:"isMenuVisible"}],staticClass:"menu"})},V=[],N={name:"Menu",computed:Object(v["b"])(["isMenuVisible"])},D=N,T=(a("4b57"),Object(C["a"])(D,P,V,!1,null,null,null)),R=T.exports,j=function(){var e=this,t=e.$createElement,a=e._self._c||t;return a("div",{staticClass:"content"},[a("ProgressBar"),a("router-view")],1)},M=[],q=function(){var e=this,t=e.$createElement,a=e._self._c||t;return a("div",{staticClass:"progressBar",class:{isLoading:"LOADING"===e.syncStatus.status,indeterminated:"INDETERMINATED"===e.syncStatus.mode}},[a("div",{staticClass:"bar",style:{width:e.syncStatus.progress+"%"}}),e._v(" "+e._s(e.syncStatus)+" ")])},L=[],B={name:"ProgressBar",computed:Object(v["b"])(["syncStatus"])},F=B,G=(a("7264"),Object(C["a"])(F,q,L,!1,null,null,null)),Y=G.exports,K={name:"Content",components:{ProgressBar:Y}},H=K,z=(a("9551"),Object(C["a"])(H,j,M,!1,null,null,null)),J=z.exports,W=function(){var e=this,t=e.$createElement,a=e._self._c||t;return a("footer",{staticClass:"footer"},[a("span",[e._v("Monitoramento de Idosos | Frente de Prevenção ao COVID-19 no RN | "+e._s(e.appVersion)+" ")])])},X=[],Q={name:"Footer",computed:{appVersion:function(){return this.$store.getters.appVersion}}},Z=Q,ee=(a("2175"),Object(C["a"])(Z,W,X,!1,null,null,null)),te=ee.exports,ae=function(){var e=this,t=e.$createElement,a=e._self._c||t;return a("div",{staticClass:"loading"},[a("font-awesome-icon",{attrs:{icon:["fas","spinner"],size:"5x",pulse:""}})],1)},oe=[],se={name:"Loading"},ne=se,ie=(a("2dd6"),Object(C["a"])(ne,ae,oe,!1,null,null,null)),re=ie.exports,le={name:"App",components:{Header:$,Menu:R,Content:J,Footer:te,Loading:re},data:function(){return{mensagem:"digite sua mensagem"}},computed:Object(v["b"])(["isMenuVisible","user","isLoadingApp"]),methods:{validateToken:function(){var e=this;return Object(i["a"])(regeneratorRuntime.mark((function t(){var a,o,s;return regeneratorRuntime.wrap((function(t){while(1)switch(t.prev=t.next){case 0:if("acceptInvitation"!==e.$route.name&&"resetPassword"!==e.$route.name&&"auth"!==e.$route.name){t.next=3;break}return e.$store.commit("setIsLoadingApp",!1),t.abrupt("return");case 3:if(console.log("validating token"),e.$store.commit("setIsLoadingApp",!0),a=localStorage.getItem(c),o=JSON.parse(a),e.$store.commit("setUser",null),console.log(o),o){t.next=13;break}return e.$store.commit("setIsLoadingApp",!1),e.$router.push({name:"auth"}),t.abrupt("return");case 13:return t.next=15,l.a.post("".concat(u,"/v2/validateToken"),o);case 15:s=t.sent,console.log(s),s.data?e.$store.commit("setUser",o):(localStorage.removeItem(c),e.$router.push({name:"auth"})),e.$store.commit("setIsLoadingApp",!1);case 19:case"end":return t.stop()}}),t)})))()}},created:function(){this.validateToken()}},de=le,ce=(a("034f"),Object(C["a"])(de,s,n,!1,null,null,null)),ue=ce.exports,me=a("a65d"),fe=a.n(me);o["default"].use(fe.a,{iconPack:"fontawesome",duration:3e3}),o["default"].toasted.register("defaultSuccess",(function(e){return e.msg?e.msg:"Operação realizada com sucesso!"}),{type:"success",icon:"check"}),o["default"].toasted.register("defaultError",(function(e){return e.msg?e.msg:"Oops... Erro inesperado."}),{type:"error",icon:"times"});a("f9e3"),a("2dd8");var pe=a("5f5b");o["default"].use(pe["a"]);a("d3b7");var be=function(e){return e},ve=function(e){if(401!==e.response.status)return Promise.reject(e);window.location="/"};l.a.interceptors.response.use(be,ve);a("4de4"),a("7db0"),a("4ec9"),a("3ca3"),a("ddb0");o["default"].use(v["a"]);var ge=new v["a"].Store({state:{packageVersion:"v2.3.3",isMenuVisible:!1,user:null,isLoadingApp:!0,syncStatus:{mode:"INDETERMINATED",status:null,progress:null,total:null,current:0,msg:""},pageParamsMap:new Map},mutations:{toggleMenu:function(e,t){e.user?e.isMenuVisible=void 0===t?!e.isMenuVisible:t:e.isMenuVisible=!1},setUser:function(e,t){e.user=t,t?l.a.defaults.headers.common["Authorization"]="bearer ".concat(t.token):delete l.a.defaults.headers.common["Authorization"]},setIsLoadingApp:function(e,t){e.isLoadingApp=t},SOCKET_syncStatusEvent:function(e,t){e.syncStatus=t,"SUCCESS"===e.syncStatus.status?location.reload():"ERROR"===e.syncStatus.status&&m(e.syncStatus.msg)},setPageParamsMap:function(e,t){var a=e.pageParamsMap.get(t.userId);if(a){var o=a.find((function(e){return e.filter==t.filter}));o?(o.filter=t.filter,o.order=t.order,o.page=t.page,o.rowsPerPage=t.rowsPerPage):a.push({filter:t.filter,order:t.order,page:t.page,rowsPerPage:t.rowsPerPage})}else e.pageParamsMap.set(t.userId,[{filter:t.filter,order:t.order,page:t.page,rowsPerPage:t.rowsPerPage}])}},getters:{appVersion:function(e){return e.packageVersion},getPageParamsMap:function(e){return e.pageParamsMap}}}),he=(a("45fc"),a("8c4f")),_e=function(){var e=this,t=e.$createElement,a=e._self._c||t;return a("div",{staticClass:"home"},[a("Breadcrumb",{attrs:{path:[{text:"Dashboard"}]}}),a("PageTitle",{attrs:{icon:"",main:"Home",sub:"Bem vindo ao sistema de monitoramento"}}),"ADMINISTRADOR"===e.user.role?a("div",[a("ul",[a("li",[a("router-link",{attrs:{to:"/unidades"}},[e._v("unidades")])],1),a("li",[a("router-link",{attrs:{to:"/administradores"}},[e._v("administradores")])],1)])]):e._e(),"VIGILANTE"===e.user.role?a("div",[a("h2",[e._v("Seja bem vindo vigilante")]),a("router-link",{attrs:{to:"/meusIdosos/com-escalas"}},[e._v("Meus idosos")])],1):e._e(),"PRECEPTOR"===e.user.role?a("div",[a("h2",[e._v("Seja bem vindo preceptor")]),a("router-link",{attrs:{to:"/meusIdosos/com-escalas"}},[e._v("Meus idosos")])],1):e._e()],1)},Ie=[],xe=function(){var e=this,t=e.$createElement,a=e._self._c||t;return a("div",{staticClass:"page-title"},[a("h1",[e.icon?a("i",{class:e.icon}):e._e(),e._v(" "+e._s(e.main))]),a("h2",[e._v(e._s(e.sub))]),a("hr")])},ye=[],ke={name:"PageTitle",props:["icon","main","sub"]},Ae=ke,Ce=(a("a405"),Object(C["a"])(Ae,xe,ye,!1,null,null,null)),we=Ce.exports,Ee=function(){var e=this,t=e.$createElement,a=e._self._c||t;return a("div",{staticClass:"breadcrumb"},[a("ul",e._l(e.path,(function(t,o){return a("li",{key:t.text},[o>0?a("font-awesome-icon",{staticClass:"mx-2",attrs:{icon:["fas","angle-right"]}}):e._e(),t.url?a("router-link",{attrs:{to:t.url,title:t.text}},[e._v(e._s(t.text))]):a("span",[e._v(e._s(t.text))])],1)})),0)])},Oe=[],Se={name:"Breadcrumb",props:["path"]},Ue=Se,$e=(a("9f4a"),Object(C["a"])(Ue,Ee,Oe,!1,null,null,null)),Pe=$e.exports,Ve={name:"Home",components:{PageTitle:we,Breadcrumb:Pe},data:function(){return{}},methods:{},computed:Object(v["b"])(["user"]),mounted:function(){}},Ne=Ve,De=Object(C["a"])(Ne,_e,Ie,!1,null,null,null),Te=De.exports,Re=function(){var e=this,t=e.$createElement,a=e._self._c||t;return a("div",[a("PageTitle",{attrs:{icon:"",main:"Planilha Idosos",sub:"unidade xxxx"}}),a("b-card",{attrs:{"no-body":""}},[a("b-tabs",{attrs:{card:""}},[a("b-tab",{attrs:{title:"Idosos",active:""}},[a("IdososPage")],1),a("b-tab",{attrs:{title:"Idosos por Vulnerabilidade"}},[a("IdososPorVulnerabilidadePage")],1),a("b-tab",{attrs:{title:"Idosos por Risco"}},[a("IdososPorRiscoPage")],1),a("b-tab",{attrs:{title:"Idosos com Escalas"}},[a("IdososComEscalaPage")],1),a("b-tab",{attrs:{title:"Idosos em ordem Alfabética"}},[a("IdososOrdemAlfabeticaPage")],1)],1)],1)],1)},je=[],Me=function(){var e=this,t=e.$createElement,a=e._self._c||t;return a("div",[a("p",[e._v("foram encontrados "+e._s(e.idosos.length)+" registros")]),a("b-table",{attrs:{hover:"",items:e.idosos,fields:e.fields}})],1)},qe=[],Le=(a("4160"),a("159b"),{name:"IdososPage",data:function(){return{idosos:[],fields:[{key:"row",label:"row",sortable:!0},{key:"dataNascimento",label:"Data de Nascimento",sortable:!0},{key:"nome",label:"Nome",sortable:!0},{key:"telefone1",label:"Telefone 1",sortable:!0},{key:"telefone2",label:"Telefone 2",sortable:!0},{key:"agenteSaude",label:"Agente de Saúde",sortable:!0}]}},methods:{loadIdosos:function(){var e=this;console.log("load idosos");var t="1sP1UegbOnv5dVoO6KMtk2nms6HqjFs3vuYN5FGMWasc",a="Idosos",o="A2:E";console.log("idosos base api url",u);var s="".concat(u,"/docs/").concat(t,"/sheets/").concat(a,"/range/").concat(o);l.a.get(s).then((function(t){var a=[];t.data.forEach((function(e,t){a.push({row:"A"+(t+2),dataNascimento:e[0],nome:e[1],telefone1:e[2],telefone2:e[3],agenteSaude:e[4]})})),e.idosos=a,console.log(e.idosos)})).catch(m)}},mounted:function(){this.loadIdosos()}}),Be=Le,Fe=Object(C["a"])(Be,Me,qe,!1,null,null,null),Ge=Fe.exports,Ye=function(){var e=this,t=e.$createElement,a=e._self._c||t;return a("div",[a("p",[e._v("foram encontrados "+e._s(e.idosos.length)+" registros")]),a("b-table",{attrs:{hover:"",items:e.idosos,fields:e.fields}})],1)},Ke=[],He={name:"IdososPorVulnerabilidadePage",data:function(){return{idosos:[],fields:[{key:"row",label:"row",sortable:!0},{key:"nome",label:"Nome",sortable:!0},{key:"escalaVulnerabilidade",label:"Escala de Vulnerabilidade",sortable:!0},{key:"escalaEpidemiologica",label:"Escala Epidemiológica",sortable:!0},{key:"escalaRisco",label:"Escala de Risco COVID-19",sortable:!0},{key:"scoreOrdenacao",label:"Score de Ordenacao",sortable:!0}]}},methods:{loadIdosos:function(){var e=this;console.log("load idosos");var t="1sP1UegbOnv5dVoO6KMtk2nms6HqjFs3vuYN5FGMWasc",a="Idosos por vulnerabilidade",o="A2:E",s="".concat(u,"/docs/").concat(t,"/sheets/").concat(a,"/range/").concat(o);l.a.get(s).then((function(t){var a=[];t.data.forEach((function(e,t){a.push({row:"A"+(t+2),nome:e[0],escalaVulnerabilidade:e[1],escalaEpidemiologica:e[2],escalaRisco:e[3],scoreOrdenacao:e[4]})})),e.idosos=a,console.log(e.idosos)})).catch(m)}},mounted:function(){this.loadIdosos()}},ze=He,Je=Object(C["a"])(ze,Ye,Ke,!1,null,null,null),We=Je.exports,Xe=function(){var e=this,t=e.$createElement,a=e._self._c||t;return a("div",[a("p",[e._v("foram encontrados "+e._s(e.idosos.length)+" registros")]),a("b-table",{attrs:{hover:"",items:e.idosos,fields:e.fields}})],1)},Qe=[],Ze={name:"IdososPorRiscoPage",data:function(){return{idosos:[],fields:[{key:"row",label:"row",sortable:!0},{key:"nome",label:"Nome",sortable:!0},{key:"escalaVulnerabilidade",label:"Escala de Vulnerabilidade",sortable:!0},{key:"escalaEpidemiologica",label:"Escala Epidemiológica",sortable:!0},{key:"escalaRisco",label:"Escala de Risco COVID-19",sortable:!0},{key:"scoreOrdenacao",label:"Score de Ordenacao",sortable:!0}]}},methods:{loadIdosos:function(){var e=this;console.log("load idosos");var t="1sP1UegbOnv5dVoO6KMtk2nms6HqjFs3vuYN5FGMWasc",a="Idosos por risco",o="A2:E",s="".concat(u,"/docs/").concat(t,"/sheets/").concat(a,"/range/").concat(o);l.a.get(s).then((function(t){var a=[];t.data.forEach((function(e,t){a.push({row:"A"+(t+2),nome:e[0],escalaVulnerabilidade:e[1],escalaEpidemiologica:e[2],escalaRisco:e[3],scoreOrdenacao:e[4]})})),e.idosos=a,console.log(e.idosos)})).catch(m)}},mounted:function(){this.loadIdosos()}},et=Ze,tt=Object(C["a"])(et,Xe,Qe,!1,null,null,null),at=tt.exports,ot=function(){var e=this,t=e.$createElement,a=e._self._c||t;return a("div",[a("p",[e._v("foram encontrados "+e._s(e.idosos.length)+" registros")]),a("b-table",{attrs:{hover:"",items:e.idosos,fields:e.fields}})],1)},st=[],nt={name:"IdososComEscalaPage",data:function(){return{idosos:[],fields:[{key:"row",label:"row",sortable:!0},{key:"nome",label:"Nome",sortable:!0},{key:"escalaVulnerabilidade",label:"Escala de Vulnerabilidade",sortable:!0},{key:"escalaEpidemiologica",label:"Escala Epidemiológica",sortable:!0},{key:"escalaRisco",label:"Escala de Risco COVID-19",sortable:!0},{key:"scoreOrdenacao",label:"Score de Ordenacao",sortable:!0}]}},methods:{loadIdosos:function(){var e=this;console.log("load idosos");var t="1sP1UegbOnv5dVoO6KMtk2nms6HqjFs3vuYN5FGMWasc",a="Idosos com escalas",o="A2:E",s="".concat(u,"/docs/").concat(t,"/sheets/").concat(a,"/range/").concat(o);l.a.get(s).then((function(t){var a=[];t.data.forEach((function(e,t){a.push({row:"A"+(t+2),nome:e[0],escalaVulnerabilidade:e[1],escalaEpidemiologica:e[2],escalaRisco:e[3],scoreOrdenacao:e[4]})})),e.idosos=a,console.log(e.idosos)})).catch(m)}},mounted:function(){this.loadIdosos()}},it=nt,rt=Object(C["a"])(it,ot,st,!1,null,null,null),lt=rt.exports,dt=function(){var e=this,t=e.$createElement,a=e._self._c||t;return a("div",[a("p",[e._v("foram encontrados "+e._s(e.idosos.length)+" registros")]),a("b-table",{attrs:{hover:"",items:e.idosos,fields:e.fields}})],1)},ct=[],ut={name:"IdososOrdemAlfabeticaPage",data:function(){return{idosos:[],fields:[{key:"row",label:"row",sortable:!0},{key:"nome",label:"Nome",sortable:!0}]}},methods:{loadIdosos:function(){var e=this;console.log("load idosos");var t="1sP1UegbOnv5dVoO6KMtk2nms6HqjFs3vuYN5FGMWasc",a="Idosos em ordem alfabética",o="A2:A",s="".concat(u,"/docs/").concat(t,"/sheets/").concat(a,"/range/").concat(o);l.a.get(s).then((function(t){var a=[];t.data.forEach((function(e,t){a.push({row:"A"+(t+2),nome:e[0]})})),e.idosos=a,console.log(e.idosos)})).catch(m)}},mounted:function(){this.loadIdosos()}},mt=ut,ft=Object(C["a"])(mt,dt,ct,!1,null,null,null),pt=ft.exports,bt={name:"IdososSpreadsheet",components:{PageTitle:we,IdososPage:Ge,IdososPorVulnerabilidadePage:We,IdososPorRiscoPage:at,IdososComEscalaPage:lt,IdososOrdemAlfabeticaPage:pt}},vt=bt,gt=Object(C["a"])(vt,Re,je,!1,null,null,null),ht=gt.exports,_t=function(){var e=this,t=e.$createElement,a=e._self._c||t;return a("div",[a("PageTitle",{attrs:{icon:"",main:"Planilha de Gerenciamento",sub:"unidade xxxx"}}),a("b-card",{attrs:{"no-body":""}},[a("b-tabs",{attrs:{card:""}},[a("b-tab",{attrs:{title:"Vigilante 1"}},[a("Vigilante1Page")],1),a("b-tab",{attrs:{title:"Vigilante 2"}},[a("Vigilante2Page")],1),a("b-tab",{attrs:{title:"Vigilante 3"}},[a("Vigilante3Page")],1),a("b-tab",{attrs:{title:"Vigilante 4"}},[a("Vigilante4Page")],1),a("b-tab",{attrs:{title:"Respostas"}},[a("RespostasPage")],1),a("b-tab",{attrs:{title:"Escalas"}},[a("EscalasPage")],1),a("b-tab",{attrs:{title:"Status Atendimentos"}},[a("StatusAtendimentosPage")],1)],1)],1)],1)},It=[],xt=function(){var e=this,t=e.$createElement,a=e._self._c||t;return a("div",[a("p",[e._v("foram encontrados "+e._s(e.items.length)+" registros")]),a("b-table",{attrs:{hover:"",items:e.items,fields:e.fields}})],1)},yt=[],kt={name:"Vigilante1Page",data:function(){return{items:[],fields:[{key:"row",label:"row",sortable:!0},{key:"vigilante",label:"Vigilante",sortable:!0},{key:"nome",label:"Nome",sortable:!0},{key:"telefone1",label:"Telefones",sortable:!0},{key:"agenteSaude",label:"Agente de Saúde",sortable:!0},{key:"atendimentosEfetuados",label:"Atendimentos Efetuados",sortable:!0},{key:"escalaVulnerabilidade",label:"Escala Vulnerabilidade",sortable:!0},{key:"escalaEpidemiologica",label:"Escala Epidemiológica",sortable:!0},{key:"escalaRisco",label:"Escala Risco COVID-19",sortable:!0},{key:"dataUltimoAtendimento",label:"Último Atendimento",sortable:!0},{key:"sugestaoProximoAtendimento",label:"Sugestão próximo atendimento",sortable:!0}]}},methods:{loadItems:function(){var e=this;console.log("load items");var t="1tBlFtcTlo1xtq4lU1O2Yq94wYaFfyL9RboX6mWjKhh4",a="Vigilante 1",o="A2:M",s="".concat(u,"/docs/").concat(t,"/sheets/").concat(a,"/range/").concat(o);l.a.get(s).then((function(t){var a=[];t.data.forEach((function(e,t){a.push({row:"A"+(t+2),vigilante:e[0],nome:e[1],telefone1:"".concat(e[2]," ").concat(e[3]),agenteSaude:e[4],tentativas:e[5],atendimentosEfetuados:"".concat(+e[6],"/").concat(+e[5]+ +e[6]),escalaVulnerabilidade:e[7],escalaEpidemiologica:e[8],escalaRisco:e[9],dataUltimoAtendimento:"".concat(e[10]," ").concat(e[11]),horaUltimoAtendimento:e[11],sugestaoProximoAtendimento:e[12]})})),e.items=a,console.log(e.items)})).catch(m)}},mounted:function(){this.loadItems()}},At=kt,Ct=Object(C["a"])(At,xt,yt,!1,null,null,null),wt=Ct.exports,Et=function(){var e=this,t=e.$createElement,a=e._self._c||t;return a("div",[a("p",[e._v("foram encontrados "+e._s(e.items.length)+" registros")]),a("b-table",{attrs:{hover:"",items:e.items,fields:e.fields}})],1)},Ot=[],St={name:"Vigilante2Page",data:function(){return{items:[],fields:[{key:"row",label:"row",sortable:!0},{key:"vigilante",label:"Vigilante",sortable:!0},{key:"nome",label:"Nome",sortable:!0},{key:"telefone1",label:"Telefones",sortable:!0},{key:"agenteSaude",label:"Agente de Saúde",sortable:!0},{key:"atendimentosEfetuados",label:"Atendimentos Efetuados",sortable:!0},{key:"escalaVulnerabilidade",label:"Escala Vulnerabilidade",sortable:!0},{key:"escalaEpidemiologica",label:"Escala Epidemiológica",sortable:!0},{key:"escalaRisco",label:"Escala Risco COVID-19",sortable:!0},{key:"dataUltimoAtendimento",label:"Último Atendimento",sortable:!0},{key:"sugestaoProximoAtendimento",label:"Sugestão próximo atendimento",sortable:!0}]}},methods:{loadItems:function(){var e=this;console.log("load items");var t="1tBlFtcTlo1xtq4lU1O2Yq94wYaFfyL9RboX6mWjKhh4",a="Vigilante 2",o="A2:M",s="".concat(u,"/docs/").concat(t,"/sheets/").concat(a,"/range/").concat(o);l.a.get(s).then((function(t){var a=[];t.data.forEach((function(e,t){a.push({row:"A"+(t+2),vigilante:e[0],nome:e[1],telefone1:"".concat(e[2]," ").concat(e[3]),agenteSaude:e[4],tentativas:e[5],atendimentosEfetuados:"".concat(+e[6],"/").concat(+e[5]+ +e[6]),escalaVulnerabilidade:e[7],escalaEpidemiologica:e[8],escalaRisco:e[9],dataUltimoAtendimento:"".concat(e[10]," ").concat(e[11]),horaUltimoAtendimento:e[11],sugestaoProximoAtendimento:e[12]})})),e.items=a,console.log(e.items)})).catch(m)}},mounted:function(){this.loadItems()}},Ut=St,$t=Object(C["a"])(Ut,Et,Ot,!1,null,null,null),Pt=$t.exports,Vt=function(){var e=this,t=e.$createElement,a=e._self._c||t;return a("div",[a("p",[e._v("foram encontrados "+e._s(e.items.length)+" registros")]),a("b-table",{attrs:{hover:"",items:e.items,fields:e.fields}})],1)},Nt=[],Dt={name:"Vigilante3Page",data:function(){return{items:[],fields:[{key:"row",label:"row",sortable:!0},{key:"vigilante",label:"Vigilante",sortable:!0},{key:"nome",label:"Nome",sortable:!0},{key:"telefone1",label:"Telefones",sortable:!0},{key:"agenteSaude",label:"Agente de Saúde",sortable:!0},{key:"atendimentosEfetuados",label:"Atendimentos Efetuados",sortable:!0},{key:"escalaVulnerabilidade",label:"Escala Vulnerabilidade",sortable:!0},{key:"escalaEpidemiologica",label:"Escala Epidemiológica",sortable:!0},{key:"escalaRisco",label:"Escala Risco COVID-19",sortable:!0},{key:"dataUltimoAtendimento",label:"Último Atendimento",sortable:!0},{key:"sugestaoProximoAtendimento",label:"Sugestão próximo atendimento",sortable:!0}]}},methods:{loadItems:function(){var e=this;console.log("load items");var t="1tBlFtcTlo1xtq4lU1O2Yq94wYaFfyL9RboX6mWjKhh4",a="Vigilante 3",o="A2:M",s="".concat(u,"/docs/").concat(t,"/sheets/").concat(a,"/range/").concat(o);l.a.get(s).then((function(t){var a=[];t.data.forEach((function(e,t){a.push({row:"A"+(t+2),vigilante:e[0],nome:e[1],telefone1:"".concat(e[2]," ").concat(e[3]),agenteSaude:e[4],tentativas:e[5],atendimentosEfetuados:"".concat(+e[6],"/").concat(+e[5]+ +e[6]),escalaVulnerabilidade:e[7],escalaEpidemiologica:e[8],escalaRisco:e[9],dataUltimoAtendimento:"".concat(e[10]," ").concat(e[11]),horaUltimoAtendimento:e[11],sugestaoProximoAtendimento:e[12]})})),e.items=a,console.log(e.items)})).catch(m)}},mounted:function(){this.loadItems()}},Tt=Dt,Rt=Object(C["a"])(Tt,Vt,Nt,!1,null,null,null),jt=Rt.exports,Mt=function(){var e=this,t=e.$createElement,a=e._self._c||t;return a("div",[a("p",[e._v("foram encontrados "+e._s(e.items.length)+" registros")]),a("b-table",{attrs:{hover:"",items:e.items,fields:e.fields}})],1)},qt=[],Lt={name:"Vigilante4Page",data:function(){return{items:[],fields:[{key:"row",label:"row",sortable:!0},{key:"vigilante",label:"Vigilante",sortable:!0},{key:"nome",label:"Nome",sortable:!0},{key:"telefone1",label:"Telefones",sortable:!0},{key:"agenteSaude",label:"Agente de Saúde",sortable:!0},{key:"atendimentosEfetuados",label:"Atendimentos Efetuados",sortable:!0},{key:"escalaVulnerabilidade",label:"Escala Vulnerabilidade",sortable:!0},{key:"escalaEpidemiologica",label:"Escala Epidemiológica",sortable:!0},{key:"escalaRisco",label:"Escala Risco COVID-19",sortable:!0},{key:"dataUltimoAtendimento",label:"Último Atendimento",sortable:!0},{key:"sugestaoProximoAtendimento",label:"Sugestão próximo atendimento",sortable:!0}]}},methods:{loadItems:function(){var e=this;console.log("load items");var t="1tBlFtcTlo1xtq4lU1O2Yq94wYaFfyL9RboX6mWjKhh4",a="Vigilante 4",o="A2:M",s="".concat(u,"/docs/").concat(t,"/sheets/").concat(a,"/range/").concat(o);l.a.get(s).then((function(t){var a=[];t.data.forEach((function(e,t){a.push({row:"A"+(t+2),vigilante:e[0],nome:e[1],telefone1:"".concat(e[2]," ").concat(e[3]),agenteSaude:e[4],tentativas:e[5],atendimentosEfetuados:"".concat(+e[6],"/").concat(+e[5]+ +e[6]),escalaVulnerabilidade:e[7],escalaEpidemiologica:e[8],escalaRisco:e[9],dataUltimoAtendimento:"".concat(e[10]," ").concat(e[11]),horaUltimoAtendimento:e[11],sugestaoProximoAtendimento:e[12]})})),e.items=a,console.log(e.items)})).catch(m)}},mounted:function(){this.loadItems()}},Bt=Lt,Ft=Object(C["a"])(Bt,Mt,qt,!1,null,null,null),Gt=Ft.exports,Yt=function(){var e=this,t=e.$createElement,a=e._self._c||t;return a("div",[a("p",[e._v("foram encontrados "+e._s(e.items.length)+" registros")]),a("b-table",{attrs:{hover:"",items:e.items,fields:e.fields}})],1)},Kt=[],Ht={name:"RespostasPage",data:function(){return{items:[],fields:[{key:"row",label:"row",sortable:!0},{key:"data",label:"data",sortable:!0},{key:"vigilante",label:"vigilante",sortable:!0},{key:"nome",label:"Nome",sortable:!0},{key:"atendeu",label:"Atendeu ao telefonema",sortable:!0},{key:"idade",label:"Idade",sortable:!0}]}},methods:{loadItems:function(){var e=this;console.log("load items");var t="1tBlFtcTlo1xtq4lU1O2Yq94wYaFfyL9RboX6mWjKhh4",a="Respostas",o="A2:AI",s="".concat(u,"/docs/").concat(t,"/sheets/").concat(a,"/range/").concat(o);l.a.get(s).then((function(t){var a=[];t.data.forEach((function(e,t){a.push({row:"A"+(t+2),data:e[0],vigilante:e[1],nome:e[2],atendeu:e[3],idade:e[4]})})),e.items=a})).catch(m)}},mounted:function(){this.loadItems()}},zt=Ht,Jt=Object(C["a"])(zt,Yt,Kt,!1,null,null,null),Wt=Jt.exports,Xt=function(){var e=this,t=e.$createElement,a=e._self._c||t;return a("div",[a("p",[e._v("foram encontrados "+e._s(e.items.length)+" registros")]),a("b-table",{attrs:{hover:"",items:e.items,fields:e.fields}})],1)},Qt=[],Zt={name:"EscalasPage",data:function(){return{items:[],fields:[{key:"row",label:"row",sortable:!0},{key:"nome",label:"nome",sortable:!0},{key:"idade",label:"idade",sortable:!0},{key:"escalaVulnerabilidade",label:"Escala Vulnerabilidade",sortable:!0},{key:"escalaEpidemiologica",label:"Escala Epidemiologica",sortable:!0},{key:"escalaRisco",label:"Escala de Risco",sortable:!0},{key:"scoreOrdenacao",label:"Score de Ordenacao",sortable:!0},{key:"data",label:"data",sortable:!0}]}},methods:{loadItems:function(){var e=this;console.log("load items");var t="1tBlFtcTlo1xtq4lU1O2Yq94wYaFfyL9RboX6mWjKhh4",a="Escalas",o="A2:AI",s="".concat(u,"/docs/").concat(t,"/sheets/").concat(a,"/range/").concat(o);l.a.get(s).then((function(t){var a=[];t.data.forEach((function(e,t){a.push({row:"A"+(t+2),nome:e[0],idade:e[1],escalaVulnerabilidade:e[2],escalaEpidemiologica:e[3],escalaRisco:e[4],scoreOrdenacao:e[5],data:e[6]})})),e.items=a,console.log(e.items)})).catch(m)}},mounted:function(){this.loadItems()}},ea=Zt,ta=Object(C["a"])(ea,Xt,Qt,!1,null,null,null),aa=ta.exports,oa=function(){var e=this,t=e.$createElement,a=e._self._c||t;return a("div",[a("p",[e._v("foram encontrados "+e._s(e.items.length)+" registros")]),a("b-table",{attrs:{hover:"",items:e.items,fields:e.fields}})],1)},sa=[],na={name:"StatusAtendimentosPage",data:function(){return{items:[],fields:[{key:"row",label:"row",sortable:!0},{key:"vigilante",label:"Vigilante",sortable:!0},{key:"nome",label:"Nome",sortable:!0},{key:"agenteSaude",label:"Agente de Saúde",sortable:!0},{key:"atendimentosEfetuados",label:"Atendimentos Efetuados",sortable:!0},{key:"escalaVulnerabilidade",label:"Escala Vulnerabilidade",sortable:!0},{key:"escalaEpidemiologica",label:"Escala Epidemiológica",sortable:!0},{key:"escalaRisco",label:"Escala Risco COVID-19",sortable:!0},{key:"scoreOrdenacao",label:"scoreOrdenacao",sortable:!0},{key:"dataUltimoAtendimento",label:"Último Atendimento",sortable:!0},{key:"sugestaoProximoAtendimento",label:"Sugestão próximo atendimento",sortable:!0}]}},methods:{loadItems:function(){var e=this;console.log("load items");var t="1tBlFtcTlo1xtq4lU1O2Yq94wYaFfyL9RboX6mWjKhh4",a="Status Atendimentos",o="A2:AI",s="".concat(u,"/docs/").concat(t,"/sheets/").concat(a,"/range/").concat(o);l.a.get(s).then((function(t){var a=[];t.data.forEach((function(e,t){a.push({row:"A"+(t+2),vigilante:e[0],nome:e[1],telefone1:"".concat(e[2]," ").concat(e[3]),agenteSaude:e[4],tentativas:e[5],atendimentosEfetuados:"".concat(+e[6],"/").concat(+e[5]+ +e[6]),escalaVulnerabilidade:e[7],escalaEpidemiologica:e[8],escalaRisco:e[9],scoreOrdenacao:e[10],dataUltimoAtendimento:"".concat(e[11]," ").concat(e[12]),sugestaoProximoAtendimento:e[13]})})),e.items=a,console.log(e.items)})).catch(m)}},mounted:function(){this.loadItems()}},ia=na,ra=Object(C["a"])(ia,oa,sa,!1,null,null,null),la=ra.exports,da={name:"GerenciamentoSpreadsheet",components:{PageTitle:we,Vigilante1Page:wt,Vigilante2Page:Pt,Vigilante3Page:jt,Vigilante4Page:Gt,RespostasPage:Wt,EscalasPage:aa,StatusAtendimentosPage:la}},ca=da,ua=Object(C["a"])(ca,_t,It,!1,null,null,null),ma=ua.exports,fa=function(){var e=this,t=e.$createElement,a=e._self._c||t;return e.unidade?a("div",{staticClass:"listaIdosos"},[a("Breadcrumb",{attrs:{path:[{text:"Dashboard",url:"/"},{text:"Meus idosos"}]}}),a("h5",[e._v(e._s(e.unidade.nome))]),a("h1",[e._v("Meus Idosos")]),a("b-tabs",{attrs:{"content-class":"mt-3"},on:{"activate-tab":e.tabActivated},model:{value:e.tabIndex,callback:function(t){e.tabIndex=t},expression:"tabIndex"}},[a("b-tab",{attrs:{title:"Com escalas",lazy:""}},[a("TableIdosos",{attrs:{unidadeId:e.user.unidadeId,userId:e.user.id,filter:"com-escalas",orderBy:"VIGILANTE"==e.user.role?"proximo-atendimento":"score"}})],1),a("b-tab",{attrs:{title:"Sem escalas",lazy:""}},[a("TableIdosos",{attrs:{unidadeId:e.user.unidadeId,userId:e.user.id,filter:"sem-escalas",orderBy:"VIGILANTE"==e.user.role?"proximo-atendimento":"score"}})],1),a("b-tab",{attrs:{title:"Todos",lazy:""}},[a("TableIdosos",{attrs:{unidadeId:e.user.unidadeId,userId:e.user.id,filter:"all",orderBy:"VIGILANTE"==e.user.role?"proximo-atendimento":"score"}})],1)],1)],1):e._e()},pa=[],ba=(a("c740"),a("ac1f"),a("5319"),a("841c"),function(){var e=this,t=e.$createElement,a=e._self._c||t;return a("div",{staticClass:"tableIdosos"},[a("b-row",{staticClass:"mb-3",attrs:{"align-h":"end","align-v":"end"}},[a("b-col",{staticClass:"text-right text-muted",attrs:{cols:"2"}},[e._v(" "+e._s(e.tableInfo.totalRows)+" resultados ")]),a("b-col",{attrs:{cols:"2"}},[e._v(" ordenar por "),a("b-form-select",{attrs:{size:"sm",options:e.sortOptions},on:{change:function(t){return e.loadIdosos(0)}},model:{value:e.order,callback:function(t){e.order=t},expression:"order"}})],1)],1),a("b-table",{attrs:{items:e.idosos,fields:e.fields,"primary-key":"_id",busy:e.carregando,"show-empty":""},scopedSlots:e._u([{key:"table-busy",fn:function(){return[a("div",{staticClass:"text-center text-primary my-2"},[a("b-spinner",{staticClass:"align-middle"}),a("strong",[e._v(" Carregando...")])],1)]},proxy:!0},{key:"empty",fn:function(){return[a("div",{staticClass:"text-center text-muted"},[e._v("Não há registros")])]},proxy:!0},{key:"cell(col-1)",fn:function(t){return[a("div",[a("router-link",{attrs:{to:"/unidades/"+t.item.unidadeId+"/idosos/"+t.item._id}},[e._v(e._s(t.item.nome))])],1),t.item.estatisticas&&t.item.estatisticas.ultimaEscala?a("div",{staticClass:"badges"},[t.item.estatisticas.ultimaEscala.vulnerabilidade?a("popper",{attrs:{trigger:"hover",options:{placement:"top"}}},[a("div",{staticClass:"popper"},[e._v(" Escala de Vulnerabilidade ")]),a("span",{attrs:{slot:"reference"},slot:"reference"},[a("Badge",{attrs:{value:t.item.estatisticas.ultimaEscala.vulnerabilidade}})],1)]):e._e(),t.item.estatisticas.ultimaEscala.epidemiologica?a("popper",{attrs:{trigger:"hover",options:{placement:"top"}}},[a("div",{staticClass:"popper"},[e._v(" Escala Epidemiológica ")]),a("span",{attrs:{slot:"reference"},slot:"reference"},[a("Badge",{attrs:{value:t.item.estatisticas.ultimaEscala.epidemiologica}})],1)]):e._e(),t.item.estatisticas.ultimaEscala.riscoContagio?a("popper",{attrs:{trigger:"hover",options:{placement:"top"}}},[a("div",{staticClass:"popper"},[e._v(" Risco de Contágio por COVID-19 ")]),a("span",{attrs:{slot:"reference"},slot:"reference"},[a("Badge",{attrs:{value:t.item.estatisticas.ultimaEscala.riscoContagio}})],1)]):e._e()],1):e._e()]}},{key:"cell(col-2)",fn:function(t){return[a("div",{staticClass:"group-col"},[a("section",[a("div",{staticClass:"statusAtendimentos"},[a("span",[a("popper",{attrs:{trigger:"hover",options:{placement:"top",modifiers:{offset:{offset:"0,10px"}}}}},[a("div",{staticClass:"popper"},[e._v(" Atendimentos efetuados / total de tentativas ")]),a("span",{attrs:{slot:"reference"},slot:"reference"},[a("font-awesome-icon",{attrs:{icon:["fas","headset"]}}),e._v(" "+e._s(t.item.estatisticas?t.item.estatisticas.count.qtdAtendimentosEfetuados:0)+"/"+e._s(t.item.estatisticas?t.item.estatisticas.count.qtdTotal:0)+" ")],1)])],1),t.item.estatisticas&&t.item.estatisticas.ultimoAtendimento?a("span",{staticClass:"statusUltimoAtendimento",class:{atendido:t.item.estatisticas.ultimoAtendimento.efetuado}},[a("popper",{attrs:{trigger:"hover",options:{placement:"top",modifiers:{offset:{offset:"0,10px"}}}}},[a("div",{staticClass:"popper"},[e._v(" Último atendimento: "),t.item.estatisticas.ultimoAtendimento.efetuado?a("span",[e._v("Ligação atendida")]):e._e(),t.item.estatisticas.ultimoAtendimento.efetuado?e._e():a("span",[e._v("Não atendeu a ligação")])]),a("span",{attrs:{slot:"reference"},slot:"reference"},[a("span",{directives:[{name:"show",rawName:"v-show",value:t.item.estatisticas.ultimoAtendimento.efetuado,expression:"data.item.estatisticas.ultimoAtendimento.efetuado"}]},[a("font-awesome-icon",{attrs:{icon:["far","check-circle"]}})],1),a("span",{directives:[{name:"show",rawName:"v-show",value:!t.item.estatisticas.ultimoAtendimento.efetuado,expression:"!data.item.estatisticas.ultimoAtendimento.efetuado"}]},[a("font-awesome-icon",{attrs:{icon:["far","times-circle"]}})],1),e._v(" "+e._s(e.formatDate(t.item.estatisticas.ultimoAtendimento.timestamp))+" ")])])],1):e._e(),a("span",{directives:[{name:"show",rawName:"v-show",value:!t.item.estatisticas||!t.item.estatisticas.ultimoAtendimento,expression:"!data.item.estatisticas || !data.item.estatisticas.ultimoAtendimento"}],staticClass:"statusUltimoAtendimento atencao"},[a("popper",{attrs:{trigger:"hover",options:{placement:"top",modifiers:{offset:{offset:"0,10px"}}}}},[a("div",{staticClass:"popper"},[e._v(" Último atendimento: não há registros ")]),a("span",{attrs:{slot:"reference"},slot:"reference"},[a("font-awesome-icon",{attrs:{icon:["fas","exclamation-circle"]}}),e._v(" pendente ")],1)])],1),t.item.estatisticas&&t.item.estatisticas.ultimaEscala&&t.item.estatisticas.ultimaEscala.dataProximoAtendimento?a("span",{staticClass:"dataProximoAtendimento"},[a("popper",{attrs:{trigger:"hover",options:{placement:"top",modifiers:{offset:{offset:"0,10px"}}}}},[a("div",{staticClass:"popper"},[e._v(" Sugestão de próximo atendimento ")]),a("span",{attrs:{slot:"reference"},slot:"reference"},[a("font-awesome-icon",{attrs:{icon:["far","clock"]}}),e._v(" "+e._s(e.formatDate(t.item.estatisticas.ultimaEscala.dataProximoAtendimento))+" ")],1)])],1):a("span",[a("popper",{attrs:{trigger:"hover",options:{placement:"top",modifiers:{offset:{offset:"0,10px"}}}}},[a("div",{staticClass:"popper"},[e._v(" Sugestão de próximo atendimento ")]),a("span",{attrs:{slot:"reference"},slot:"reference"},[a("font-awesome-icon",{attrs:{icon:["far","clock"]}}),e._v(" Não definido ")],1)])],1)]),a("div",[e._v(" Telefones: "+e._s(t.item.telefone1)+" "+e._s(t.item.telefone2)+" ")])]),a("div",{staticClass:"table-actions ml-2"},[a("a",{staticClass:"btn btn-light",attrs:{target:"_blank",title:"Novo atendimento",href:e.novoAtendimentoURL(t.item,e.user)}},[a("font-awesome-icon",{attrs:{icon:["fas","comment-medical"]}})],1)]),"ADMINISTRADOR"==e.user.role?a("div",{staticClass:"table-actions ml-2"},[a("b-dropdown",{attrs:{right:"","no-caret":"",variant:"light",title:"Opções"},scopedSlots:e._u([{key:"button-content",fn:function(){return[a("font-awesome-icon",{attrs:{icon:["fas","ellipsis-v"]}})]},proxy:!0}],null,!0)},[a("b-dropdown-item",{attrs:{href:"/unidades/"+e.unidadeId+"/cadastrarIdoso?id="+t.item._id}},[e._v("Editar")]),a("b-dropdown-item",{on:{click:function(a){return e.deleteIdoso(t.item._id)}}},[e._v("Excluir")])],1)],1):e._e()])]}}])}),a("div",{staticClass:"pagination"},[a("b-button-group",[a("button",{staticClass:"prev btn btn-light",attrs:{disabled:0==e.tableInfo.currentPage},on:{click:function(t){return e.loadIdosos(e.tableInfo.currentPage-1)}}},[e._v("<")]),e._l(Math.ceil(e.tableInfo.totalRows/e.tableInfo.rowsPerPage),(function(t){return a("button",{key:t,staticClass:"btn btn-light",class:{current:t==e.tableInfo.currentPage+1},on:{click:function(a){return e.loadIdosos(t-1)}}},[e._v(e._s(t)+" ")])})),a("button",{staticClass:"next btn btn-light",attrs:{disabled:e.tableInfo.currentPage+1>=Math.ceil(e.tableInfo.totalRows/e.tableInfo.rowsPerPage)},on:{click:function(t){return e.loadIdosos(e.tableInfo.currentPage+1)}}},[e._v(">")])],2)],1)],1)}),va=[],ga=(a("25f0"),function(){var e=this,t=e.$createElement,a=e._self._c||t;return a("div",{staticClass:"badge",class:e.color},[e._v(" "+e._s(e.value)+" ")])}),ha=[],_a={name:"Badge",props:["value"],computed:{color:function(){switch(this.value){case"baixo":case"Baixo":return"green";case"médio":case"Médio":return"yellow";case"alto":case"Alto":return"red";case"0 - Sem vulnerabilidades":case"O - Sem Vulnerabilidade":return"blue";case"A - vulnerabilidade financeira":case"A - Vulnerabilidade Financeira":case"B - vulnerabilidade alimentar":case"B - Vulnerabilidade Alimentar":return"yellow";case"C - Situação de violência":case"C - situação de violência":return"red";case"Ia - Assintomático, mora com assintomáticos":case"Ib - Assintomático, mas vive sozinho":return"blue";case"IIa - Assintomático, mas sai de casa":case"IIb - Assintomático, mas recebe visitas ou domiciliares saem":case"IIIa - Assintomático, mas com comorbidades":return"green";case"IIIb - Assintomático, mas tem contato com sintomáticos ou confirmados":case"IVa - Assintomático, mas sem medicações":return"yellow";case"IVb - Idoso sintomático":return"red";case"0 - Não atendeu à ligação":default:return"gray"}}}},Ia=_a,xa=(a("d49b"),Object(C["a"])(Ia,ga,ha,!1,null,null,null)),ya=xa.exports,ka=a("526e"),Aa=a.n(ka),Ca=(a("a101"),{name:"TableIdosos",props:["unidadeId","userId","filter","orderBy"],components:{Badge:ya,popper:Aa.a},computed:Object(v["b"])(["pageParamsMap","user"]),data:function(){return{carregando:!0,unidade:null,order:this.orderBy,sortOptions:[{value:"nome",text:"Nome"},{value:"proximo-atendimento",text:"Próximo atendimento"},{value:"score",text:"Score"},{value:"ultimo-atendimento",text:"Último atendimento"}],tableInfo:{totalRows:0,currentPage:0,rowsPerPage:25},idosos:[],fields:[{key:"estatisticas.ultimaEscala.scoreOrdenacao",label:"Score"},{key:"col-1",label:"Idoso"},{key:"col-2",label:" "}]}},methods:{novoAtendimentoURL:f,formatDate:b,loadIdosos:function(e){var t,a=this;this.carregando=!0,this.$store.commit("setPageParamsMap",{userId:this.userId,filter:this.filter,order:this.order,page:e,rowsPerPage:this.tableInfo.rowsPerPage}),t="".concat(u,"/v2/unidades/").concat(this.unidadeId,"/usuarios/").concat(this.userId,"/idosos?filter=").concat(this.filter,"&sort=").concat(this.order,"&page=").concat(e,"&rowsPerPage=").concat(this.tableInfo.rowsPerPage),console.log(t),l.a.get(t).then((function(e){a.tableInfo=e.data.info,a.idosos=e.data.data,a.carregando=!1,console.log(e.data)})).catch((function(e){console.error(e),m(e)}))},deleteIdoso:function(e){var t=this;this.$bvModal.msgBoxConfirm("Deseja realmente excluir o idoso? Todos os dados serão perdidos!",{okVariant:"danger",okTitle:"excluir",cancelTitle:"cancelar"}).then((function(a){if(console.log(a),!0===a){var o="".concat(u,"/v2/idosos/").concat(e);console.log(o),l.a.delete(o).then((function(e){console.log(e),t.$toasted.global.defaultSuccess({msg:"Idoso removido com sucesso"}),t.loadIdosos()})).catch(m)}})).catch((function(e){console.error(e.toString())}))}},mounted:function(){var e=this,t=0,a=this.$store.state.pageParamsMap.get(this.userId);if(a){var o=a.find((function(t){return t.filter==e.filter}));o&&(this.order=o.order,this.tableInfo.rowsPerPage=o.rowsPerPage,this.tableInfo.currentPage=o.page,t=o.page)}this.loadIdosos(t)}}),wa=Ca,Ea=(a("e526"),Object(C["a"])(wa,ba,va,!1,null,null,null)),Oa=Ea.exports,Sa={name:"VigilanteHome",components:{TableIdosos:Oa,Breadcrumb:Pe},computed:Object(v["b"])(["user","syncStatus"]),data:function(){return{carregando:!0,unidade:null,tabIndex:0,tabs:["com-escalas","sem-escalas","todos"]}},methods:{loadUnidade:function(){var e=this,t="".concat(u,"/v2/unidades/").concat(this.user.unidadeId);console.log(t),l.a.get(t).then((function(t){e.unidade=t.data,console.log(e.unidade)})).catch(m)},formatDate:function(e){return new Date(e).toLocaleString()},manualSync:function(){console.log("emit softSyncEvent"),"VIGILANTE"===this.user.role?this.$socket.emit("softSyncEvent",{idUnidade:this.user.unidadeId,nomeVigilante:this.user.name}):this.$socket.emit("softSyncEvent",{idUnidade:this.user.unidadeId})},tabActivated:function(e,t,a){console.log("tab activated",e,t,a),console.log(location.search);var o=this.$route.params;o.tab=this.tabs[e],this.$router.replace({name:this.$route.name,params:o})}},mounted:function(){var e=this;this.tabIndex=this.tabs.findIndex((function(t){return t===e.$route.params.tab})),this.loadUnidade()}},Ua=Sa,$a=(a("905f"),Object(C["a"])(Ua,fa,pa,!1,null,null,null)),Pa=$a.exports,Va=function(){var e=this,t=e.$createElement,a=e._self._c||t;return a("div",{staticClass:"unidades"},[a("Breadcrumb",{attrs:{path:[{text:"Dashboard",url:"/"},{text:"Unidades"}]}}),a("div",{staticClass:"row mb-3"},[e._m(0),a("div",{staticClass:"col text-right"},[a("b-dropdown",{staticClass:"pull-right",attrs:{id:"dropdown-1",text:"Adicionar",variant:"primary",right:""}},[a("b-dropdown-item",{attrs:{href:"/adicionarUnidade"}},[a("strong",[e._v("Adicionar unidade")]),a("p",[e._v("Crie uma nova unidade do zero")])]),a("b-dropdown-item",{attrs:{href:"/migrarUnidade"}},[a("strong",[e._v("Importar unidade")]),a("p",[e._v("Importe uma unidade a partir de uma planilha do google sheets")])])],1)],1)]),a("ul",{staticClass:"grid-list row"},e._l(e.unidades,(function(t){return a("li",{key:t._id,staticClass:"col-sm-6 col-md-4 col-lg-3"},[a("router-link",{staticClass:"item",attrs:{to:"/unidades/"+t._id,title:"clique para ver detalhes"}},[a("h2",[e._v(e._s(t.nome))]),a("p",[e._v("Distrito "+e._s(t.distrito))])])],1)})),0)],1)},Na=[function(){var e=this,t=e.$createElement,a=e._self._c||t;return a("div",{staticClass:"col"},[a("h1",[e._v("Unidades")])])}],Da={name:"Unidades",components:{Breadcrumb:Pe},data:function(){return{unidades:[]}},methods:{loadUnidades:function(){var e=this,t="".concat(u,"/v2/unidades");console.log(t),l.a.get(t).then((function(t){e.unidades=t.data,console.log(e.unidades)})).catch(m)},formatDate:function(e){return new Date(e).toLocaleString()}},mounted:function(){this.loadUnidades()}},Ta=Da,Ra=(a("6f17"),Object(C["a"])(Ta,Va,Na,!1,null,null,null)),ja=Ra.exports,Ma=function(){var e=this,t=e.$createElement,a=e._self._c||t;return e.unidade?a("div",{staticClass:"unidades"},[a("Breadcrumb",{attrs:{path:[{text:"Dashboard",url:"/"},{text:"Unidades",url:"/unidades"},{text:e.unidade.nome}]}}),a("header",{staticClass:"header-page"},[a("h1",[e._v(e._s(e.unidade.nome))]),a("p",[e._v("Distrito "+e._s(e.unidade.distrito))]),a("router-link",{staticClass:"btn btn-outline-primary",attrs:{to:"/adicionarUnidade?id="+e.unidade._id}},[e._v(" editar ")]),a("b-button",{staticClass:"btn btn-danger ml-2",on:{click:function(t){return e.confirmDeletion(e.unidade._id)}}},[e._v("excluir")]),e.loading?a("div",[e._v("carregando...")]):e._e()],1),a("div",{staticClass:"container"},[a("div",{staticClass:"card mb-4"},[a("div",{staticClass:"card-body"},[a("h5",{staticClass:"card-title mb-4"},[e._v(" Idosos ")]),a("router-link",{attrs:{to:"/unidades/"+e.unidade._id+"/usuarios/"+e.user.id+"/idosos/all"}},[e._v("Ver todos")])],1)]),a("div",{staticClass:"card mb-4"},[a("div",{staticClass:"card-body"},[a("h5",{staticClass:"card-title"},[e._v(" Usuários "),a("router-link",{staticClass:"btn btn-primary float-right mb-3",attrs:{to:"/unidades/"+e.unidade._id+"/addUsuario"}},[e._v("convidar")])],1),a("b-table",{attrs:{items:e.usuarios,fields:e.fieldsUsuarios},scopedSlots:e._u([{key:"cell(link)",fn:function(t){return[a("router-link",{attrs:{to:"/unidades/"+e.unidade._id+"/usuarios/"+t.item._id+"/idosos/com-escalas"}},[e._v(e._s(t.item.name))])]}},{key:"cell(status)",fn:function(t){return["INCOMPLETO"==t.item.status?a("span",[e._v(" INCOMPLETO "),a("button",{staticClass:"btn btn-outline-primary",on:{click:function(a){return e.openModalCompletarCadastroUsuario(t.item)}}},[e._v("Completar")])]):"CONVIDADO"==t.item.status?a("span",[e._v(" CONVITE ENVIADO "),a("button",{staticClass:"btn btn-outline-primary",on:{click:function(a){return e.resendInvite(t.item._id)}}},[e._v("reenviar")])]):a("span",[a("b-form-checkbox",{attrs:{value:"ATIVO","unchecked-value":"INATIVO",name:"check-button",switch:"",disabled:t.item._id==e.user.id},on:{change:function(a){return e.toggleAtivo(t.item)}},model:{value:t.item.status,callback:function(a){e.$set(t.item,"status",a)},expression:"data.item.status"}})],1)]}},{key:"cell(acoes)",fn:function(t){return[a("b-button",{staticClass:"btn btn-danger ml-2",attrs:{disabled:t.item._id==e.user.id},on:{click:function(a){return e.deleteUsuario(t.item._id)}}},[e._v("excluir")])]}}],null,!1,2160739336)})],1)])]),a("b-modal",{attrs:{id:"modal-completar-cadastro-usuario",title:"Completar cadastro"},on:{hidden:e.modalCompletarCadastroUsuarioReset,ok:e.modalCompletarCadastroUsuarioHandleOk}},[a("form",{ref:"form",on:{submit:function(t){return t.stopPropagation(),t.preventDefault(),e.modalCompletarCadastroUsuarioHandleSubmit(t)}}},[e._v(" "+e._s(e.completarCadastroUsuario.id)+" "),a("b-form-group",{attrs:{label:"Nome","label-for":"nome-input"}},[a("b-form-input",{attrs:{id:"nome-input",disabled:""},model:{value:e.completarCadastroUsuario.nome,callback:function(t){e.$set(e.completarCadastroUsuario,"nome",t)},expression:"completarCadastroUsuario.nome"}})],1),a("b-form-group",{attrs:{label:"E-mail","label-for":"email-input",state:e.completarCadastroUsuario.emailState,"invalid-feedback":e.completarCadastroUsuario.emailInvalidFeedback||"Email inválido"}},[a("b-form-input",{attrs:{id:"email-input",type:"email",required:"",state:e.completarCadastroUsuario.emailState},model:{value:e.completarCadastroUsuario.email,callback:function(t){e.$set(e.completarCadastroUsuario,"email",t)},expression:"completarCadastroUsuario.email"}})],1)],1)])],1):e._e()},qa=[],La={name:"Unidade",components:{Breadcrumb:Pe},data:function(){return{unidade:null,loading:!1,usuarios:[],fieldsUsuarios:[{key:"link",label:"nome"},{key:"email",label:"email"},{key:"role",label:"tipo"},{key:"status",label:"status"},{key:"acoes",label:"ações"}],completarCadastroUsuario:{nome:"",id:"",email:"",emailState:null,emailInvalidFeedback:""}}},computed:Object(v["b"])(["syncStatus","user"]),methods:{loadUnidade:function(){var e=this,t="".concat(u,"/v2/unidades/").concat(this.$route.params.id);console.log(t),l.a.get(t).then((function(t){e.unidade=t.data,console.log(e.unidade)})).catch(m)},loadUsuarios:function(){var e=this,t="".concat(u,"/v2/unidades/").concat(this.$route.params.id,"/usuarios");console.log(t),l.a.get(t).then((function(t){e.usuarios=t.data,console.log(e.usuarios)})).catch(m)},formatDate:function(e){return new Date(e).toLocaleString()},toggleSync:function(e){var t=this;this.loading=!0,this.$store.commit("setIsLoadingApp",!0);var a="".concat(u,"/unidades/").concat(this.$route.params.id,"/autosync/").concat(e);console.log(a),l.a.get(a).then((function(e){console.log(e),t.$router.go()})).catch((function(e){console.log(e),t.loading=!1,t.$store.commit("setIsLoadingApp",!1),m(e)}))},manualSync:function(){console.log("emit syncEvent"),this.$socket.emit("syncEvent",{idUnidade:this.unidade._id})},manualReset:function(){console.log("emit resetEvent"),this.$socket.emit("resetEvent",{idUnidade:this.unidade._id})},resendInvite:function(e){var t=this,a="".concat(u,"/v2/usuarios/resendInvitation/").concat(e);console.log(a),l.a.post(a).then((function(e){console.log(e),t.$toasted.global.defaultSuccess({msg:e.data})})).catch(m)},modalCompletarCadastroUsuarioReset:function(){this.completarCadastroUsuario.id="",this.completarCadastroUsuario.nome="",this.completarCadastroUsuario.email="",this.completarCadastroUsuario.emailState=null},openModalCompletarCadastroUsuario:function(e){this.completarCadastroUsuario.id=e._id,this.completarCadastroUsuario.nome=e.name,this.completarCadastroUsuario.email=e.email,this.$bvModal.show("modal-completar-cadastro-usuario")},modalCompletarCadastroUsuarioHandleSubmit:function(){var e=this;if(this.completarCadastroUsuario.emailState=this.$refs.form.checkValidity(),this.completarCadastroUsuario.emailState){var t="".concat(u,"/v2/usuarios/").concat(this.completarCadastroUsuario.id,"/completar");console.log(t),l.a.post(t,{email:this.completarCadastroUsuario.email}).then((function(t){e.$toasted.global.defaultSuccess({msg:t.data}),e.loadUsuarios(),e.$nextTick((function(){e.$bvModal.hide("modal-completar-cadastro-usuario")}))})).catch((function(t){t&&t.response&&t.response.data?(e.completarCadastroUsuario.emailState=!1,e.completarCadastroUsuario.emailInvalidFeedback=t.response.data):m(t)}))}},modalCompletarCadastroUsuarioHandleOk:function(e){e.preventDefault(),this.modalCompletarCadastroUsuarioHandleSubmit()},toggleAtivo:function(e){var t=this,a="".concat(u,"/v2/usuarios/").concat(e._id,"/status/").concat("ATIVO"==e.status?"INATIVO":"INATIVO"==e.status?"ATIVO":e.status);console.log(a),l.a.post(a).then((function(e){t.$toasted.global.defaultSuccess({msg:e.data})})).catch((function(t){e.status="ATIVO"==e.status?"INATIVO":"INATIVO"==e.status?"ATIVO":e.status,m(t)}))},deleteUsuario:function(e){var t=this;this.$bvModal.msgBoxConfirm("Deseja realmente excluir o usuário? Todos os dados serão perdidos!",{okVariant:"danger",okTitle:"excluir",cancelTitle:"cancelar"}).then((function(a){if(console.log(a),!0===a){var o="".concat(u,"/v2/usuarios/").concat(e);console.log(o),l.a.delete(o).then((function(e){console.log(e),t.$toasted.global.defaultSuccess({msg:"Usuário removido com sucesso"}),t.loadUsuarios()})).catch(m)}})).catch((function(e){console.error(e.toString())}))},confirmDeletion:function(e){var t=this;this.$bvModal.msgBoxConfirm("Deseja realmente excluir a unidade? Todos os dados serão perdidos!",{okVariant:"danger",okTitle:"excluir",cancelTitle:"cancelar"}).then((function(a){if(console.log(a),!0===a){var o="".concat(u,"/v2/unidades/").concat(e);console.log(o),l.a.delete(o).then((function(e){console.log(e),t.$router.push({name:"unidades"}),t.$toasted.global.defaultSuccess({msg:"Unidade removida com sucesso"})})).catch(m)}})).catch((function(e){console.error(e.toString())}))}},sockets:{connect:function(){console.log("socket connected")}},mounted:function(){this.loadUnidade(),this.loadUsuarios()}},Ba=La,Fa=(a("6e60"),Object(C["a"])(Ba,Ma,qa,!1,null,null,null)),Ga=Fa.exports,Ya=function(){var e=this,t=e.$createElement,a=e._self._c||t;return a("div",{staticClass:"adicionarUnidade"},[a("Breadcrumb",{attrs:{path:[{text:"Dashboard",url:"/"},{text:"Unidades",url:"/unidades"},{text:"Adicionar Unidade"}]}}),a("h1",[e._v("Adicionar/Editar Unidade")]),a("b-form",{on:{submit:e.onSubmit}},[a("b-form-group",{attrs:{id:"input-group-nome",label:"Nome:","label-for":"nome"}},[a("b-form-input",{attrs:{id:"nome",type:"text",required:"",placeholder:"Nome da unidade"},model:{value:e.form.nome,callback:function(t){e.$set(e.form,"nome",t)},expression:"form.nome"}})],1),a("b-form-group",{attrs:{id:"input-group-distrito",label:"Distrito:","label-for":"distrito"}},[a("b-form-select",{attrs:{id:"distrito",options:e.distritos,required:""},model:{value:e.form.distrito,callback:function(t){e.$set(e.form,"distrito",t)},expression:"form.distrito"}})],1),a("b-button",{attrs:{type:"submit",variant:"primary"}},[e._v("Salvar")])],1)],1)},Ka=[],Ha={name:"AdicionarUnidade",components:{Breadcrumb:Pe},data:function(){return{form:{nome:"",distrito:null,status:"ATIVO",_isDeleted:!1},distritos:[{text:"Selecione...",value:null},"Norte I","Norte II","Sul","Leste","Oeste"]}},methods:{onSubmit:function(e){var t=this;e.preventDefault(),console.log(JSON.stringify(this.form));var a="".concat(u,"/v2/unidades");console.log(a),l.a.post(a,this.form).then((function(e){t.$router.push({name:"unidade",params:{id:e.data}}),t.$toasted.global.defaultSuccess()})).catch(m)}},mounted:function(){var e=this;if(this.$route.query.id){var t="".concat(u,"/v2/unidades/").concat(this.$route.query.id);l.a.get(t).then((function(t){e.form=t.data})).catch(m)}}},za=Ha,Ja=Object(C["a"])(za,Ya,Ka,!1,null,null,null),Wa=Ja.exports,Xa=function(){var e=this,t=e.$createElement,a=e._self._c||t;return a("div",{staticClass:"adicionarUnidade"},[a("Breadcrumb",{attrs:{path:[{text:"Dashboard",url:"/"},{text:"Unidades",url:"/unidades"},{text:"Importar unidade"}]}}),a("h1",[e._v("Importar unidade")]),a("b-alert",{attrs:{show:"",variant:"warning"}},[a("h4",{staticClass:"alert-heading"},[e._v("Atenção")]),e._v(" Antes de tudo, você deve compartilhar as planilhas com o email "),a("code",[e._v("autobot@frente-prevencao-covid-19-rn.iam.gserviceaccount.com")]),e._v(" para que a sincronização dos dados possa ser efetuada. ")]),a("b-form",{on:{submit:e.onSubmit}},[a("b-form-group",{attrs:{id:"input-group-nome",label:"Nome:","label-for":"nome"}},[a("b-form-input",{attrs:{id:"nome",type:"text",required:"",placeholder:"Nome da unidade"},model:{value:e.form.nome,callback:function(t){e.$set(e.form,"nome",t)},expression:"form.nome"}})],1),a("b-form-group",{attrs:{id:"input-group-distrito",label:"Distrito:","label-for":"distrito"}},[a("b-form-select",{attrs:{id:"distrito",options:e.distritos,required:""},model:{value:e.form.distrito,callback:function(t){e.$set(e.form,"distrito",t)},expression:"form.distrito"}})],1),a("b-form-group",{attrs:{id:"input-group-planilhaIdosos",label:"Planilha de idosos:","label-for":"planilhaIdosos"}},[a("b-form-input",{attrs:{id:"planilhaIdosos",type:"text",required:"",placeholder:"Link para planilha de idosos"},model:{value:e.form.planilhaIdosos,callback:function(t){e.$set(e.form,"planilhaIdosos",t)},expression:"form.planilhaIdosos"}})],1),a("b-form-group",{attrs:{id:"input-group-planilhaGerenciamento",label:"Planilha de gerenciamento:","label-for":"planilhaGerenciamento"}},[a("b-form-input",{attrs:{id:"planilhaGerenciamento",type:"text",required:"",placeholder:"Link para planilha de gerenciamento"},model:{value:e.form.planilhaGerenciamento,callback:function(t){e.$set(e.form,"planilhaGerenciamento",t)},expression:"form.planilhaGerenciamento"}})],1),a("b-form-group",{attrs:{id:"input-group-fichaVigilancia",label:"Ficha de vigilância:","label-for":"fichaVigilancia"}},[a("b-form-input",{attrs:{id:"fichaVigilancia",type:"text",required:"",placeholder:"Link para ficha de vigilância"},model:{value:e.form.fichaVigilancia,callback:function(t){e.$set(e.form,"fichaVigilancia",t)},expression:"form.fichaVigilancia"}})],1),a("b-button",{attrs:{type:"submit",variant:"primary"}},[e._v("Importar")])],1)],1)},Qa=[],Za={name:"MigrarUnidade",components:{Breadcrumb:Pe},data:function(){return{form:{nome:"",distrito:null,_isDeleted:!1,status:"ATIVO",planilhaIdosos:"",planilhaGerenciamento:"",fichaVigilancia:""},distritos:[{text:"Selecione...",value:null},"Norte I","Norte II","Sul","Leste","Oeste"]}},methods:{onSubmit:function(e){var t=this;e.preventDefault(),console.log(JSON.stringify(this.form));var a="".concat(u,"/v2/migracao/unidades");console.log(a),l.a.post(a,this.form).then((function(e){t.$router.push({name:"unidade",params:{id:e.data}}),t.$toasted.global.defaultSuccess()})).catch(m)}},mounted:function(){}},eo=Za,to=Object(C["a"])(eo,Xa,Qa,!1,null,null,null),ao=to.exports,oo=function(){var e=this,t=e.$createElement,a=e._self._c||t;return a("div",{staticClass:"adicionarUsuario"},[a("Breadcrumb",{attrs:{path:[{text:"Dashboard",url:"/"},{text:"Unidades",url:"/unidades"},{text:"Convidar usuário"}]}}),a("h1",[e._v("Convidar Usuário")]),a("b-form",{on:{submit:e.onSubmit}},[a("b-form-group",{attrs:{id:"input-group-nome",label:"Nome:","label-for":"nome"}},[a("b-form-input",{attrs:{id:"nome",type:"text",required:"",placeholder:"Nome do usuário"},model:{value:e.form.name,callback:function(t){e.$set(e.form,"name",t)},expression:"form.name"}})],1),a("b-form-group",{attrs:{id:"input-group-email",label:"Email:","label-for":"email"}},[a("b-form-input",{attrs:{id:"email",type:"email",required:"",placeholder:"E-mail"},model:{value:e.form.email,callback:function(t){e.$set(e.form,"email",t)},expression:"form.email"}})],1),a("b-form-group",{attrs:{id:"input-group-permissao",label:"Permissão:","label-for":"permissao"}},[a("b-form-select",{attrs:{id:"permissao",options:e.permissoes,required:""},model:{value:e.form.role,callback:function(t){e.$set(e.form,"role",t)},expression:"form.role"}})],1),a("b-form-group",{attrs:{id:"input-group-unidade",label:"Unidade:","label-for":"unidade"}},[a("b-form-select",{attrs:{id:"unidade",options:e.unidades,required:""},model:{value:e.form.unidadeId,callback:function(t){e.$set(e.form,"unidadeId",t)},expression:"form.unidadeId"}})],1),a("b-button",{attrs:{type:"submit",variant:"primary"}},[e._v("Salvar")])],1)],1)},so=[],no=(a("d81d"),a("2909")),io={name:"ConvidarUsuario",components:{Breadcrumb:Pe},data:function(){return{form:{name:"",email:"",role:"VIGILANTE",unidadeId:this.$route.params.unidadeId,status:"CONVIDADO",_isDeleted:!1},permissoes:[{text:"Preceptor",value:"PRECEPTOR"},{text:"Vigilante",value:"VIGILANTE"}],unidades:[{text:this.$route.params.unidadeId,value:this.$route.params.unidadeId}]}},methods:{loadUnidades:function(){var e=this,t="".concat(u,"/v2/unidades");console.log(t),l.a.get(t).then((function(t){e.unidades=[{text:"Selecione...",value:""}].concat(Object(no["a"])(t.data.map((function(e){return{text:e.nome,value:e._id}}))))})).catch(m)},onSubmit:function(e){var t=this;e.preventDefault(),console.log(JSON.stringify(this.form));var a="".concat(u,"/v2/unidades/").concat(this.$route.params.unidadeId,"/usuarios");console.log(a),l.a.post(a,this.form).then((function(){t.$router.push({name:"unidade",params:{id:t.$route.params.unidadeId}}),t.$toasted.global.defaultSuccess()})).catch(m)}},mounted:function(){this.loadUnidades()}},ro=io,lo=Object(C["a"])(ro,oo,so,!1,null,null,null),co=lo.exports,uo=function(){var e=this,t=e.$createElement,a=e._self._c||t;return e.unidade?a("div",{staticClass:"idososPorVigilante"},[a("Breadcrumb",{attrs:{path:[{text:"Dashboard",url:"/"},{text:"Unidades",url:"/unidades"},{text:e.unidade.nome,url:"/unidades/"+e.unidade._id},{text:"Idosos"}]}}),a("h5",[e._v(e._s(e.unidade.nome))]),e.usuario?a("h1",[e._v("Idosos de "+e._s(e.usuario.name))]):e._e(),a("button",{staticClass:"btn btn-secondary mb-2",attrs:{disabled:"LOADING"===e.syncStatus.status},on:{click:e.manualSync}},[e._v("sincronizar agora")]),a("router-link",{staticClass:"btn btn-primary float-right",attrs:{to:"/unidades/"+e.unidade._id+"/cadastrarIdoso"}},[e._v("cadastrar")]),a("b-tabs",{attrs:{"content-class":"mt-3"},on:{"activate-tab":e.tabActivated},model:{value:e.tabIndex,callback:function(t){e.tabIndex=t},expression:"tabIndex"}},[a("b-tab",{attrs:{title:"Com escalas",lazy:""}},[a("TableIdosos",{attrs:{unidadeId:e.$route.params.unidadeId,userId:e.$route.params.usuarioId,filter:"com-escalas",orderBy:"score"}})],1),a("b-tab",{attrs:{title:"Sem escalas",lazy:""}},[a("TableIdosos",{attrs:{unidadeId:e.$route.params.unidadeId,userId:e.$route.params.usuarioId,filter:"sem-escalas",orderBy:"score"}})],1),a("b-tab",{attrs:{title:"Todos",lazy:""}},[a("TableIdosos",{attrs:{unidadeId:e.$route.params.unidadeId,userId:e.$route.params.usuarioId,filter:"all",orderBy:"score"}})],1)],1)],1):e._e()},mo=[],fo={name:"IdososPorVigilante",components:{TableIdosos:Oa,Breadcrumb:Pe},computed:Object(v["b"])(["syncStatus"]),data:function(){return{carregando:!0,unidade:null,usuario:null,tabIndex:0,tabs:["com-escalas","sem-escalas","todos"]}},methods:{formatDate:b,loadUnidade:function(){var e=this,t="".concat(u,"/v2/unidades/").concat(this.$route.params.unidadeId);console.log(t),l.a.get(t).then((function(t){e.unidade=t.data,console.log(e.unidade)})).catch(m)},loadUsuario:function(){var e=this,t="".concat(u,"/v2/names/usuarios/").concat(this.$route.params.usuarioId);console.log(t),l.a.get(t).then((function(t){e.usuario=t.data})).catch(m)},manualSync:function(){console.log("emit syncEvent"),this.$socket.emit("syncEvent",{idUnidade:this.$route.params.unidadeId})},tabActivated:function(e,t,a){console.log("tab activated",e,t,a),console.log(location.search);var o=this.$route.params;o.tab=this.tabs[e],this.$router.replace({name:this.$route.name,params:o})}},mounted:function(){var e=this;this.tabIndex=this.tabs.findIndex((function(t){return t===e.$route.params.tab})),this.loadUnidade(),this.loadUsuario()}},po=fo,bo=(a("ce8d"),Object(C["a"])(po,uo,mo,!1,null,null,null)),vo=bo.exports,go=function(){var e=this,t=e.$createElement,a=e._self._c||t;return a("div",{staticClass:"auth-content"},[a("div",{staticClass:"auth-modal"},[a("div",{staticClass:"auth-title"},[e._v("Login")]),a("input",{directives:[{name:"model",rawName:"v-model",value:e.user.email,expression:"user.email"}],attrs:{name:"email",placeholder:"E-mail",type:"email"},domProps:{value:e.user.email},on:{input:function(t){t.target.composing||e.$set(e.user,"email",t.target.value)}}}),a("input",{directives:[{name:"model",rawName:"v-model",value:e.user.password,expression:"user.password"}],attrs:{name:"password",placeholder:"Senha",type:"password"},domProps:{value:e.user.password},on:{input:function(t){t.target.composing||e.$set(e.user,"password",t.target.value)}}}),a("button",{on:{click:e.login}},[e._v("Entrar")]),a("router-link",{attrs:{to:"/forgot"}},[e._v("Esqueceu a senha?")])],1)])},ho=[],_o={name:"Auth",data:function(){return{user:{}}},methods:{login:function(){var e=this;l.a.post("".concat(u,"/v2/login"),this.user).then((function(t){e.$store.commit("setUser",t.data),localStorage.setItem(c,JSON.stringify(t.data)),e.$router.push({path:"/"})})).catch(m)}}},Io=_o,xo=(a("ee68"),Object(C["a"])(Io,go,ho,!1,null,null,null)),yo=xo.exports,ko=function(){var e=this,t=e.$createElement,a=e._self._c||t;return a("div",{staticClass:"auth-content"},[a("div",{staticClass:"auth-modal"},[a("div",{staticClass:"auth-title"},[e._v("Resetar senha")]),a("p",[e._v("Informe seu e-mail, caso ele esteja cadastrado, você receberá um e-mail com instruções para recuperar sua senha.")]),a("input",{directives:[{name:"model",rawName:"v-model",value:e.user.email,expression:"user.email"}],attrs:{name:"email",placeholder:"E-mail",type:"email"},domProps:{value:e.user.email},on:{input:function(t){t.target.composing||e.$set(e.user,"email",t.target.value)}}}),a("button",{on:{click:e.login}},[e._v("Enviar")])])])},Ao=[],Co={name:"ForgotPassword",data:function(){return{user:{}}},methods:{login:function(){var e=this;l.a.post("".concat(u,"/v2/forgotPassword"),this.user).then((function(t){e.$toasted.global.defaultSuccess({msg:t.data})})).catch(m)}}},wo=Co,Eo=(a("8e27"),Object(C["a"])(wo,ko,Ao,!1,null,null,null)),Oo=Eo.exports,So=function(){var e=this,t=e.$createElement,a=e._self._c||t;return a("div",{staticClass:"auth-content"},[a("div",{staticClass:"auth-modal"},[a("div",{staticClass:"auth-title"},[e._v("Alterar Senha")]),a("input",{directives:[{name:"model",rawName:"v-model",value:e.user.password,expression:"user.password"}],attrs:{name:"password",placeholder:"Nova Senha",type:"password",required:"true"},domProps:{value:e.user.password},on:{input:function(t){t.target.composing||e.$set(e.user,"password",t.target.value)}}}),a("input",{directives:[{name:"model",rawName:"v-model",value:e.user.confirmPassword,expression:"user.confirmPassword"}],attrs:{name:"confirmPassword",placeholder:"Repetir Senha",type:"password",required:"true"},domProps:{value:e.user.confirmPassword},on:{input:function(t){t.target.composing||e.$set(e.user,"confirmPassword",t.target.value)}}}),a("button",{on:{click:e.salvar}},[e._v("Salvar")])])])},Uo=[],$o={name:"ResetPassword",data:function(){return{user:{_id:this.$route.params.id,resetPasswordToken:this.$route.params.token}}},methods:{validateResetToken:function(){var e=this;return Object(i["a"])(regeneratorRuntime.mark((function t(){var a;return regeneratorRuntime.wrap((function(t){while(1)switch(t.prev=t.next){case 0:return t.next=2,l.a.post("".concat(u,"/v2/validateResetToken"),{_id:e.$route.params.id,token:e.$route.params.token});case 2:a=t.sent,!1===a.data&&m("token expirado");case 4:case"end":return t.stop()}}),t)})))()},salvar:function(){l.a.post("".concat(u,"/v2/resetPassword"),this.user).then((function(e){console.log(e.data),window.location.href=window.location.origin})).catch(m)}},mounted:function(){this.validateResetToken()}},Po=$o,Vo=(a("1157"),Object(C["a"])(Po,So,Uo,!1,null,null,null)),No=Vo.exports,Do=function(){var e=this,t=e.$createElement,a=e._self._c||t;return a("div",{staticClass:"auth-content"},[a("div",{staticClass:"auth-modal"},[a("div",{staticClass:"auth-title"},[e._v("Aceitar convite")]),a("p",[e._v("crie uma senha")]),a("input",{directives:[{name:"model",rawName:"v-model",value:e.user.password,expression:"user.password"}],attrs:{name:"password",placeholder:"Senha",type:"password",required:"true"},domProps:{value:e.user.password},on:{input:function(t){t.target.composing||e.$set(e.user,"password",t.target.value)}}}),a("input",{directives:[{name:"model",rawName:"v-model",value:e.user.confirmPassword,expression:"user.confirmPassword"}],attrs:{name:"confirmPassword",placeholder:"Repetir Senha",type:"password",required:"true"},domProps:{value:e.user.confirmPassword},on:{input:function(t){t.target.composing||e.$set(e.user,"confirmPassword",t.target.value)}}}),a("button",{on:{click:e.salvar}},[e._v("Salvar")])])])},To=[],Ro={name:"AcceptInvitation",data:function(){return{user:{_id:this.$route.params.id,invitationToken:this.$route.params.token}}},methods:{salvar:function(){l.a.post("".concat(u,"/v2/acceptInvite"),this.user).then((function(e){console.log(e.data),window.location.href=window.location.origin})).catch(m)}}},jo=Ro,Mo=(a("dcee"),Object(C["a"])(jo,Do,To,!1,null,null,null)),qo=Mo.exports,Lo=function(){var e=this,t=e.$createElement,a=e._self._c||t;return a("div",{staticClass:"administradores"},[a("Breadcrumb",{attrs:{path:[{text:"Dashboard",url:"/"},{text:"Administradores"}]}}),a("h1",[e._v("Administradores")]),a("div",{staticClass:"card mb-4"},[a("div",{staticClass:"card-body"},[a("h5",{staticClass:"card-title"},[e._v(" Usuários "),a("router-link",{staticClass:"btn btn-primary float-right mb-3",attrs:{to:"/administradores/addUsuario"}},[e._v("convidar")])],1),a("b-table",{attrs:{items:e.usuarios,fields:e.fieldsUsuarios},scopedSlots:e._u([{key:"cell(status)",fn:function(t){return["INCOMPLETO"==t.item.status?a("span",[e._v(" INCOMPLETO ")]):"CONVIDADO"==t.item.status?a("span",[e._v(" CONVITE ENVIADO "),a("button",{staticClass:"btn btn-outline-primary",on:{click:function(a){return e.resendInvite(t.item._id)}}},[e._v("reenviar")])]):a("span",[a("b-form-checkbox",{attrs:{value:"ATIVO","unchecked-value":"INATIVO",name:"check-button",switch:"",disabled:t.item._id==e.user.id},on:{change:function(a){return e.toggleAtivo(t.item)}},model:{value:t.item.status,callback:function(a){e.$set(t.item,"status",a)},expression:"data.item.status"}})],1)]}},{key:"cell(acoes)",fn:function(t){return[a("b-button",{staticClass:"btn btn-danger ml-2",attrs:{disabled:t.item._id==e.user.id},on:{click:function(a){return e.deleteUsuario(t.item._id)}}},[e._v("excluir")])]}}])})],1)])],1)},Bo=[],Fo={name:"Administradores",components:{Breadcrumb:Pe},data:function(){return{usuarios:[],fieldsUsuarios:[{key:"name",label:"nome"},{key:"email",label:"email"},{key:"status",label:"status"},{key:"acoes",label:"ações"}]}},computed:Object(v["b"])(["user"]),methods:{loadUsuarios:function(){var e=this,t="".concat(u,"/v2/administradores");console.log(t),l.a.get(t).then((function(t){e.usuarios=t.data,console.log(e.usuarios)})).catch(m)},resendInvite:function(e){var t=this,a="".concat(u,"/v2/usuarios/resendInvitation/").concat(e);console.log(a),l.a.post(a).then((function(e){console.log(e),t.$toasted.global.defaultSuccess({msg:e.data})})).catch(m)},toggleAtivo:function(e){var t=this,a="".concat(u,"/v2/usuarios/").concat(e._id,"/status/").concat("ATIVO"==e.status?"INATIVO":"INATIVO"==e.status?"ATIVO":e.status);console.log(a),l.a.post(a).then((function(e){t.$toasted.global.defaultSuccess({msg:e.data})})).catch((function(t){e.status="ATIVO"==e.status?"INATIVO":"INATIVO"==e.status?"ATIVO":e.status,m(t)}))},deleteUsuario:function(e){var t=this;this.$bvModal.msgBoxConfirm("Deseja realmente excluir o usuário? Todos os dados serão perdidos!",{okVariant:"danger",okTitle:"excluir",cancelTitle:"cancelar"}).then((function(a){if(console.log(a),!0===a){var o="".concat(u,"/v2/usuarios/").concat(e);console.log(o),l.a.delete(o).then((function(e){console.log(e),t.$toasted.global.defaultSuccess({msg:"Usuário removido com sucesso"}),t.loadUsuarios()})).catch(m)}})).catch((function(e){console.error(e.toString())}))}},mounted:function(){this.loadUsuarios()}},Go=Fo,Yo=Object(C["a"])(Go,Lo,Bo,!1,null,null,null),Ko=Yo.exports,Ho=function(){var e=this,t=e.$createElement,a=e._self._c||t;return a("div",{staticClass:"adicionarUsuario"},[a("Breadcrumb",{attrs:{path:[{text:"Dashboard",url:"/"},{text:"Administradores",url:"/administradores"},{text:"Convidar"}]}}),a("h1",[e._v("Convidar Administrador")]),a("b-form",{on:{submit:e.onSubmit}},[a("b-form-group",{attrs:{id:"input-group-nome",label:"Nome:","label-for":"nome"}},[a("b-form-input",{attrs:{id:"nome",type:"text",required:"",placeholder:"Nome"},model:{value:e.form.name,callback:function(t){e.$set(e.form,"name",t)},expression:"form.name"}})],1),a("b-form-group",{attrs:{id:"input-group-email",label:"Email:","label-for":"email"}},[a("b-form-input",{attrs:{id:"email",type:"email",required:"",placeholder:"E-mail"},model:{value:e.form.email,callback:function(t){e.$set(e.form,"email",t)},expression:"form.email"}})],1),a("b-button",{attrs:{type:"submit",variant:"primary"}},[e._v("Salvar")])],1)],1)},zo=[],Jo={name:"ConvidarUsuario",components:{Breadcrumb:Pe},data:function(){return{form:{name:"",email:"",role:"ADMINISTRADOR",status:"CONVIDADO",_isDeleted:!1}}},methods:{onSubmit:function(e){var t=this;e.preventDefault(),console.log(JSON.stringify(this.form));var a="".concat(u,"/v2/administradores");console.log(a),l.a.post(a,this.form).then((function(){t.$router.push({name:"administradores"}),t.$toasted.global.defaultSuccess()})).catch(m)}}},Wo=Jo,Xo=Object(C["a"])(Wo,Ho,zo,!1,null,null,null),Qo=Xo.exports,Zo=function(){var e=this,t=e.$createElement,a=e._self._c||t;return a("div",{staticClass:"adicionarIdoso"},[a("Breadcrumb",{attrs:{path:[{text:"Dashboard",url:"/"},{text:"Adicionar idoso"}]}}),a("h1",[e._v("Adicionar/Editar Idoso")]),a("b-form",{on:{submit:e.onSubmit}},[a("b-form-group",{attrs:{id:"input-group-nome",label:"Nome:","label-for":"nome"}},[a("b-form-input",{attrs:{id:"nome",type:"text",required:"",placeholder:"Nome do idoso"},model:{value:e.form.nome,callback:function(t){e.$set(e.form,"nome",t)},expression:"form.nome"}})],1),a("b-form-group",{attrs:{id:"input-group-nascimento",label:"Data de nascimento:","label-for":"nascimento"}},[a("b-form-input",{attrs:{id:"nascimento",type:"text",placeholder:"Data de nascimento"},model:{value:e.form.dataNascimento,callback:function(t){e.$set(e.form,"dataNascimento",t)},expression:"form.dataNascimento"}})],1),a("b-form-group",{attrs:{id:"input-group-telefone1",label:"Telefone 1:","label-for":"telefone1"}},[a("b-form-input",{attrs:{id:"telefone1",type:"text",placeholder:"Telefone 1"},model:{value:e.form.telefone1,callback:function(t){e.$set(e.form,"telefone1",t)},expression:"form.telefone1"}})],1),a("b-form-group",{attrs:{id:"input-group-telefone2",label:"Telefone 2:","label-for":"telefone2"}},[a("b-form-input",{attrs:{id:"telefone2",type:"text",placeholder:"Telefone 2"},model:{value:e.form.telefone2,callback:function(t){e.$set(e.form,"telefone2",t)},expression:"form.telefone2"}})],1),a("b-form-group",{attrs:{id:"input-group-agenteSaude",label:"Agente de saúde:","label-for":"agenteSaude"}},[a("b-form-input",{attrs:{id:"agenteSaude",type:"text",placeholder:"Agente de saúde"},model:{value:e.form.agenteSaude,callback:function(t){e.$set(e.form,"agenteSaude",t)},expression:"form.agenteSaude"}})],1),a("b-form-group",{attrs:{id:"input-group-anotacoes",label:"Anotações:","label-for":"anotacoes"}},[a("b-form-input",{attrs:{id:"anotacoes",type:"text",placeholder:"Anotações"},model:{value:e.form.anotacoes,callback:function(t){e.$set(e.form,"anotacoes",t)},expression:"form.anotacoes"}})],1),a("b-form-group",{attrs:{id:"input-group-unidade",label:"Unidade:","label-for":"unidade"}},[a("b-form-select",{attrs:{id:"unidade",options:e.unidades,required:""},on:{change:e.onChangeUnidadeSelect},model:{value:e.form.unidadeId,callback:function(t){e.$set(e.form,"unidadeId",t)},expression:"form.unidadeId"}})],1),a("b-form-group",{attrs:{id:"input-group-vigilante",label:"Vigilante:","label-for":"vigilante"}},[a("b-form-select",{attrs:{id:"vigilante",options:e.vigilantes},model:{value:e.form.vigilanteId,callback:function(t){e.$set(e.form,"vigilanteId",t)},expression:"form.vigilanteId"}})],1),a("b-button",{attrs:{type:"submit",variant:"primary"}},[e._v("Salvar")])],1)],1)},es=[],ts={name:"CadastrarIdoso",components:{Breadcrumb:Pe},data:function(){return{form:{nome:"",dataNascimento:"",telefone1:"",telefone2:"",agenteSaude:"",anotacoes:"",unidadeId:this.$route.params.unidadeId,vigilanteId:"",row:"",_isDeleted:!1},unidades:[{text:"Selecione...",value:""}],vigilantes:[{text:"Selecione",value:""}]}},methods:{loadUnidades:function(){var e=this,t="".concat(u,"/v2/unidades");console.log(t),l.a.get(t).then((function(t){e.unidades=[{text:"Selecione...",value:""}].concat(Object(no["a"])(t.data.map((function(e){return{text:e.nome,value:e._id}}))))})).catch(m)},loadVigilantes:function(e){var t=this,a="".concat(u,"/v2/unidades/").concat(e,"/vigilantes");console.log(a),l.a.get(a).then((function(e){t.vigilantes=[{text:"Selecione...",value:""}].concat(Object(no["a"])(e.data.map((function(e){return{text:e.name,value:e._id}}))))})).catch(m)},onSubmit:function(e){var t=this;e.preventDefault(),console.log(JSON.stringify(this.form));var a="".concat(u,"/v2/unidades/").concat(this.$route.params.unidadeId,"/idosos");console.log(a,this.form),l.a.post(a,this.form).then((function(){window.history.length>1&&t.$router.go(-1),t.$toasted.global.defaultSuccess({msg:"Registro salvo com sucesso"})})).catch(m)},onChangeUnidadeSelect:function(e){this.form.vigilanteId="",this.loadVigilantes(e)}},mounted:function(){var e=this;if(this.loadUnidades(),this.loadVigilantes(this.$route.params.unidadeId),this.$route.query.id){var t="".concat(u,"/v2/idosos/").concat(this.$route.query.id);l.a.get(t).then((function(t){e.form=t.data})).catch(m)}}},as=ts,os=Object(C["a"])(as,Zo,es,!1,null,null,null),ss=os.exports,ns=function(){var e=this,t=e.$createElement,a=e._self._c||t;return e.idoso?a("div",{staticClass:"idoso"},["ADMINISTRADOR"!==e.user.role?a("Breadcrumb",{attrs:{path:[{text:"Dashboard",url:"/"},{text:"Meus idosos",url:"/meusIdosos/com-escalas"},{text:e.idoso.nome}]}}):e._e(),"ADMINISTRADOR"===e.user.role&&e.unidade?a("Breadcrumb",{attrs:{path:[{text:"Dashboard",url:"/"},{text:"Unidades",url:"/unidades"},{text:e.unidade.nome,url:"/unidades/"+e.idoso.unidadeId},{text:"Idosos",url:"/unidades/"+e.idoso.unidadeId+"/usuarios/"+e.user.id+"/idosos/com-escalas"},{text:e.idoso.nome}]}}):e._e(),a("h1",[e._v(" "+e._s(e.idoso.nome)+" ")]),e.idoso.estatisticas&&e.idoso.estatisticas.ultimaEscala?a("div",{staticClass:"badges"},[e.idoso.estatisticas.ultimaEscala.vulnerabilidade?a("popper",{attrs:{trigger:"hover",options:{placement:"top"}}},[a("div",{staticClass:"popper"},[e._v(" Escala de Vulnerabilidade ")]),a("span",{attrs:{slot:"reference"},slot:"reference"},[a("Badge",{attrs:{value:e.idoso.estatisticas.ultimaEscala.vulnerabilidade}})],1)]):e._e(),e.idoso.estatisticas.ultimaEscala.epidemiologica?a("popper",{attrs:{trigger:"hover",options:{placement:"top"}}},[a("div",{staticClass:"popper"},[e._v(" Escala Epidemiológica ")]),a("span",{attrs:{slot:"reference"},slot:"reference"},[a("Badge",{attrs:{value:e.idoso.estatisticas.ultimaEscala.epidemiologica}})],1)]):e._e(),e.idoso.estatisticas.ultimaEscala.riscoContagio?a("popper",{attrs:{trigger:"hover",options:{placement:"top"}}},[a("div",{staticClass:"popper"},[e._v(" Risco de Contágio por COVID-19 ")]),a("span",{attrs:{slot:"reference"},slot:"reference"},[a("Badge",{attrs:{value:e.idoso.estatisticas.ultimaEscala.riscoContagio}})],1)]):e._e(),a("small",{staticClass:"text-muted ml-2"},[e._v("Score "+e._s(e.idoso.estatisticas.ultimaEscala.scoreOrdenacao))])],1):e._e(),a("div",{staticClass:"row mt-4"},[a("div",{staticClass:"col"},[a("div",[a("strong",[e._v("Unidade: ")]),e.unidade?a("UnidadeLink",{attrs:{nome:e.unidade.nome,url:"/unidades/"+e.unidade._id}}):e._e()],1),a("div",[a("strong",[e._v("Agente de saúde:")]),e._v(" "+e._s(e.idoso.agenteSaude)+" ")]),a("div",[a("strong",[e._v("Data de Nascimento:")]),e._v(" "+e._s(e.idoso.dataNascimento)+" ")]),a("div",[a("strong",[e._v("Telefones:")]),e._v(" "+e._s(e.idoso.telefone1)+" "+e._s(e.idoso.telefone2?"/ "+e.idoso.telefone2:"")+" ")])]),a("div",{staticClass:"col"},[a("div",[a("strong",[e._v("Vigilante: ")]),a("UsuarioLink",{attrs:{id:e.idoso.vigilanteId}})],1),a("div",[a("strong",[e._v("Atendimentos efetuados:")]),a("span",[a("popper",{attrs:{trigger:"hover",options:{placement:"top",modifiers:{offset:{offset:"0,10px"}}}}},[a("div",{staticClass:"popper"},[e._v(" Atendimentos efetuados / total de tentativas ")]),a("span",{attrs:{slot:"reference"},slot:"reference"},[e._v(" "+e._s(e.idoso.estatisticas?e.idoso.estatisticas.count.qtdAtendimentosEfetuados:0)+"/"+e._s(e.idoso.estatisticas?e.idoso.estatisticas.count.qtdTotal:0)+" ")])])],1)]),a("div",[a("strong",[e._v("Último atendimento:")]),e.idoso.estatisticas&&e.idoso.estatisticas.ultimoAtendimento?a("span",{staticClass:"statusUltimoAtendimento",class:{atendido:e.idoso.estatisticas.ultimoAtendimento.efetuado}},[a("popper",{attrs:{trigger:"hover",options:{placement:"top",modifiers:{offset:{offset:"0,10px"}}}}},[a("div",{staticClass:"popper"},[e._v(" Último atendimento: "),e.idoso.estatisticas.ultimoAtendimento.efetuado?a("span",[e._v("Ligação atendida")]):e._e(),e.idoso.estatisticas.ultimoAtendimento.efetuado?e._e():a("span",[e._v("Não atendeu a ligação")])]),a("span",{attrs:{slot:"reference"},slot:"reference"},[a("span",{directives:[{name:"show",rawName:"v-show",value:e.idoso.estatisticas.ultimoAtendimento.efetuado,expression:"idoso.estatisticas.ultimoAtendimento.efetuado"}]},[a("font-awesome-icon",{attrs:{icon:["far","check-circle"]}})],1),a("span",{directives:[{name:"show",rawName:"v-show",value:!e.idoso.estatisticas.ultimoAtendimento.efetuado,expression:"!idoso.estatisticas.ultimoAtendimento.efetuado"}]},[a("font-awesome-icon",{attrs:{icon:["far","times-circle"]}})],1),e._v(" "+e._s(e.formatDate(e.idoso.estatisticas.ultimoAtendimento.timestamp))+" ")])])],1):e._e(),a("span",{directives:[{name:"show",rawName:"v-show",value:!e.idoso.estatisticas||!e.idoso.estatisticas.ultimoAtendimento,expression:"!idoso.estatisticas || !idoso.estatisticas.ultimoAtendimento"}],staticClass:"statusUltimoAtendimento atencao"},[a("popper",{attrs:{trigger:"hover",options:{placement:"top",modifiers:{offset:{offset:"0,10px"}}}}},[a("div",{staticClass:"popper"},[e._v(" Último atendimento: não há registros ")]),a("span",{attrs:{slot:"reference"},slot:"reference"},[a("font-awesome-icon",{attrs:{icon:["fas","exclamation-circle"]}}),e._v(" pendente ")],1)])],1)]),a("div",[a("strong",[e._v("Sugestão de próximo atendimento:")]),e.idoso.estatisticas&&e.idoso.estatisticas.ultimaEscala?a("span",{staticClass:"dataProximoAtendimento"},[a("popper",{attrs:{trigger:"hover",options:{placement:"top",modifiers:{offset:{offset:"0,10px"}}}}},[a("div",{staticClass:"popper"},[e._v(" Sugestão de próximo atendimento ")]),a("span",{attrs:{slot:"reference"},slot:"reference"},[a("font-awesome-icon",{attrs:{icon:["far","clock"]}}),e._v(" "+e._s(e.formatDate(e.idoso.estatisticas.ultimaEscala.dataProximoAtendimento))+" ")],1)])],1):a("span",[a("popper",{attrs:{trigger:"hover",options:{placement:"top",modifiers:{offset:{offset:"0,10px"}}}}},[a("div",{staticClass:"popper"},[e._v(" Sugestão de próximo atendimento ")]),a("span",{attrs:{slot:"reference"},slot:"reference"},[a("font-awesome-icon",{attrs:{icon:["far","clock"]}}),e._v(" Não definido ")],1)])],1)])])]),a("div",{staticClass:"row mt-3"},[a("div",{staticClass:"col"},[a("div",[a("strong",[e._v("Anotações do vigilante:")]),a("p",[e._v(e._s(e.idoso.anotacoes?e.idoso.anotacoes:"-"))])])])]),a("div",{staticClass:"row mt-5 mb-3"},[e._m(0),a("div",{staticClass:"col text-right"},[a("a",{staticClass:"btn btn-primary",attrs:{target:"_blank",title:"Novo atendimento",href:e.novoAtendimentoURL(e.idoso,e.user)}},[a("font-awesome-icon",{attrs:{icon:["fas","comment-medical"]}}),e._v(" Novo atendimento ")],1)])]),a("b-table",{attrs:{items:e.atendimentos,fields:e.fields,"primary-key":"_id",busy:e.carregandoAtendimentos,"show-empty":""},scopedSlots:e._u([{key:"table-busy",fn:function(){return[a("div",{staticClass:"text-center text-primary my-2"},[a("b-spinner",{staticClass:"align-middle"}),a("strong",[e._v(" Carregando...")])],1)]},proxy:!0},{key:"empty",fn:function(){return[a("div",{staticClass:"text-center text-muted"},[e._v("Não há registros")])]},proxy:!0},{key:"cell(col-data)",fn:function(t){return[a("router-link",{attrs:{to:"/unidades/"+e.$route.params.unidadeId+"/atendimentos/"+t.item._id}},[e._v(" "+e._s(e.formatDate(t.item.timestamp))+" ")])]}},{key:"cell(col-status)",fn:function(t){return[a("span",{staticClass:"statusUltimoAtendimento",class:{atendido:t.item.atendeu}},[a("span",{directives:[{name:"show",rawName:"v-show",value:t.item.atendeu,expression:"data.item.atendeu"}]},[a("font-awesome-icon",{attrs:{icon:["far","check-circle"]}}),e._v(" Ligação atendida ")],1),a("span",{directives:[{name:"show",rawName:"v-show",value:!t.item.atendeu,expression:"!data.item.atendeu"}]},[a("font-awesome-icon",{attrs:{icon:["far","times-circle"]}}),e._v(" Ligação não atendida ")],1)])]}},{key:"cell(col-escalas)",fn:function(t){return[t.item.escalas?a("div",{staticClass:"badges"},[t.item.escalas.vulnerabilidade?a("popper",{attrs:{trigger:"hover",options:{placement:"top"}}},[a("div",{staticClass:"popper"},[e._v(" Escala de Vulnerabilidade ")]),a("span",{attrs:{slot:"reference"},slot:"reference"},[a("Badge",{attrs:{value:t.item.escalas.vulnerabilidade}})],1)]):e._e(),t.item.escalas.epidemiologica?a("popper",{attrs:{trigger:"hover",options:{placement:"top"}}},[a("div",{staticClass:"popper"},[e._v(" Escala Epidemiológica ")]),a("span",{attrs:{slot:"reference"},slot:"reference"},[a("Badge",{attrs:{value:t.item.escalas.epidemiologica}})],1)]):e._e(),t.item.escalas.riscoContagio?a("popper",{attrs:{trigger:"hover",options:{placement:"top"}}},[a("div",{staticClass:"popper"},[e._v(" Risco de Contágio por COVID-19 ")]),a("span",{attrs:{slot:"reference"},slot:"reference"},[a("Badge",{attrs:{value:t.item.escalas.riscoContagio}})],1)]):e._e()],1):e._e()]}},{key:"cell(col-vigilante)",fn:function(e){return[a("UsuarioLink",{attrs:{id:e.item.vigilanteId}})]}}],null,!1,299233299)})],1):e._e()},is=[function(){var e=this,t=e.$createElement,a=e._self._c||t;return a("div",{staticClass:"col"},[a("h2",{},[e._v("Histórico de atendimentos")])])}],rs=function(){var e=this,t=e.$createElement,a=e._self._c||t;return a("span",{staticClass:"unidadeLink"},["ADMINISTRADOR"==e.user.role?a("router-link",{attrs:{to:e.unidadeUrl}},[e._v(e._s(e.unidadeName))]):a("span",[e._v(e._s(e.unidadeName))])],1)},ls=[],ds={name:"UnidadeLink",props:["id","nome","url"],computed:Object(v["b"])(["user"]),data:function(){return{unidadeName:"",unidadeUrl:""}},methods:{getUnidadeName:function(){var e=this;return Object(i["a"])(regeneratorRuntime.mark((function t(){var a,o;return regeneratorRuntime.wrap((function(t){while(1)switch(t.prev=t.next){case 0:return a="".concat(u,"/v2/names/unidades/").concat(e.id),console.log(a),t.prev=2,t.next=5,l.a.get(a);case 5:o=t.sent,console.log(o),e.unidadeName=o.data,e.unidadeUrl="/unidades/".concat(e.id),t.next=15;break;case 11:t.prev=11,t.t0=t["catch"](2),e.unidadeName=e.id,console.error(t.t0);case 15:case"end":return t.stop()}}),t,null,[[2,11]])})))()}},mounted:function(){this.nome&&this.url?(console.log("já definido"),this.unidadeName=this.nome,this.unidadeUrl=this.url):(console.log("não definido"),this.getUnidadeName())}},cs=ds,us=(a("6904"),Object(C["a"])(cs,rs,ls,!1,null,null,null)),ms=us.exports,fs=function(){var e=this,t=e.$createElement,a=e._self._c||t;return a("span",{staticClass:"usuarioLink"},["ADMINISTRADOR"==e.user.role&&e.usuarioUrl?a("router-link",{attrs:{to:e.usuarioUrl}},[e._v(e._s(e.usuarioName))]):a("span",[e._v(e._s(e.usuarioName))])],1)},ps=[],bs={name:"UsuarioLink",props:["id"],computed:Object(v["b"])(["user"]),data:function(){return{usuarioName:"",usuarioUrl:""}},methods:{getUsuarioName:function(){var e=this;return Object(i["a"])(regeneratorRuntime.mark((function t(){var a,o;return regeneratorRuntime.wrap((function(t){while(1)switch(t.prev=t.next){case 0:return a="".concat(u,"/v2/names/usuarios/").concat(e.id),console.log(a),t.prev=2,t.next=5,l.a.get(a);case 5:o=t.sent,console.log("USUARIOLINK",o),e.usuarioName=o.data.name,o.data.unidadeId&&(e.usuarioUrl="/unidades/".concat(o.data.unidadeId,"/usuarios/").concat(e.id,"/idosos/com-escalas")),t.next=15;break;case 11:t.prev=11,t.t0=t["catch"](2),e.usuarioName=e.id,console.error(t.t0);case 15:case"end":return t.stop()}}),t,null,[[2,11]])})))()}},mounted:function(){this.getUsuarioName()}},vs=bs,gs=(a("3f89"),Object(C["a"])(vs,fs,ps,!1,null,null,null)),hs=gs.exports,_s={name:"Idoso",components:{Badge:ya,popper:Aa.a,UnidadeLink:ms,UsuarioLink:hs,Breadcrumb:Pe},computed:Object(v["b"])(["user"]),data:function(){return{idoso:null,unidade:null,atendimentos:[],fields:[{key:"col-data",label:"Data"},{key:"col-status",label:"Status"},{key:"col-escalas",label:"Escalas"},{key:"col-vigilante",label:"Atendente"}],carregandoAtendimentos:!1}},methods:{novoAtendimentoURL:f,formatDate:b,loadIdoso:function(){var e=this,t="".concat(u,"/v2/idosos/").concat(this.$route.params.idosoId);console.log(t),l.a.get(t).then((function(t){e.idoso=t.data,console.log(e.idoso),e.loadAtendimentos()})).catch(m)},loadAtendimentos:function(){var e=this;this.carregandoAtendimentos=!0;var t="".concat(u,"/v2/idosos/").concat(this.$route.params.idosoId,"/atendimentos");console.log(t),l.a.get(t).then((function(t){e.atendimentos=t.data,e.carregandoAtendimentos=!1,console.log(e.atendimentos)})).catch((function(e){console.error(e),m(e)}))},loadUnidade:function(){var e=this,t="".concat(u,"/v2/unidades/").concat(this.$route.params.unidadeId);console.log(t),l.a.get(t).then((function(t){e.unidade=t.data,console.log(e.unidade)})).catch(m)}},mounted:function(){this.loadIdoso(),this.loadUnidade()}},Is=_s,xs=(a("672a"),Object(C["a"])(Is,ns,is,!1,null,null,null)),ys=xs.exports,ks=function(){var e=this,t=e.$createElement,a=e._self._c||t;return e.atendimento?a("div",{staticClass:"atendimento"},["ADMINISTRADOR"!==e.user.role&&e.idoso?a("Breadcrumb",{attrs:{path:[{text:"Dashboard",url:"/"},{text:"Meus idosos",url:"/meusIdosos/com-escalas"},{text:e.idoso.nome,url:"/unidades/"+e.idoso.unidadeId+"/idosos/"+e.idoso._id},{text:e.formatDate(e.atendimento.timestamp)}]}}):e._e(),"ADMINISTRADOR"===e.user.role&&e.idoso&&e.unidade?a("Breadcrumb",{attrs:{path:[{text:"Dashboard",url:"/"},{text:"Unidades",url:"/unidades"},{text:e.unidade.nome,url:"/unidades/"+e.idoso.unidadeId},{text:"Idosos",url:"/unidades/"+e.idoso.unidadeId+"/usuarios/"+e.user.id+"/idosos/com-escalas"},{text:e.idoso.nome,url:"/unidades/"+e.idoso.unidadeId+"/idosos/"+e.idoso._id},{text:e.formatDate(e.atendimento.timestamp)}]}}):e._e(),a("h1",[e._v("Atendimento")]),a("h6",{staticClass:"text-muted"},[e._v(e._s(e.formatDate(e.atendimento.timestamp)))]),a("div",{staticClass:"row mt-5"},[a("div",{staticClass:"col-lg-7"},[a("b-card",{staticClass:"mb-4",attrs:{title:"Idoso"}},[e.idoso?a("b-card-text",[a("div",{staticClass:"row"},[a("div",{staticClass:"col-lg-6"},[a("div",[a("b",[e._v("Nome: ")]),a("IdosoLink",{attrs:{nome:e.idoso.nome,url:"/unidades/"+e.idoso.unidadeId+"/idosos/"+e.idoso._id}})],1),a("div",[a("b",[e._v("Data de nascimento:")]),e._v(" "+e._s(e.idoso.dataNascimento)+" ")]),a("div",[a("b",[e._v("Telefones:")]),e._v(" "+e._s(e.idoso.telefone1)+" "+e._s(e.idoso.telefone2?"/ "+e.idoso.telefone2:"")+" ")])]),a("div",{staticClass:"col-lg-6"},[a("div",[a("b",[e._v("Unidade: ")]),e.unidade?a("UnidadeLink",{attrs:{nome:e.unidade.nome,url:"/unidades/"+e.unidade._id}}):e._e()],1),a("div",[a("b",[e._v("Agente de saúde:")]),e._v(" "+e._s(e.idoso.agenteSaude)+" ")]),a("div",[a("b",[e._v("Vigilante: ")]),a("UsuarioLink",{attrs:{id:e.idoso.vigilanteId}})],1)])])]):e._e()],1),e.atendimento.atendeu?a("b-card",{staticClass:"mb-4",attrs:{title:"Sintomas do idoso"}},[a("b-card-text",e._l(e.atendimento.raw["S05"],(function(e){return a("FormResponse",{key:e.question,attrs:{item:e}})})),1)],1):e._e(),e.atendimento.atendeu?a("b-card",{staticClass:"mb-4",attrs:{title:"Comorbidades"}},[a("b-card-text",e._l(e.atendimento.raw["S06"],(function(e){return a("FormResponse",{key:e.question,attrs:{item:e}})})),1)],1):e._e(),e.atendimento.atendeu?a("b-card",{staticClass:"mb-4",attrs:{title:"Acompanhantes no domicílio"}},[a("b-card-text",[e._l(e.atendimento.raw["S09"],(function(e){return a("FormResponse",{key:e.question,attrs:{item:e}})})),e._l(e.atendimento.raw["S10"],(function(e){return a("FormResponse",{key:e.question,attrs:{item:e}})})),e._l(e.atendimento.raw["S11"],(function(e){return a("FormResponse",{key:e.question,attrs:{item:e}})}))],2)],1):e._e(),e.atendimento.atendeu?a("b-card",{staticClass:"mb-4",attrs:{title:"Identificação de vulnerabilidades"}},[a("b-card-text",e._l(e.atendimento.raw["S12"],(function(e){return a("FormResponse",{key:e.question,attrs:{item:e}})})),1)],1):e._e()],1),a("div",{staticClass:"col-lg-5"},[a("b-card",{staticClass:"mb-4",attrs:{title:"Ficha do atendimento"}},[a("b-card-text",[a("div",[a("b",[e._v("Data de realização:")]),e._v(" "+e._s(e.formatDate(e.atendimento.timestamp))+" ")]),a("div",[a("b",[e._v("Status da chamada: ")]),a("span",{staticClass:"statusUltimoAtendimento",class:{atendido:e.atendimento.atendeu}},[a("span",{directives:[{name:"show",rawName:"v-show",value:e.atendimento.atendeu,expression:"atendimento.atendeu"}]},[a("font-awesome-icon",{attrs:{icon:["far","check-circle"]}}),e._v(" Ligação atendida ")],1),a("span",{directives:[{name:"show",rawName:"v-show",value:!e.atendimento.atendeu,expression:"!atendimento.atendeu"}]},[a("font-awesome-icon",{attrs:{icon:["far","times-circle"]}}),e._v(" Ligação não atendida ")],1)])]),a("div",[a("b",[e._v("Atendente: ")]),a("UsuarioLink",{attrs:{id:e.atendimento.vigilanteId}})],1),a("div",[a("b",[e._v("Tipo de atendimento:")]),e._v(" "+e._s(e.atendimento.tipo)+" ")]),a("div",[a("b",[e._v("Fonte das informações:")]),e._v(" "+e._s(e.atendimento.fonte)+" ")]),a("div",[a("b",[e._v("Idade:")]),e._v(" "+e._s(e.atendimento.idadeIdoso)+" anos ")]),a("div",[a("b",[e._v("Duração da chamada:")]),e._v(" "+e._s(e.atendimento.duracaoChamada)+" ")])])],1),e.atendimento.atendeu?a("b-card",{staticClass:"mb-4",attrs:{title:"Resultado do atendimento"}},[a("b-card-text",[a("div",[a("b",[e._v("Escala de vulnerabilidade")]),e.atendimento.escalas.vulnerabilidade?a("div",[a("Badge",{attrs:{value:e.atendimento.escalas.vulnerabilidade}})],1):e._e()]),a("br"),a("div",[a("b",[e._v("Escala epidemiológica")]),e.atendimento.escalas.epidemiologica?a("div",[a("Badge",{attrs:{value:e.atendimento.escalas.epidemiologica}})],1):e._e()]),a("br"),a("div",[a("b",[e._v("Escala de Risco COVID")]),e.atendimento.escalas.riscoContagio?a("div",[a("Badge",{attrs:{value:e.atendimento.escalas.riscoContagio}})],1):e._e()]),a("br"),a("div",[a("b",[e._v("Score de ordenação")]),e.atendimento.escalas.scoreOrdenacao?a("div",[e._v(" "+e._s(e.atendimento.escalas.scoreOrdenacao)+" ")]):e._e()])])],1):e._e(),e.atendimento.raw["S08"]?a("b-card",{staticClass:"mb-4",attrs:{title:"Epidemiologia"}},[a("b-card-text",e._l(e.atendimento.raw["S08"],(function(e){return a("FormResponse",{key:e.question,attrs:{item:e}})})),1)],1):e._e(),e.atendimento.raw["S08"]?e._e():a("b-card",{staticClass:"mb-4",attrs:{title:"Epidemiologia"}},[a("b-card-text",[e._v(" O idoso ainda não possui atendimentos efetuados. A epidemiologia é colhida no primeiro atendimento. ")])],1)],1)])],1):e._e()},As=[],Cs=function(){var e=this,t=e.$createElement,a=e._self._c||t;return a("div",{staticClass:"form-response"},[a("b",[e._v(e._s(e.item.question.substring(9)))]),a("small",{staticClass:"text-muted"},[e._v(" "+e._s(e.item.question.substring(0,8))+" ")]),Array.isArray(e.item.response)?a("div",[a("ul",e._l(e.item.response,(function(t){return a("li",{key:t},[e._v(" "+e._s(t)+" ")])})),0)]):e.item.response?a("div",[e._v(" "+e._s(e.item.response)+" ")]):a("div",[e._v(" - ")])])},ws=[],Es={name:"FormResponse",props:["item"]},Os=Es,Ss=(a("acb0"),Object(C["a"])(Os,Cs,ws,!1,null,null,null)),Us=Ss.exports,$s=function(){var e=this,t=e.$createElement,a=e._self._c||t;return a("span",{staticClass:"idosoLink"},[a("router-link",{attrs:{to:e.urlIdoso}},[e._v(e._s(e.nomeIdoso))])],1)},Ps=[],Vs={name:"IdosoLink",props:["id","nome","url"],computed:Object(v["b"])(["user"]),data:function(){return{nomeIdoso:"",urlIdoso:""}},methods:{getIdoso:function(){var e=this;return Object(i["a"])(regeneratorRuntime.mark((function t(){var a,o;return regeneratorRuntime.wrap((function(t){while(1)switch(t.prev=t.next){case 0:return a="".concat(u,"/v2/idosos/").concat(e.id),console.log(a),t.prev=2,t.next=5,l.a.get(a);case 5:o=t.sent,e.nomeIdoso=o.data.nome,e.urlIdoso="/unidades/".concat(o.data.unidadeId,"/idosos/").concat(o.data._id),t.next=14;break;case 10:t.prev=10,t.t0=t["catch"](2),e.nomeIdoso=e.id,console.error(t.t0);case 14:case"end":return t.stop()}}),t,null,[[2,10]])})))()}},mounted:function(){this.nome&&this.url?(console.log("já definido",this.url),this.nomeIdoso=this.nome,this.urlIdoso=this.url):(console.log("não definido"),this.getIdoso())}},Ns=Vs,Ds=(a("425b"),Object(C["a"])(Ns,$s,Ps,!1,null,null,null)),Ts=Ds.exports,Rs={name:"Atendimento",components:{Badge:ya,FormResponse:Us,UnidadeLink:ms,UsuarioLink:hs,IdosoLink:Ts,Breadcrumb:Pe},computed:Object(v["b"])(["user"]),data:function(){return{atendimento:null,idoso:null,loading:!1,unidade:null}},methods:{formatDate:b,loadAtendimento:function(){var e=this,t="".concat(u,"/v2/unidades/").concat(this.$route.params.unidadeId,"/atendimentos/").concat(this.$route.params.atendimentoId);console.log(t),l.a.get(t).then((function(t){e.atendimento=t.data,console.log(e.atendimento),e.loadIdoso(),e.loadUnidade()})).catch(m)},loadIdoso:function(){var e=this,t="".concat(u,"/v2/idosos/").concat(this.atendimento.idosoId);console.log(t),l.a.get(t).then((function(t){e.idoso=t.data,console.log(e.idoso)})).catch(m)},loadUnidade:function(){var e=this,t="".concat(u,"/v2/unidades/").concat(this.$route.params.unidadeId);console.log(t),l.a.get(t).then((function(t){e.unidade=t.data,console.log(e.unidade)})).catch(m)}},mounted:function(){this.loadAtendimento()}},js=Rs,Ms=(a("3cef"),Object(C["a"])(js,ks,As,!1,null,null,null)),qs=Ms.exports,Ls=function(){var e=this,t=e.$createElement,a=e._self._c||t;return a("div",{staticClass:"atendimento"},["ADMINISTRADOR"!==e.user.role?a("Breadcrumb",{attrs:{path:[{text:"Dashboard",url:"/"},{text:"Meus idosos",url:"/meusIdosos/com-escalas"},{text:e.$route.query.nomeIdoso,url:"/unidades/"+e.$route.query.idUnidade+"/idosos/"+e.$route.query.idIdoso},{text:"Novo atendimento"}]}}):e._e(),"ADMINISTRADOR"===e.user.role?a("Breadcrumb",{attrs:{path:[{text:"Dashboard",url:"/"},{text:"Unidades",url:"/unidades"},{text:e.$route.query.idUnidade,url:"/unidades/"+e.$route.query.idUnidade},{text:"Idosos",url:"/unidades/"+e.$route.query.idUnidade+"/usuarios/"+e.user.id+"/idosos/com-escalas"},{text:e.$route.query.nomeIdoso,url:"/unidades/"+e.$route.query.idUnidade+"/idosos/"+e.$route.query.idIdoso},{text:"Novo atendimentos"}]}}):e._e(),a("iframe",{attrs:{id:"iframe-ficha-vigilancia",src:e.iframeURL,width:"100%",height:"100%",frameborder:"0",marginheight:"0",marginwidth:"0"}},[e._v("Carregando…")])],1)},Bs=[],Fs={name:"CadastrarAtendimento",components:{Breadcrumb:Pe},computed:Object(v["b"])(["user"]),data:function(){return{loading:!1,iframeURL:p(this.$route.query.idIdoso,this.$route.query.idVigilante,this.$route.query.idUnidade,this.$route.query.tipoAtendimento)}},methods:{googleFormIframeURL:p},mounted:function(){}},Gs=Fs,Ys=(a("534b"),Object(C["a"])(Gs,Ls,Bs,!1,null,null,null)),Ks=Ys.exports;o["default"].use(he["a"]);var Hs=[{name:"home",path:"/",component:Te},{name:"idososSpreadsheet",path:"/googlesheets/idosos",component:ht},{name:"gerenciamentoSpreadsheet",path:"/googlesheets/gerenciamento",component:ma},{name:"meusIdosos",path:"/meusIdosos/:tab",component:Pa},{name:"idososPorUsuario",path:"/unidades/:unidadeId/usuarios/:usuarioId/idosos/:tab",component:vo,meta:{requiresAdmin:!0}},{name:"auth",path:"/auth",component:yo},{name:"forgotPassword",path:"/forgot",component:Oo},{name:"resetPassword",path:"/reset/:id/:token",component:No},{name:"convidarUsuarioDaUnidade",path:"/unidades/:unidadeId/addUsuario",component:co,meta:{requiresAdmin:!0}},{name:"convidarAdministrador",path:"/administradores/addUsuario",component:Qo,meta:{requiresAdmin:!0}},{name:"acceptInvitation",path:"/acceptInvitation/:id/:token",component:qo},{name:"atendimento",path:"/unidades/:unidadeId/atendimentos/:atendimentoId",component:qs},{name:"cadastrarAtendimento",path:"/unidades/:unidadeId/cadastrarAtendimento",component:Ks},{name:"idoso",path:"/unidades/:unidadeId/idosos/:idosoId",component:ys},{name:"unidade",path:"/unidades/:id",component:Ga,meta:{requiresAdmin:!0}},{name:"unidades",path:"/unidades",component:ja,meta:{requiresAdmin:!0}},{name:"adicionarUnidade",path:"/adicionarUnidade",component:Wa,meta:{requiresAdmin:!0}},{name:"migrarUnidade",path:"/migrarUnidade",component:ao,meta:{requiresAdmin:!0}},{name:"administradores",path:"/administradores",component:Ko,meta:{requiresAdmin:!0}},{name:"cadastrarIdoso",path:"/unidades/:unidadeId/cadastrarIdoso",component:ss,meta:{requiresPreceptor:!0}}],zs=new he["a"]({mode:"history",routes:Hs});zs.beforeEach((function(e,t,a){var o=localStorage.getItem(c);if(e.matched.some((function(e){return e.meta.requiresAdmin}))){var s=JSON.parse(o);s&&"ADMINISTRADOR"===s.role?a():a({path:"/"})}else if(e.matched.some((function(e){return e.meta.requiresPreceptor}))){var n=JSON.parse(o);!n||"ADMINISTRADOR"!==n.role&&"PRECEPTOR"!==n.role?a({path:"/"}):a()}else a()}));var Js=zs,Ws=a("5132"),Xs=a.n(Ws),Qs=a("ecee"),Zs=a("c074"),en=a("b702"),tn=a("f2d1"),an=a("ad3d");Qs["c"].add(Zs["f"],Zs["d"],Zs["e"],Zs["c"],en["c"],tn["a"],en["a"],en["d"],en["b"],Zs["i"],Zs["o"],Zs["j"],Zs["m"],Zs["n"],Zs["a"],Zs["l"],Zs["h"],Zs["g"],Zs["k"],Zs["b"]),o["default"].component("font-awesome-icon",an["a"]),o["default"].component("font-awesome-layers",an["b"]),o["default"].component("font-awesome-layers-text",an["c"]),o["default"].config.productionTip=!1,o["default"].use(new Xs.a({debug:!0,connection:"https://imuni.app.br",vuex:{store:ge,actionPrefix:"SOCKET_",mutationPrefix:"SOCKET_"}})),new o["default"]({store:ge,router:Js,render:function(e){return e(ue)}}).$mount("#app")},"5ce0":function(e,t,a){},6698:function(e,t,a){},"672a":function(e,t,a){"use strict";var o=a("89c0"),s=a.n(o);s.a},6904:function(e,t,a){"use strict";var o=a("0230"),s=a.n(o);s.a},"6a5c":function(e,t,a){},"6c32":function(e,t,a){},"6e60":function(e,t,a){"use strict";var o=a("c479"),s=a.n(o);s.a},"6f17":function(e,t,a){"use strict";var o=a("cd6a"),s=a.n(o);s.a},7264:function(e,t,a){"use strict";var o=a("17a5"),s=a.n(o);s.a},"77df":function(e,t,a){},"80c6":function(e,t,a){},"85ec":function(e,t,a){},"89c0":function(e,t,a){},"8e27":function(e,t,a){"use strict";var o=a("272e"),s=a.n(o);s.a},"905f":function(e,t,a){"use strict";var o=a("009d"),s=a.n(o);s.a},9551:function(e,t,a){"use strict";var o=a("32a6"),s=a.n(o);s.a},"9f34":function(e,t,a){"use strict";var o=a("6698"),s=a.n(o);s.a},"9f4a":function(e,t,a){"use strict";var o=a("6c32"),s=a.n(o);s.a},a09f:function(e,t,a){"use strict";var o=a("77df"),s=a.n(o);s.a},a405:function(e,t,a){"use strict";var o=a("a90e"),s=a.n(o);s.a},a52b:function(e,t,a){},a90e:function(e,t,a){},acb0:function(e,t,a){"use strict";var o=a("80c6"),s=a.n(o);s.a},c479:function(e,t,a){},c792:function(e,t,a){},cd6a:function(e,t,a){},ce8d:function(e,t,a){"use strict";var o=a("c792"),s=a.n(o);s.a},d49b:function(e,t,a){"use strict";var o=a("2442"),s=a.n(o);s.a},dcee:function(e,t,a){"use strict";var o=a("fe7f"),s=a.n(o);s.a},df2f:function(e,t,a){},e526:function(e,t,a){"use strict";var o=a("ff67"),s=a.n(o);s.a},ee68:function(e,t,a){"use strict";var o=a("6a5c"),s=a.n(o);s.a},fe7f:function(e,t,a){},ff67:function(e,t,a){}});
//# sourceMappingURL=app.38150ed7.js.map