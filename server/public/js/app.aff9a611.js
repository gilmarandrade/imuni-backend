(function(e){function a(a){for(var o,n,r=a[0],l=a[1],d=a[2],u=0,m=[];u<r.length;u++)n=r[u],Object.prototype.hasOwnProperty.call(s,n)&&s[n]&&m.push(s[n][0]),s[n]=0;for(o in l)Object.prototype.hasOwnProperty.call(l,o)&&(e[o]=l[o]);c&&c(a);while(m.length)m.shift()();return i.push.apply(i,d||[]),t()}function t(){for(var e,a=0;a<i.length;a++){for(var t=i[a],o=!0,r=1;r<t.length;r++){var l=t[r];0!==s[l]&&(o=!1)}o&&(i.splice(a--,1),e=n(n.s=t[0]))}return e}var o={},s={app:0},i=[];function n(a){if(o[a])return o[a].exports;var t=o[a]={i:a,l:!1,exports:{}};return e[a].call(t.exports,t,t.exports,n),t.l=!0,t.exports}n.m=e,n.c=o,n.d=function(e,a,t){n.o(e,a)||Object.defineProperty(e,a,{enumerable:!0,get:t})},n.r=function(e){"undefined"!==typeof Symbol&&Symbol.toStringTag&&Object.defineProperty(e,Symbol.toStringTag,{value:"Module"}),Object.defineProperty(e,"__esModule",{value:!0})},n.t=function(e,a){if(1&a&&(e=n(e)),8&a)return e;if(4&a&&"object"===typeof e&&e&&e.__esModule)return e;var t=Object.create(null);if(n.r(t),Object.defineProperty(t,"default",{enumerable:!0,value:e}),2&a&&"string"!=typeof e)for(var o in e)n.d(t,o,function(a){return e[a]}.bind(null,o));return t},n.n=function(e){var a=e&&e.__esModule?function(){return e["default"]}:function(){return e};return n.d(a,"a",a),a},n.o=function(e,a){return Object.prototype.hasOwnProperty.call(e,a)},n.p="/";var r=window["webpackJsonp"]=window["webpackJsonp"]||[],l=r.push.bind(r);r.push=a,r=r.slice();for(var d=0;d<r.length;d++)a(r[d]);var c=l;i.push([0,"chunk-vendors"]),t()})({0:function(e,a,t){e.exports=t("56d7")},"009d":function(e,a,t){},"034f":function(e,a,t){"use strict";var o=t("85ec"),s=t.n(o);s.a},1099:function(e,a,t){},1157:function(e,a,t){"use strict";var o=t("1f3d"),s=t.n(o);s.a},"17a5":function(e,a,t){},"1f3d":function(e,a,t){},2175:function(e,a,t){"use strict";var o=t("5ce0"),s=t.n(o);s.a},2442:function(e,a,t){},"272e":function(e,a,t){},"2dd6":function(e,a,t){"use strict";var o=t("1099"),s=t.n(o);s.a},"32a6":function(e,a,t){},"3cef":function(e,a,t){"use strict";var o=t("a52b"),s=t.n(o);s.a},"4b57":function(e,a,t){"use strict";var o=t("df2f"),s=t.n(o);s.a},"56d7":function(e,a,t){"use strict";t.r(a);t("e260"),t("e6cf"),t("cca6"),t("a79d");var o=t("2b0e"),s=function(){var e=this,a=e.$createElement,t=e._self._c||a;return t("div",{class:{"hide-menu":!e.isMenuVisible},attrs:{id:"app"}},[t("Header",{attrs:{title:"Monitoramento de Idosos",hideToggle:!e.user,hideUserDropdown:!e.user}}),e.user?t("Menu"):e._e(),e.isLoadingApp?t("Loading"):t("Content"),t("Footer")],1)},i=[],n=(t("b0c0"),t("96cf"),t("1da1")),r=t("bc3a"),l=t.n(r),d=t("53ca"),c="__frente_prevencao_covid_rn",u="http://frenteprevencaocovidrn.com.br/api";function m(e){e&&e.response&&e.response.data?(console.error(e.response.data),o["default"].toasted.global.defaultError({msg:e.response.data})):"string"===typeof e||"object"===Object(d["a"])(e)?(console.error(e),o["default"].toasted.global.defaultError({msg:e})):o["default"].toasted.global.defaultError()}var f=t("2f62"),p=function(){var e=this,a=e.$createElement,t=e._self._c||a;return t("header",{staticClass:"header"},[t("h1",{staticClass:"title"},[e._v(" "+e._s(e.title)+" ")]),e.hideUserDropdown?e._e():t("UserDropdown")],1)},v=[],g=function(){var e=this,a=e.$createElement,t=e._self._c||a;return t("div",{staticClass:"user-dropdown"},[t("div",{staticClass:"user-button"},[t("span",{staticClass:"d-none d-sm-block"},[e._v(e._s(e.user.name))]),t("div",{staticClass:"user-dropdown-img"},[t("Gravatar",{attrs:{email:e.user.email,alt:"User"}})],1),t("font-awesome-icon",{attrs:{icon:["fas","angle-down"]}})],1),t("div",{staticClass:"user-dropdown-content"},[t("div",[e._v(" "+e._s(e.user.role)+" ")]),t("div",[e._v(" "+e._s(e.user.email)+" ")]),t("a",{attrs:{href:""},on:{click:function(a){return a.preventDefault(),e.logout(a)}}},[e._v(" Sair ")])])])},b=[],h=t("e06a"),_=t.n(h),I={name:"UserDropdown",components:{Gravatar:_.a},computed:Object(f["b"])(["user"]),methods:{logout:function(){localStorage.removeItem(c),this.$store.commit("setUser",null),this.$router.push({name:"auth"})}}},y=I,k=(t("a09f"),t("2877")),A=Object(k["a"])(y,g,b,!1,null,null,null),x=A.exports,E={name:"Header",components:{UserDropdown:x},data:function(){return{syncState:"synced",lastSync:"00/00/0000 00:00"}},props:{title:String,hideToggle:Boolean,hideUserDropdown:Boolean},computed:{isMenuVisible:function(){return this.$store.state.isMenuVisible}},methods:{toggleMenu:function(){this.$store.commit("toggleMenu")}}},w=E,C=(t("9f34"),Object(k["a"])(w,p,v,!1,null,null,null)),S=C.exports,V=function(){var e=this,a=e.$createElement,t=e._self._c||a;return t("aside",{directives:[{name:"show",rawName:"v-show",value:e.isMenuVisible,expression:"isMenuVisible"}],staticClass:"menu"})},P=[],O={name:"Menu",computed:Object(f["b"])(["isMenuVisible"])},$=O,N=(t("4b57"),Object(k["a"])($,V,P,!1,null,null,null)),D=N.exports,T=function(){var e=this,a=e.$createElement,t=e._self._c||a;return t("div",{staticClass:"content"},[t("ProgressBar"),t("router-view")],1)},U=[],R=function(){var e=this,a=e.$createElement,t=e._self._c||a;return t("div",{staticClass:"progressBar",class:{isLoading:"LOADING"===e.syncStatus.status,indeterminated:"INDETERMINATED"===e.syncStatus.mode}},[t("div",{staticClass:"bar",style:{width:e.syncStatus.progress+"%"}}),e._v(" "+e._s(e.syncStatus)+" ")])},j=[],M={name:"ProgressBar",computed:Object(f["b"])(["syncStatus"])},q=M,L=(t("7264"),Object(k["a"])(q,R,j,!1,null,null,null)),B=L.exports,F={name:"Content",components:{ProgressBar:B}},z=F,G=(t("9551"),Object(k["a"])(z,T,U,!1,null,null,null)),H=G.exports,Y=function(){var e=this,a=e.$createElement,t=e._self._c||a;return t("footer",{staticClass:"footer"},[t("span",[e._v("Monitoramento de Idosos | Frente de Prevenção ao COVID-19 no RN | "+e._s(e.appVersion)+" ")])])},K=[],W={name:"Footer",computed:{appVersion:function(){return this.$store.getters.appVersion}}},J=W,X=(t("2175"),Object(k["a"])(J,Y,K,!1,null,null,null)),Q=X.exports,Z=function(){var e=this,a=e.$createElement,t=e._self._c||a;return t("div",{staticClass:"loading"},[t("font-awesome-icon",{attrs:{icon:["fas","spinner"],size:"5x",pulse:""}})],1)},ee=[],ae={name:"Loading"},te=ae,oe=(t("2dd6"),Object(k["a"])(te,Z,ee,!1,null,null,null)),se=oe.exports,ie={name:"App",components:{Header:S,Menu:D,Content:H,Footer:Q,Loading:se},data:function(){return{mensagem:"digite sua mensagem"}},computed:Object(f["b"])(["isMenuVisible","user","isLoadingApp"]),methods:{validateToken:function(){var e=this;return Object(n["a"])(regeneratorRuntime.mark((function a(){var t,o,s;return regeneratorRuntime.wrap((function(a){while(1)switch(a.prev=a.next){case 0:if("acceptInvitation"!==e.$route.name&&"resetPassword"!==e.$route.name&&"auth"!==e.$route.name){a.next=3;break}return e.$store.commit("setIsLoadingApp",!1),a.abrupt("return");case 3:if(console.log("validating token"),e.$store.commit("setIsLoadingApp",!0),t=localStorage.getItem(c),o=JSON.parse(t),e.$store.commit("setUser",null),console.log(o),o){a.next=13;break}return e.$store.commit("setIsLoadingApp",!1),e.$router.push({name:"auth"}),a.abrupt("return");case 13:return a.next=15,l.a.post("".concat(u,"/v2/validateToken"),o);case 15:s=a.sent,console.log(s),s.data?e.$store.commit("setUser",o):(localStorage.removeItem(c),e.$router.push({name:"auth"})),e.$store.commit("setIsLoadingApp",!1);case 19:case"end":return a.stop()}}),a)})))()}},created:function(){this.validateToken()}},ne=ie,re=(t("034f"),Object(k["a"])(ne,s,i,!1,null,null,null)),le=re.exports,de=t("a65d"),ce=t.n(de);o["default"].use(ce.a,{iconPack:"fontawesome",duration:3e3}),o["default"].toasted.register("defaultSuccess",(function(e){return e.msg?e.msg:"Operação realizada com sucesso!"}),{type:"success",icon:"check"}),o["default"].toasted.register("defaultError",(function(e){return e.msg?e.msg:"Oops... Erro inesperado."}),{type:"error",icon:"times"});t("f9e3"),t("2dd8");var ue=t("5f5b");o["default"].use(ue["a"]);t("d3b7");var me=function(e){return e},fe=function(e){if(401!==e.response.status)return Promise.reject(e);window.location="/"};l.a.interceptors.response.use(me,fe);t("4de4"),t("7db0"),t("4ec9"),t("3ca3"),t("ddb0");o["default"].use(f["a"]);var pe=new f["a"].Store({state:{packageVersion:"v2.0.2",isMenuVisible:!1,user:null,isLoadingApp:!0,syncStatus:{mode:"INDETERMINATED",status:null,progress:null,total:null,current:0,msg:""},pageParamsMap:new Map},mutations:{toggleMenu:function(e,a){e.user?e.isMenuVisible=void 0===a?!e.isMenuVisible:a:e.isMenuVisible=!1},setUser:function(e,a){e.user=a,a?l.a.defaults.headers.common["Authorization"]="bearer ".concat(a.token):delete l.a.defaults.headers.common["Authorization"]},setIsLoadingApp:function(e,a){e.isLoadingApp=a},SOCKET_syncStatusEvent:function(e,a){e.syncStatus=a,"SUCCESS"===e.syncStatus.status?location.reload():"ERROR"===e.syncStatus.status&&m(e.syncStatus.msg)},setPageParamsMap:function(e,a){var t=e.pageParamsMap.get(a.userId);if(t){var o=t.find((function(e){return e.filter==a.filter}));o?(o.filter=a.filter,o.order=a.order,o.page=a.page,o.rowsPerPage=a.rowsPerPage):t.push({filter:a.filter,order:a.order,page:a.page,rowsPerPage:a.rowsPerPage})}else e.pageParamsMap.set(a.userId,[{filter:a.filter,order:a.order,page:a.page,rowsPerPage:a.rowsPerPage}])}},getters:{appVersion:function(e){return e.packageVersion},getPageParamsMap:function(e){return e.pageParamsMap}}}),ve=(t("45fc"),t("8c4f")),ge=function(){var e=this,a=e.$createElement,t=e._self._c||a;return t("div",{staticClass:"home"},[t("PageTitle",{attrs:{icon:"",main:"Home",sub:"Bem vindo ao sistema de monitoramento"}}),"ADMINISTRADOR"===e.user.role?t("div",[t("ul",[t("li",[t("router-link",{attrs:{to:"/unidades"}},[e._v("unidades")])],1),t("li",[t("router-link",{attrs:{to:"/administradores"}},[e._v("administradores")])],1)])]):e._e(),"VIGILANTE"===e.user.role?t("div",[t("h2",[e._v("Seja bem vindo vigilante")]),t("router-link",{attrs:{to:"/meusIdosos/com-escalas"}},[e._v("Meus idosos")])],1):e._e(),"PRECEPTOR"===e.user.role?t("div",[t("h2",[e._v("Seja bem vindo preceptor")]),t("router-link",{attrs:{to:"/meusIdosos/com-escalas"}},[e._v("Meus idosos")])],1):e._e()],1)},be=[],he=function(){var e=this,a=e.$createElement,t=e._self._c||a;return t("div",{staticClass:"page-title"},[t("h1",[e.icon?t("i",{class:e.icon}):e._e(),e._v(" "+e._s(e.main))]),t("h2",[e._v(e._s(e.sub))]),t("hr")])},_e=[],Ie={name:"PageTitle",props:["icon","main","sub"]},ye=Ie,ke=(t("a405"),Object(k["a"])(ye,he,_e,!1,null,null,null)),Ae=ke.exports,xe={name:"Home",components:{PageTitle:Ae},data:function(){return{vigilantes:[],unidades:[]}},methods:{loadVigilantes:function(){var e=this,a="".concat(u,"/unidades/idunidade/vigilantes");console.log(a),l.a.get(a).then((function(a){e.vigilantes=a.data,console.log(e.vigilantes)})).catch(m)},loadUnidades:function(){var e=this,a="".concat(u,"/unidades");console.log(a),l.a.get(a).then((function(a){e.unidades=a.data,console.log(e.unidades)})).catch(m)}},computed:Object(f["b"])(["user"]),mounted:function(){"ADMINISTRADOR"===this.user.role&&(this.loadVigilantes(),this.loadUnidades())}},Ee=xe,we=Object(k["a"])(Ee,ge,be,!1,null,null,null),Ce=we.exports,Se=function(){var e=this,a=e.$createElement,t=e._self._c||a;return t("div",[t("PageTitle",{attrs:{icon:"",main:"Planilha Idosos",sub:"unidade xxxx"}}),t("b-card",{attrs:{"no-body":""}},[t("b-tabs",{attrs:{card:""}},[t("b-tab",{attrs:{title:"Idosos",active:""}},[t("IdososPage")],1),t("b-tab",{attrs:{title:"Idosos por Vulnerabilidade"}},[t("IdososPorVulnerabilidadePage")],1),t("b-tab",{attrs:{title:"Idosos por Risco"}},[t("IdososPorRiscoPage")],1),t("b-tab",{attrs:{title:"Idosos com Escalas"}},[t("IdososComEscalaPage")],1),t("b-tab",{attrs:{title:"Idosos em ordem Alfabética"}},[t("IdososOrdemAlfabeticaPage")],1)],1)],1)],1)},Ve=[],Pe=function(){var e=this,a=e.$createElement,t=e._self._c||a;return t("div",[t("p",[e._v("foram encontrados "+e._s(e.idosos.length)+" registros")]),t("b-table",{attrs:{hover:"",items:e.idosos,fields:e.fields}})],1)},Oe=[],$e=(t("99af"),t("4160"),t("159b"),{name:"IdososPage",data:function(){return{idosos:[],fields:[{key:"row",label:"row",sortable:!0},{key:"dataNascimento",label:"Data de Nascimento",sortable:!0},{key:"nome",label:"Nome",sortable:!0},{key:"telefone1",label:"Telefone 1",sortable:!0},{key:"telefone2",label:"Telefone 2",sortable:!0},{key:"agenteSaude",label:"Agente de Saúde",sortable:!0}]}},methods:{loadIdosos:function(){var e=this;console.log("load idosos");var a="1sP1UegbOnv5dVoO6KMtk2nms6HqjFs3vuYN5FGMWasc",t="Idosos",o="A2:E";console.log("idosos base api url",u);var s="".concat(u,"/docs/").concat(a,"/sheets/").concat(t,"/range/").concat(o);l.a.get(s).then((function(a){var t=[];a.data.forEach((function(e,a){t.push({row:"A"+(a+2),dataNascimento:e[0],nome:e[1],telefone1:e[2],telefone2:e[3],agenteSaude:e[4]})})),e.idosos=t,console.log(e.idosos)})).catch(m)}},mounted:function(){this.loadIdosos()}}),Ne=$e,De=Object(k["a"])(Ne,Pe,Oe,!1,null,null,null),Te=De.exports,Ue=function(){var e=this,a=e.$createElement,t=e._self._c||a;return t("div",[t("p",[e._v("foram encontrados "+e._s(e.idosos.length)+" registros")]),t("b-table",{attrs:{hover:"",items:e.idosos,fields:e.fields}})],1)},Re=[],je={name:"IdososPorVulnerabilidadePage",data:function(){return{idosos:[],fields:[{key:"row",label:"row",sortable:!0},{key:"nome",label:"Nome",sortable:!0},{key:"escalaVulnerabilidade",label:"Escala de Vulnerabilidade",sortable:!0},{key:"escalaEpidemiologica",label:"Escala Epidemiológica",sortable:!0},{key:"escalaRisco",label:"Escala de Risco COVID-19",sortable:!0},{key:"scoreOrdenacao",label:"Score de Ordenacao",sortable:!0}]}},methods:{loadIdosos:function(){var e=this;console.log("load idosos");var a="1sP1UegbOnv5dVoO6KMtk2nms6HqjFs3vuYN5FGMWasc",t="Idosos por vulnerabilidade",o="A2:E",s="".concat(u,"/docs/").concat(a,"/sheets/").concat(t,"/range/").concat(o);l.a.get(s).then((function(a){var t=[];a.data.forEach((function(e,a){t.push({row:"A"+(a+2),nome:e[0],escalaVulnerabilidade:e[1],escalaEpidemiologica:e[2],escalaRisco:e[3],scoreOrdenacao:e[4]})})),e.idosos=t,console.log(e.idosos)})).catch(m)}},mounted:function(){this.loadIdosos()}},Me=je,qe=Object(k["a"])(Me,Ue,Re,!1,null,null,null),Le=qe.exports,Be=function(){var e=this,a=e.$createElement,t=e._self._c||a;return t("div",[t("p",[e._v("foram encontrados "+e._s(e.idosos.length)+" registros")]),t("b-table",{attrs:{hover:"",items:e.idosos,fields:e.fields}})],1)},Fe=[],ze={name:"IdososPorRiscoPage",data:function(){return{idosos:[],fields:[{key:"row",label:"row",sortable:!0},{key:"nome",label:"Nome",sortable:!0},{key:"escalaVulnerabilidade",label:"Escala de Vulnerabilidade",sortable:!0},{key:"escalaEpidemiologica",label:"Escala Epidemiológica",sortable:!0},{key:"escalaRisco",label:"Escala de Risco COVID-19",sortable:!0},{key:"scoreOrdenacao",label:"Score de Ordenacao",sortable:!0}]}},methods:{loadIdosos:function(){var e=this;console.log("load idosos");var a="1sP1UegbOnv5dVoO6KMtk2nms6HqjFs3vuYN5FGMWasc",t="Idosos por risco",o="A2:E",s="".concat(u,"/docs/").concat(a,"/sheets/").concat(t,"/range/").concat(o);l.a.get(s).then((function(a){var t=[];a.data.forEach((function(e,a){t.push({row:"A"+(a+2),nome:e[0],escalaVulnerabilidade:e[1],escalaEpidemiologica:e[2],escalaRisco:e[3],scoreOrdenacao:e[4]})})),e.idosos=t,console.log(e.idosos)})).catch(m)}},mounted:function(){this.loadIdosos()}},Ge=ze,He=Object(k["a"])(Ge,Be,Fe,!1,null,null,null),Ye=He.exports,Ke=function(){var e=this,a=e.$createElement,t=e._self._c||a;return t("div",[t("p",[e._v("foram encontrados "+e._s(e.idosos.length)+" registros")]),t("b-table",{attrs:{hover:"",items:e.idosos,fields:e.fields}})],1)},We=[],Je={name:"IdososComEscalaPage",data:function(){return{idosos:[],fields:[{key:"row",label:"row",sortable:!0},{key:"nome",label:"Nome",sortable:!0},{key:"escalaVulnerabilidade",label:"Escala de Vulnerabilidade",sortable:!0},{key:"escalaEpidemiologica",label:"Escala Epidemiológica",sortable:!0},{key:"escalaRisco",label:"Escala de Risco COVID-19",sortable:!0},{key:"scoreOrdenacao",label:"Score de Ordenacao",sortable:!0}]}},methods:{loadIdosos:function(){var e=this;console.log("load idosos");var a="1sP1UegbOnv5dVoO6KMtk2nms6HqjFs3vuYN5FGMWasc",t="Idosos com escalas",o="A2:E",s="".concat(u,"/docs/").concat(a,"/sheets/").concat(t,"/range/").concat(o);l.a.get(s).then((function(a){var t=[];a.data.forEach((function(e,a){t.push({row:"A"+(a+2),nome:e[0],escalaVulnerabilidade:e[1],escalaEpidemiologica:e[2],escalaRisco:e[3],scoreOrdenacao:e[4]})})),e.idosos=t,console.log(e.idosos)})).catch(m)}},mounted:function(){this.loadIdosos()}},Xe=Je,Qe=Object(k["a"])(Xe,Ke,We,!1,null,null,null),Ze=Qe.exports,ea=function(){var e=this,a=e.$createElement,t=e._self._c||a;return t("div",[t("p",[e._v("foram encontrados "+e._s(e.idosos.length)+" registros")]),t("b-table",{attrs:{hover:"",items:e.idosos,fields:e.fields}})],1)},aa=[],ta={name:"IdososOrdemAlfabeticaPage",data:function(){return{idosos:[],fields:[{key:"row",label:"row",sortable:!0},{key:"nome",label:"Nome",sortable:!0}]}},methods:{loadIdosos:function(){var e=this;console.log("load idosos");var a="1sP1UegbOnv5dVoO6KMtk2nms6HqjFs3vuYN5FGMWasc",t="Idosos em ordem alfabética",o="A2:A",s="".concat(u,"/docs/").concat(a,"/sheets/").concat(t,"/range/").concat(o);l.a.get(s).then((function(a){var t=[];a.data.forEach((function(e,a){t.push({row:"A"+(a+2),nome:e[0]})})),e.idosos=t,console.log(e.idosos)})).catch(m)}},mounted:function(){this.loadIdosos()}},oa=ta,sa=Object(k["a"])(oa,ea,aa,!1,null,null,null),ia=sa.exports,na={name:"IdososSpreadsheet",components:{PageTitle:Ae,IdososPage:Te,IdososPorVulnerabilidadePage:Le,IdososPorRiscoPage:Ye,IdososComEscalaPage:Ze,IdososOrdemAlfabeticaPage:ia}},ra=na,la=Object(k["a"])(ra,Se,Ve,!1,null,null,null),da=la.exports,ca=function(){var e=this,a=e.$createElement,t=e._self._c||a;return t("div",[t("PageTitle",{attrs:{icon:"",main:"Planilha de Gerenciamento",sub:"unidade xxxx"}}),t("b-card",{attrs:{"no-body":""}},[t("b-tabs",{attrs:{card:""}},[t("b-tab",{attrs:{title:"Vigilante 1"}},[t("Vigilante1Page")],1),t("b-tab",{attrs:{title:"Vigilante 2"}},[t("Vigilante2Page")],1),t("b-tab",{attrs:{title:"Vigilante 3"}},[t("Vigilante3Page")],1),t("b-tab",{attrs:{title:"Vigilante 4"}},[t("Vigilante4Page")],1),t("b-tab",{attrs:{title:"Respostas"}},[t("RespostasPage")],1),t("b-tab",{attrs:{title:"Escalas"}},[t("EscalasPage")],1),t("b-tab",{attrs:{title:"Status Atendimentos"}},[t("StatusAtendimentosPage")],1)],1)],1)],1)},ua=[],ma=function(){var e=this,a=e.$createElement,t=e._self._c||a;return t("div",[t("p",[e._v("foram encontrados "+e._s(e.items.length)+" registros")]),t("b-table",{attrs:{hover:"",items:e.items,fields:e.fields}})],1)},fa=[],pa={name:"Vigilante1Page",data:function(){return{items:[],fields:[{key:"row",label:"row",sortable:!0},{key:"vigilante",label:"Vigilante",sortable:!0},{key:"nome",label:"Nome",sortable:!0},{key:"telefone1",label:"Telefones",sortable:!0},{key:"agenteSaude",label:"Agente de Saúde",sortable:!0},{key:"atendimentosEfetuados",label:"Atendimentos Efetuados",sortable:!0},{key:"escalaVulnerabilidade",label:"Escala Vulnerabilidade",sortable:!0},{key:"escalaEpidemiologica",label:"Escala Epidemiológica",sortable:!0},{key:"escalaRisco",label:"Escala Risco COVID-19",sortable:!0},{key:"dataUltimoAtendimento",label:"Último Atendimento",sortable:!0},{key:"sugestaoProximoAtendimento",label:"Sugestão próximo atendimento",sortable:!0}]}},methods:{loadItems:function(){var e=this;console.log("load items");var a="1tBlFtcTlo1xtq4lU1O2Yq94wYaFfyL9RboX6mWjKhh4",t="Vigilante 1",o="A2:M",s="".concat(u,"/docs/").concat(a,"/sheets/").concat(t,"/range/").concat(o);l.a.get(s).then((function(a){var t=[];a.data.forEach((function(e,a){t.push({row:"A"+(a+2),vigilante:e[0],nome:e[1],telefone1:"".concat(e[2]," ").concat(e[3]),agenteSaude:e[4],tentativas:e[5],atendimentosEfetuados:"".concat(+e[6],"/").concat(+e[5]+ +e[6]),escalaVulnerabilidade:e[7],escalaEpidemiologica:e[8],escalaRisco:e[9],dataUltimoAtendimento:"".concat(e[10]," ").concat(e[11]),horaUltimoAtendimento:e[11],sugestaoProximoAtendimento:e[12]})})),e.items=t,console.log(e.items)})).catch(m)}},mounted:function(){this.loadItems()}},va=pa,ga=Object(k["a"])(va,ma,fa,!1,null,null,null),ba=ga.exports,ha=function(){var e=this,a=e.$createElement,t=e._self._c||a;return t("div",[t("p",[e._v("foram encontrados "+e._s(e.items.length)+" registros")]),t("b-table",{attrs:{hover:"",items:e.items,fields:e.fields}})],1)},_a=[],Ia={name:"Vigilante2Page",data:function(){return{items:[],fields:[{key:"row",label:"row",sortable:!0},{key:"vigilante",label:"Vigilante",sortable:!0},{key:"nome",label:"Nome",sortable:!0},{key:"telefone1",label:"Telefones",sortable:!0},{key:"agenteSaude",label:"Agente de Saúde",sortable:!0},{key:"atendimentosEfetuados",label:"Atendimentos Efetuados",sortable:!0},{key:"escalaVulnerabilidade",label:"Escala Vulnerabilidade",sortable:!0},{key:"escalaEpidemiologica",label:"Escala Epidemiológica",sortable:!0},{key:"escalaRisco",label:"Escala Risco COVID-19",sortable:!0},{key:"dataUltimoAtendimento",label:"Último Atendimento",sortable:!0},{key:"sugestaoProximoAtendimento",label:"Sugestão próximo atendimento",sortable:!0}]}},methods:{loadItems:function(){var e=this;console.log("load items");var a="1tBlFtcTlo1xtq4lU1O2Yq94wYaFfyL9RboX6mWjKhh4",t="Vigilante 2",o="A2:M",s="".concat(u,"/docs/").concat(a,"/sheets/").concat(t,"/range/").concat(o);l.a.get(s).then((function(a){var t=[];a.data.forEach((function(e,a){t.push({row:"A"+(a+2),vigilante:e[0],nome:e[1],telefone1:"".concat(e[2]," ").concat(e[3]),agenteSaude:e[4],tentativas:e[5],atendimentosEfetuados:"".concat(+e[6],"/").concat(+e[5]+ +e[6]),escalaVulnerabilidade:e[7],escalaEpidemiologica:e[8],escalaRisco:e[9],dataUltimoAtendimento:"".concat(e[10]," ").concat(e[11]),horaUltimoAtendimento:e[11],sugestaoProximoAtendimento:e[12]})})),e.items=t,console.log(e.items)})).catch(m)}},mounted:function(){this.loadItems()}},ya=Ia,ka=Object(k["a"])(ya,ha,_a,!1,null,null,null),Aa=ka.exports,xa=function(){var e=this,a=e.$createElement,t=e._self._c||a;return t("div",[t("p",[e._v("foram encontrados "+e._s(e.items.length)+" registros")]),t("b-table",{attrs:{hover:"",items:e.items,fields:e.fields}})],1)},Ea=[],wa={name:"Vigilante3Page",data:function(){return{items:[],fields:[{key:"row",label:"row",sortable:!0},{key:"vigilante",label:"Vigilante",sortable:!0},{key:"nome",label:"Nome",sortable:!0},{key:"telefone1",label:"Telefones",sortable:!0},{key:"agenteSaude",label:"Agente de Saúde",sortable:!0},{key:"atendimentosEfetuados",label:"Atendimentos Efetuados",sortable:!0},{key:"escalaVulnerabilidade",label:"Escala Vulnerabilidade",sortable:!0},{key:"escalaEpidemiologica",label:"Escala Epidemiológica",sortable:!0},{key:"escalaRisco",label:"Escala Risco COVID-19",sortable:!0},{key:"dataUltimoAtendimento",label:"Último Atendimento",sortable:!0},{key:"sugestaoProximoAtendimento",label:"Sugestão próximo atendimento",sortable:!0}]}},methods:{loadItems:function(){var e=this;console.log("load items");var a="1tBlFtcTlo1xtq4lU1O2Yq94wYaFfyL9RboX6mWjKhh4",t="Vigilante 3",o="A2:M",s="".concat(u,"/docs/").concat(a,"/sheets/").concat(t,"/range/").concat(o);l.a.get(s).then((function(a){var t=[];a.data.forEach((function(e,a){t.push({row:"A"+(a+2),vigilante:e[0],nome:e[1],telefone1:"".concat(e[2]," ").concat(e[3]),agenteSaude:e[4],tentativas:e[5],atendimentosEfetuados:"".concat(+e[6],"/").concat(+e[5]+ +e[6]),escalaVulnerabilidade:e[7],escalaEpidemiologica:e[8],escalaRisco:e[9],dataUltimoAtendimento:"".concat(e[10]," ").concat(e[11]),horaUltimoAtendimento:e[11],sugestaoProximoAtendimento:e[12]})})),e.items=t,console.log(e.items)})).catch(m)}},mounted:function(){this.loadItems()}},Ca=wa,Sa=Object(k["a"])(Ca,xa,Ea,!1,null,null,null),Va=Sa.exports,Pa=function(){var e=this,a=e.$createElement,t=e._self._c||a;return t("div",[t("p",[e._v("foram encontrados "+e._s(e.items.length)+" registros")]),t("b-table",{attrs:{hover:"",items:e.items,fields:e.fields}})],1)},Oa=[],$a={name:"Vigilante4Page",data:function(){return{items:[],fields:[{key:"row",label:"row",sortable:!0},{key:"vigilante",label:"Vigilante",sortable:!0},{key:"nome",label:"Nome",sortable:!0},{key:"telefone1",label:"Telefones",sortable:!0},{key:"agenteSaude",label:"Agente de Saúde",sortable:!0},{key:"atendimentosEfetuados",label:"Atendimentos Efetuados",sortable:!0},{key:"escalaVulnerabilidade",label:"Escala Vulnerabilidade",sortable:!0},{key:"escalaEpidemiologica",label:"Escala Epidemiológica",sortable:!0},{key:"escalaRisco",label:"Escala Risco COVID-19",sortable:!0},{key:"dataUltimoAtendimento",label:"Último Atendimento",sortable:!0},{key:"sugestaoProximoAtendimento",label:"Sugestão próximo atendimento",sortable:!0}]}},methods:{loadItems:function(){var e=this;console.log("load items");var a="1tBlFtcTlo1xtq4lU1O2Yq94wYaFfyL9RboX6mWjKhh4",t="Vigilante 4",o="A2:M",s="".concat(u,"/docs/").concat(a,"/sheets/").concat(t,"/range/").concat(o);l.a.get(s).then((function(a){var t=[];a.data.forEach((function(e,a){t.push({row:"A"+(a+2),vigilante:e[0],nome:e[1],telefone1:"".concat(e[2]," ").concat(e[3]),agenteSaude:e[4],tentativas:e[5],atendimentosEfetuados:"".concat(+e[6],"/").concat(+e[5]+ +e[6]),escalaVulnerabilidade:e[7],escalaEpidemiologica:e[8],escalaRisco:e[9],dataUltimoAtendimento:"".concat(e[10]," ").concat(e[11]),horaUltimoAtendimento:e[11],sugestaoProximoAtendimento:e[12]})})),e.items=t,console.log(e.items)})).catch(m)}},mounted:function(){this.loadItems()}},Na=$a,Da=Object(k["a"])(Na,Pa,Oa,!1,null,null,null),Ta=Da.exports,Ua=function(){var e=this,a=e.$createElement,t=e._self._c||a;return t("div",[t("p",[e._v("foram encontrados "+e._s(e.items.length)+" registros")]),t("b-table",{attrs:{hover:"",items:e.items,fields:e.fields}})],1)},Ra=[],ja={name:"RespostasPage",data:function(){return{items:[],fields:[{key:"row",label:"row",sortable:!0},{key:"data",label:"data",sortable:!0},{key:"vigilante",label:"vigilante",sortable:!0},{key:"nome",label:"Nome",sortable:!0},{key:"atendeu",label:"Atendeu ao telefonema",sortable:!0},{key:"idade",label:"Idade",sortable:!0}]}},methods:{loadItems:function(){var e=this;console.log("load items");var a="1tBlFtcTlo1xtq4lU1O2Yq94wYaFfyL9RboX6mWjKhh4",t="Respostas",o="A2:AI",s="".concat(u,"/docs/").concat(a,"/sheets/").concat(t,"/range/").concat(o);l.a.get(s).then((function(a){var t=[];a.data.forEach((function(e,a){t.push({row:"A"+(a+2),data:e[0],vigilante:e[1],nome:e[2],atendeu:e[3],idade:e[4]})})),e.items=t})).catch(m)}},mounted:function(){this.loadItems()}},Ma=ja,qa=Object(k["a"])(Ma,Ua,Ra,!1,null,null,null),La=qa.exports,Ba=function(){var e=this,a=e.$createElement,t=e._self._c||a;return t("div",[t("p",[e._v("foram encontrados "+e._s(e.items.length)+" registros")]),t("b-table",{attrs:{hover:"",items:e.items,fields:e.fields}})],1)},Fa=[],za={name:"EscalasPage",data:function(){return{items:[],fields:[{key:"row",label:"row",sortable:!0},{key:"nome",label:"nome",sortable:!0},{key:"idade",label:"idade",sortable:!0},{key:"escalaVulnerabilidade",label:"Escala Vulnerabilidade",sortable:!0},{key:"escalaEpidemiologica",label:"Escala Epidemiologica",sortable:!0},{key:"escalaRisco",label:"Escala de Risco",sortable:!0},{key:"scoreOrdenacao",label:"Score de Ordenacao",sortable:!0},{key:"data",label:"data",sortable:!0}]}},methods:{loadItems:function(){var e=this;console.log("load items");var a="1tBlFtcTlo1xtq4lU1O2Yq94wYaFfyL9RboX6mWjKhh4",t="Escalas",o="A2:AI",s="".concat(u,"/docs/").concat(a,"/sheets/").concat(t,"/range/").concat(o);l.a.get(s).then((function(a){var t=[];a.data.forEach((function(e,a){t.push({row:"A"+(a+2),nome:e[0],idade:e[1],escalaVulnerabilidade:e[2],escalaEpidemiologica:e[3],escalaRisco:e[4],scoreOrdenacao:e[5],data:e[6]})})),e.items=t,console.log(e.items)})).catch(m)}},mounted:function(){this.loadItems()}},Ga=za,Ha=Object(k["a"])(Ga,Ba,Fa,!1,null,null,null),Ya=Ha.exports,Ka=function(){var e=this,a=e.$createElement,t=e._self._c||a;return t("div",[t("p",[e._v("foram encontrados "+e._s(e.items.length)+" registros")]),t("b-table",{attrs:{hover:"",items:e.items,fields:e.fields}})],1)},Wa=[],Ja={name:"StatusAtendimentosPage",data:function(){return{items:[],fields:[{key:"row",label:"row",sortable:!0},{key:"vigilante",label:"Vigilante",sortable:!0},{key:"nome",label:"Nome",sortable:!0},{key:"agenteSaude",label:"Agente de Saúde",sortable:!0},{key:"atendimentosEfetuados",label:"Atendimentos Efetuados",sortable:!0},{key:"escalaVulnerabilidade",label:"Escala Vulnerabilidade",sortable:!0},{key:"escalaEpidemiologica",label:"Escala Epidemiológica",sortable:!0},{key:"escalaRisco",label:"Escala Risco COVID-19",sortable:!0},{key:"scoreOrdenacao",label:"scoreOrdenacao",sortable:!0},{key:"dataUltimoAtendimento",label:"Último Atendimento",sortable:!0},{key:"sugestaoProximoAtendimento",label:"Sugestão próximo atendimento",sortable:!0}]}},methods:{loadItems:function(){var e=this;console.log("load items");var a="1tBlFtcTlo1xtq4lU1O2Yq94wYaFfyL9RboX6mWjKhh4",t="Status Atendimentos",o="A2:AI",s="".concat(u,"/docs/").concat(a,"/sheets/").concat(t,"/range/").concat(o);l.a.get(s).then((function(a){var t=[];a.data.forEach((function(e,a){t.push({row:"A"+(a+2),vigilante:e[0],nome:e[1],telefone1:"".concat(e[2]," ").concat(e[3]),agenteSaude:e[4],tentativas:e[5],atendimentosEfetuados:"".concat(+e[6],"/").concat(+e[5]+ +e[6]),escalaVulnerabilidade:e[7],escalaEpidemiologica:e[8],escalaRisco:e[9],scoreOrdenacao:e[10],dataUltimoAtendimento:"".concat(e[11]," ").concat(e[12]),sugestaoProximoAtendimento:e[13]})})),e.items=t,console.log(e.items)})).catch(m)}},mounted:function(){this.loadItems()}},Xa=Ja,Qa=Object(k["a"])(Xa,Ka,Wa,!1,null,null,null),Za=Qa.exports,et={name:"GerenciamentoSpreadsheet",components:{PageTitle:Ae,Vigilante1Page:ba,Vigilante2Page:Aa,Vigilante3Page:Va,Vigilante4Page:Ta,RespostasPage:La,EscalasPage:Ya,StatusAtendimentosPage:Za}},at=et,tt=Object(k["a"])(at,ca,ua,!1,null,null,null),ot=tt.exports,st=function(){var e=this,a=e.$createElement,t=e._self._c||a;return t("div",{staticClass:"listaIdosos"},[t("h6",[t("router-link",{attrs:{to:"/"}},[e._v("Home")])],1),e.unidade?t("div",[e.unidade.lastSyncDate?t("div",{staticClass:"sync-state",class:{ativo:e.unidade.autoSync}},[t("popper",{attrs:{trigger:"hover",options:{placement:"top"}}},[t("div",{staticClass:"popper"},[e._v(" Última sincronização ")]),t("span",{attrs:{slot:"reference"},slot:"reference"},[t("font-awesome-icon",{attrs:{icon:["fas","sync"]}}),e._v(" "+e._s(e.formatDate(e.unidade.lastSyncDate))+" ")],1)])],1):e._e()]):e._e(),t("h5",[e._v(e._s(e.user.nomeUnidade))]),t("h1",[e._v("Meus Idosos")]),t("button",{staticClass:"btn btn-outline-primary mb-4",attrs:{disabled:"LOADING"===e.syncStatus.status},on:{click:e.manualSync}},[e._v("sincronizar agora")]),e.unidade&&"VIGILANTE"===e.user.role||"ADMINISTRADOR"===e.user.role?t("a",{staticClass:"btn btn-primary mb-4 ml-3",attrs:{href:"https://docs.google.com/forms/d/"+e.unidade.idFichaVigilancia+"/edit?usp=sharing",target:"_blank"}},[e._v("Novo atendimento")]):e._e(),t("b-tabs",{attrs:{"content-class":"mt-3"},on:{"activate-tab":e.tabActivated},model:{value:e.tabIndex,callback:function(a){e.tabIndex=a},expression:"tabIndex"}},[t("b-tab",{attrs:{title:"Com escalas",lazy:""}},[t("TableIdosos",{attrs:{collectionPrefix:e.user.collectionPrefix,userId:e.user.id,filter:"com-escalas",orderBy:"VIGILANTE"==e.user.role?"proximo-atendimento":"score"}})],1),t("b-tab",{attrs:{title:"Sem escalas",lazy:""}},[t("TableIdosos",{attrs:{collectionPrefix:e.user.collectionPrefix,userId:e.user.id,filter:"sem-escalas",orderBy:"VIGILANTE"==e.user.role?"proximo-atendimento":"score"}})],1),t("b-tab",{attrs:{title:"Todos",lazy:""}},[t("TableIdosos",{attrs:{collectionPrefix:e.user.collectionPrefix,userId:e.user.id,filter:"all",orderBy:"VIGILANTE"==e.user.role?"proximo-atendimento":"score"}})],1)],1)],1)},it=[],nt=(t("c740"),t("ac1f"),t("5319"),t("841c"),function(){var e=this,a=e.$createElement,t=e._self._c||a;return t("div",{staticClass:"tableIdosos"},[t("b-row",{staticClass:"mb-3",attrs:{"align-h":"end","align-v":"end"}},[t("b-col",{staticClass:"text-right text-muted",attrs:{cols:"2"}},[e._v(" "+e._s(e.tableInfo.totalRows)+" resultados ")]),t("b-col",{attrs:{cols:"2"}},[e._v(" ordenar por "),t("b-form-select",{attrs:{size:"sm",options:e.sortOptions},on:{change:function(a){return e.loadIdosos(0)}},model:{value:e.order,callback:function(a){e.order=a},expression:"order"}})],1)],1),t("b-table",{attrs:{items:e.idosos,fields:e.fields,"primary-key":"_id",busy:e.carregando,"show-empty":""},scopedSlots:e._u([{key:"table-busy",fn:function(){return[t("div",{staticClass:"text-center text-primary my-2"},[t("b-spinner",{staticClass:"align-middle"}),t("strong",[e._v(" Carregando...")])],1)]},proxy:!0},{key:"empty",fn:function(){return[t("div",{staticClass:"text-center text-muted"},[e._v("Não há registros")])]},proxy:!0},{key:"cell(col-1)",fn:function(a){return[t("div",[t("router-link",{attrs:{to:"/unidades/"+a.item.unidade+"/idosos/"+a.item._id}},[e._v(e._s(a.item.nome))])],1),a.item.ultimaEscala?t("div",{staticClass:"badges"},[a.item.ultimaEscala.vulnerabilidade?t("popper",{attrs:{trigger:"hover",options:{placement:"top"}}},[t("div",{staticClass:"popper"},[e._v(" Escala de Vulnerabilidade ")]),t("span",{attrs:{slot:"reference"},slot:"reference"},[t("Badge",{attrs:{value:a.item.ultimaEscala.vulnerabilidade}})],1)]):e._e(),a.item.ultimaEscala.epidemiologica?t("popper",{attrs:{trigger:"hover",options:{placement:"top"}}},[t("div",{staticClass:"popper"},[e._v(" Escala Epidemiológica ")]),t("span",{attrs:{slot:"reference"},slot:"reference"},[t("Badge",{attrs:{value:a.item.ultimaEscala.epidemiologica}})],1)]):e._e(),a.item.ultimaEscala.riscoContagio?t("popper",{attrs:{trigger:"hover",options:{placement:"top"}}},[t("div",{staticClass:"popper"},[e._v(" Risco de Contágio por COVID-19 ")]),t("span",{attrs:{slot:"reference"},slot:"reference"},[t("Badge",{attrs:{value:a.item.ultimaEscala.riscoContagio}})],1)]):e._e()],1):e._e()]}},{key:"cell(col-2)",fn:function(a){return[t("div",{staticClass:"statusAtendimentos"},[t("span",[t("popper",{attrs:{trigger:"hover",options:{placement:"top",modifiers:{offset:{offset:"0,10px"}}}}},[t("div",{staticClass:"popper"},[e._v(" Atendimentos efetuados / total de tentativas ")]),t("span",{attrs:{slot:"reference"},slot:"reference"},[t("font-awesome-icon",{attrs:{icon:["fas","headset"]}}),e._v(" "+e._s(a.item.ultimaEscala?a.item.ultimaEscala.qtdAtendimentosEfetuados:0)+"/"+e._s(a.item.ultimoAtendimento?a.item.ultimoAtendimento.qtdTentativas:0)+" ")],1)])],1),a.item.ultimoAtendimento?t("span",{staticClass:"statusUltimoAtendimento",class:{atendido:a.item.ultimoAtendimento.efetuado}},[t("popper",{attrs:{trigger:"hover",options:{placement:"top",modifiers:{offset:{offset:"0,10px"}}}}},[t("div",{staticClass:"popper"},[e._v(" Último atendimento: "),a.item.ultimoAtendimento.efetuado?t("span",[e._v("Ligação atendida")]):e._e(),a.item.ultimoAtendimento.efetuado?e._e():t("span",[e._v("Não atendeu a ligação")])]),t("span",{attrs:{slot:"reference"},slot:"reference"},[t("span",{directives:[{name:"show",rawName:"v-show",value:a.item.ultimoAtendimento.efetuado,expression:"data.item.ultimoAtendimento.efetuado"}]},[t("font-awesome-icon",{attrs:{icon:["far","check-circle"]}})],1),t("span",{directives:[{name:"show",rawName:"v-show",value:!a.item.ultimoAtendimento.efetuado,expression:"!data.item.ultimoAtendimento.efetuado"}]},[t("font-awesome-icon",{attrs:{icon:["far","times-circle"]}})],1),e._v(" "+e._s(e.formatDate(a.item.ultimoAtendimento.data))+" ")])])],1):e._e(),t("span",{directives:[{name:"show",rawName:"v-show",value:!a.item.ultimoAtendimento,expression:"!data.item.ultimoAtendimento"}],staticClass:"statusUltimoAtendimento atencao"},[t("popper",{attrs:{trigger:"hover",options:{placement:"top",modifiers:{offset:{offset:"0,10px"}}}}},[t("div",{staticClass:"popper"},[e._v(" Último atendimento: não há registros ")]),t("span",{attrs:{slot:"reference"},slot:"reference"},[t("font-awesome-icon",{attrs:{icon:["fas","exclamation-circle"]}}),e._v(" pendente ")],1)])],1),a.item.ultimaEscala&&a.item.ultimaEscala.dataProximoAtendimento?t("span",{staticClass:"dataProximoAtendimento"},[t("popper",{attrs:{trigger:"hover",options:{placement:"top",modifiers:{offset:{offset:"0,10px"}}}}},[t("div",{staticClass:"popper"},[e._v(" Sugestão de próximo atendimento ")]),t("span",{attrs:{slot:"reference"},slot:"reference"},[t("font-awesome-icon",{attrs:{icon:["far","clock"]}}),e._v(" "+e._s(e.formatDate(a.item.ultimaEscala.dataProximoAtendimento))+" ")],1)])],1):t("span",[t("popper",{attrs:{trigger:"hover",options:{placement:"top",modifiers:{offset:{offset:"0,10px"}}}}},[t("div",{staticClass:"popper"},[e._v(" Sugestão de próximo atendimento ")]),t("span",{attrs:{slot:"reference"},slot:"reference"},[t("font-awesome-icon",{attrs:{icon:["far","clock"]}}),e._v(" Não definido ")],1)])],1)]),t("div",[e._v(" Telefones: "+e._s(a.item.telefone1)+" "+e._s(a.item.telefone2)+" ")])]}}])}),t("div",{staticClass:"pagination"},[t("b-button-group",[t("button",{staticClass:"prev btn btn-light",attrs:{disabled:0==e.tableInfo.currentPage},on:{click:function(a){return e.loadIdosos(e.tableInfo.currentPage-1)}}},[e._v("<")]),e._l(Math.ceil(e.tableInfo.totalRows/e.tableInfo.rowsPerPage),(function(a){return t("button",{key:a,staticClass:"btn btn-light",class:{current:a==e.tableInfo.currentPage+1},on:{click:function(t){return e.loadIdosos(a-1)}}},[e._v(e._s(a)+" ")])})),t("button",{staticClass:"next btn btn-light",attrs:{disabled:e.tableInfo.currentPage+1>=Math.ceil(e.tableInfo.totalRows/e.tableInfo.rowsPerPage)},on:{click:function(a){return e.loadIdosos(e.tableInfo.currentPage+1)}}},[e._v(">")])],2)],1)],1)}),rt=[],lt=function(){var e=this,a=e.$createElement,t=e._self._c||a;return t("div",{staticClass:"badge",class:e.color},[e._v(" "+e._s(e.value)+" ")])},dt=[],ct={name:"Badge",props:["value"],computed:{color:function(){switch(this.value){case"baixo":case"Baixo":return"green";case"médio":case"Médio":return"yellow";case"alto":case"Alto":return"red";case"0 - Sem vulnerabilidades":case"O - Sem Vulnerabilidade":return"blue";case"A - vulnerabilidade financeira":case"A - Vulnerabilidade Financeira":case"B - vulnerabilidade alimentar":case"B - Vulnerabilidade Alimentar":return"yellow";case"C - Situação de violência":case"C - situação de violência":return"red";case"Ia - Assintomático, mora com assintomáticos":case"Ib - Assintomático, mas vive sozinho":return"blue";case"IIa - Assintomático, mas sai de casa":case"IIb - Assintomático, mas recebe visitas ou domiciliares saem":case"IIIa - Assintomático, mas com comorbidades":return"green";case"IIIb - Assintomático, mas tem contato com sintomáticos ou confirmados":case"IVa - Assintomático, mas sem medicações":return"yellow";case"IVb - Idoso sintomático":return"red";case"0 - Não atendeu à ligação":default:return"gray"}}}},ut=ct,mt=(t("d49b"),Object(k["a"])(ut,lt,dt,!1,null,null,null)),ft=mt.exports,pt=t("526e"),vt=t.n(pt),gt=(t("a101"),{name:"TableIdosos",props:["collectionPrefix","vigilanteNome","userId","filter","orderBy"],components:{Badge:ft,popper:vt.a},computed:Object(f["b"])(["pageParamsMap"]),data:function(){return{carregando:!0,unidade:null,order:this.orderBy,sortOptions:[{value:"nome",text:"Nome"},{value:"proximo-atendimento",text:"Próximo atendimento"},{value:"score",text:"Score"},{value:"ultimo-atendimento",text:"Último atendimento"}],tableInfo:{totalRows:0,currentPage:0,rowsPerPage:25},idosos:[],fields:[{key:"ultimaEscala.score",label:"Score"},{key:"col-1",label:"Idoso"},{key:"col-2",label:" "}]}},methods:{loadIdosos:function(e){var a,t=this;this.carregando=!0,this.$store.commit("setPageParamsMap",{userId:"undefined"==this.userId?this.vigilanteNome:this.userId,filter:this.filter,order:this.order,page:e,rowsPerPage:this.tableInfo.rowsPerPage}),"undefined"!=this.userId?a="".concat(u,"/unidades/").concat(this.collectionPrefix,"/usuarios/").concat(this.userId,"/idosos?filter=").concat(this.filter,"&sort=").concat(this.order,"&page=").concat(e,"&rowsPerPage=").concat(this.tableInfo.rowsPerPage):this.vigilanteNome&&(console.log("vigilanteNome",this.vigilanteNome),a="".concat(u,"/unidades/").concat(this.collectionPrefix,"/vigilantes/").concat(this.vigilanteNome,"/idosos?filter=").concat(this.filter,"&sort=").concat(this.order,"&page=").concat(e,"&rowsPerPage=").concat(this.tableInfo.rowsPerPage)),console.log(a),l.a.get(a).then((function(e){t.tableInfo=e.data.info,t.idosos=e.data.data,t.carregando=!1})).catch((function(e){console.error(e),m(e)}))},formatDate:function(e){return new Date(e).toLocaleString()}},mounted:function(){var e=this,a=0,t=this.$store.state.pageParamsMap.get("undefined"==this.userId?this.vigilanteNome:this.userId);if(t){var o=t.find((function(a){return a.filter==e.filter}));o&&(this.order=o.order,this.tableInfo.rowsPerPage=o.rowsPerPage,this.tableInfo.currentPage=o.page,a=o.page)}this.loadIdosos(a)}}),bt=gt,ht=(t("e526"),Object(k["a"])(bt,nt,rt,!1,null,null,null)),_t=ht.exports,It={name:"VigilanteHome",components:{TableIdosos:_t,popper:vt.a},computed:Object(f["b"])(["user","syncStatus"]),data:function(){return{carregando:!0,unidade:null,tabIndex:0,tabs:["com-escalas","sem-escalas","todos"]}},methods:{loadUnidade:function(){var e=this,a="".concat(u,"/unidades/").concat(this.user.unidadeId);console.log(a),l.a.get(a).then((function(a){e.unidade=a.data,console.log(e.unidade)})).catch(m)},formatDate:function(e){return new Date(e).toLocaleString()},manualSync:function(){console.log("emit softSyncEvent"),"VIGILANTE"===this.user.role?this.$socket.emit("softSyncEvent",{idUnidade:this.user.unidadeId,nomeVigilante:this.user.name}):this.$socket.emit("softSyncEvent",{idUnidade:this.user.unidadeId})},tabActivated:function(e,a,t){console.log("tab activated",e,a,t),console.log(location.search);var o=this.$route.params;o.tab=this.tabs[e],this.$router.replace({name:this.$route.name,params:o})}},mounted:function(){var e=this;this.tabIndex=this.tabs.findIndex((function(a){return a===e.$route.params.tab})),this.loadUnidade()}},yt=It,kt=(t("905f"),Object(k["a"])(yt,st,it,!1,null,null,null)),At=kt.exports,xt=function(){var e=this,a=e.$createElement,t=e._self._c||a;return t("div",{staticClass:"unidades"},[t("h6",[t("router-link",{attrs:{to:"/"}},[e._v("Home")])],1),t("h1",[e._v("Unidades")]),t("ul",{staticClass:"grid-list row"},[e._l(e.unidades,(function(a){return t("li",{key:a._id,staticClass:"col-sm-6 col-md-4 col-lg-3",class:{ativo:a.autoSync}},[t("router-link",{staticClass:"item",attrs:{to:"/unidades/"+a._id,title:"clique para ver detalhes"}},[a.lastSyncDate?t("div",{staticClass:"sync-state"},[t("popper",{attrs:{trigger:"hover",options:{placement:"top"}}},[t("div",{staticClass:"popper"},[e._v(" "+e._s(a.autoSync?"Sincronização automática ativada":"Sincronização automática desativada")+" ")]),t("span",{attrs:{slot:"reference"},slot:"reference"},[t("font-awesome-icon",{attrs:{icon:["fas","sync"]}}),e._v(" "+e._s(e.formatDate(a.lastSyncDate))+" ")],1)])],1):e._e(),t("h2",[e._v(e._s(a.nome))]),t("p",[e._v("Distrito "+e._s(a.distrito))])])],1)})),t("li",{staticClass:"col-sm-6 col-md-4 col-lg-3"},[t("router-link",{staticClass:"item button",attrs:{to:"/adicionarUnidade"}},[t("h2",[t("font-awesome-icon",{attrs:{icon:["fas","plus"]}}),e._v(" Adicionar unidade")],1)])],1)],2)])},Et=[],wt={name:"Unidades",components:{popper:vt.a},data:function(){return{unidades:[]}},methods:{loadUnidades:function(){var e=this,a="".concat(u,"/v2/unidades");console.log(a),l.a.get(a).then((function(a){e.unidades=a.data,console.log(e.unidades)})).catch(m)},formatDate:function(e){return new Date(e).toLocaleString()}},mounted:function(){this.loadUnidades()}},Ct=wt,St=(t("6f17"),Object(k["a"])(Ct,xt,Et,!1,null,null,null)),Vt=St.exports,Pt=function(){var e=this,a=e.$createElement,t=e._self._c||a;return e.unidade?t("div",{staticClass:"unidades"},[t("h6",[t("router-link",{attrs:{to:"/"}},[e._v("Home")]),e._v(" / "),t("router-link",{attrs:{to:"/unidades"}},[e._v("Unidades")])],1),t("header",{staticClass:"header-page"},[e.unidade.lastSyncDate?t("div",{staticClass:"sync-state",class:{ativo:e.unidade.autoSync}},[t("popper",{attrs:{trigger:"hover",options:{placement:"top"}}},[t("div",{staticClass:"popper"},[e._v(" Última sincronização ")]),t("span",{attrs:{slot:"reference"},slot:"reference"},[t("font-awesome-icon",{attrs:{icon:["fas","sync"]}}),e._v(" "+e._s(e.formatDate(e.unidade.lastSyncDate))+" ")],1)])],1):e._e(),t("h1",[e._v(e._s(e.unidade.nome))]),t("p",[e._v("Distrito "+e._s(e.unidade.distrito))]),t("b-checkbox",{attrs:{name:"check-button",switch:""},on:{change:e.toggleSync},model:{value:e.unidade.autoSync,callback:function(a){e.$set(e.unidade,"autoSync",a)},expression:"unidade.autoSync"}},[e._v(" "+e._s(e.unidade.autoSync?"Sincronização automática ativada":"Sincronização automática desativada")+" "),t("popper",{attrs:{trigger:"hover",options:{placement:"right"}}},[t("div",{staticClass:"popper"},[e._v(" A sincronização automática acontece diariamente as 22:00 ")]),t("span",{attrs:{slot:"reference"},slot:"reference"},[t("span",{staticClass:"text-muted"},[t("font-awesome-icon",{attrs:{icon:["fas","info-circle"]}})],1)])])],1),t("button",{staticClass:"btn btn-primary",attrs:{disabled:"LOADING"===e.syncStatus.status},on:{click:e.manualSync}},[e._v("sincronizar agora")]),t("button",{staticClass:"btn btn-secondary ml-2",attrs:{disabled:"LOADING"===e.syncStatus.status},on:{click:e.manualReset}},[e._v("resetar")]),t("router-link",{staticClass:"btn btn-outline-primary ml-2",attrs:{to:"/adicionarUnidade?id="+e.unidade._id}},[e._v(" editar ")]),t("b-button",{staticClass:"btn btn-danger ml-2",on:{click:function(a){return e.confirmDeletion(e.unidade._id)}}},[e._v("excluir")]),e.loading?t("div",[e._v("carregando...")]):e._e()],1),t("div",{staticClass:"container"},[t("div",{staticClass:"card mb-4"},[t("div",{staticClass:"card-body"},[t("h5",{staticClass:"card-title"},[e._v("Planilhas")]),t("div",[t("b",[e._v("Planilha de idosos:")]),e._v(" "),t("a",{attrs:{href:"https://docs.google.com/spreadsheets/d/"+e.unidade.idPlanilhaIdosos+"/edit?usp=sharing",target:"_blank"}},[e._v(e._s(e.unidade.idPlanilhaIdosos))])]),t("div",[t("b",[e._v("Planilha de gerenciamento:")]),e._v(" "),t("a",{attrs:{href:"https://docs.google.com/spreadsheets/d/"+e.unidade.idPlanilhaGerenciamento+"/edit?usp=sharing",target:"_blank"}},[e._v(e._s(e.unidade.idPlanilhaGerenciamento))])]),t("div",[t("b",[e._v("Ficha de vigilância:")]),e._v(" "),t("a",{attrs:{href:"https://docs.google.com/forms/d/"+e.unidade.idFichaVigilancia+"/edit?usp=sharing",target:"_blank"}},[e._v(e._s(e.unidade.idFichaVigilancia))])])])]),t("div",{staticClass:"card mb-4"},[t("div",{staticClass:"card-body"},[t("h5",{staticClass:"card-title"},[e._v("Vigilantes")]),t("ul",e._l(e.unidade.vigilantes,(function(a){return t("li",{key:a.nome},[t("router-link",{attrs:{to:"/unidades/"+e.unidade.collectionPrefix+"/"+e.unidade.nome+"/"+e.unidade._id+"/usuarios/undefined/"+a.nome+"/com-escalas"}},[e._v(e._s(a.nome))])],1)})),0)])]),t("div",{staticClass:"card mb-4"},[t("div",{staticClass:"card-body"},[t("h5",{staticClass:"card-title"},[e._v(" Usuários "),t("router-link",{staticClass:"btn btn-primary float-right mb-3",attrs:{to:"/unidades/"+e.unidade._id+"/addUsuario"}},[e._v("convidar")])],1),t("b-table",{attrs:{items:e.usuarios,fields:e.fieldsUsuarios},scopedSlots:e._u([{key:"cell(link)",fn:function(a){return[t("router-link",{attrs:{to:"/unidades/"+e.unidade.collectionPrefix+"/"+e.unidade.nome+"/"+e.unidade._id+"/usuarios/"+a.item._id+"/"+a.item.name+"/com-escalas"}},[e._v(e._s(a.item.name))])]}},{key:"cell(status)",fn:function(a){return["INCOMPLETO"==a.item.status?t("span",[e._v(" INCOMPLETO ")]):e._e(),"CONVIDADO"==a.item.status?t("span",[e._v(" CONVITE ENVIADO "),t("button",{staticClass:"btn btn-outline-primary",on:{click:function(t){return e.resendInvite(a.item._id)}}},[e._v("reenviar")])]):t("span",[t("b-form-checkbox",{attrs:{value:"ATIVO","unchecked-value":"INATIVO",name:"check-button",switch:"",disabled:a.item._id==e.user.id},on:{change:function(t){return e.toggleAtivo(a.item)}},model:{value:a.item.status,callback:function(t){e.$set(a.item,"status",t)},expression:"data.item.status"}})],1)]}},{key:"cell(acoes)",fn:function(a){return[t("b-button",{staticClass:"btn btn-danger ml-2",attrs:{disabled:a.item._id==e.user.id},on:{click:function(t){return e.deleteUsuario(a.item._id)}}},[e._v("excluir")])]}}],null,!1,298051900)})],1)]),t("div",{staticClass:"card mb-4"},[t("div",{staticClass:"card-body"},[t("h5",{staticClass:"card-title"},[e._v(" Idosos "),t("router-link",{staticClass:"btn btn-primary float-right mb-3",attrs:{to:"/unidades/"+e.unidade._id+"/cadastrarIdoso"}},[e._v("cadastrar")])],1),t("b-table",{attrs:{items:e.idosos,fields:e.fieldsIdosos},scopedSlots:e._u([{key:"cell(acoes)",fn:function(a){return[t("router-link",{staticClass:"btn btn-outline-primary",attrs:{to:"/unidades/"+e.unidade._id+"/cadastrarIdoso?id="+a.item._id}},[e._v("editar")]),t("b-button",{staticClass:"btn btn-danger ml-2",on:{click:function(t){return e.deleteIdoso(a.item._id)}}},[e._v("excluir")])]}}],null,!1,3906316543)})],1)])])]):e._e()},Ot=[],$t=(t("25f0"),{name:"Unidade",components:{popper:vt.a},data:function(){return{unidade:null,loading:!1,usuarios:[],fieldsUsuarios:[{key:"link",label:"nome"},{key:"email",label:"email"},{key:"role",label:"tipo"},{key:"status",label:"status"},{key:"acoes",label:"ações"}],idosos:[],fieldsIdosos:[{key:"nome",label:"nome"},{key:"dataNascimento",label:"data de nascimento"},{key:"telefone1",label:"telefone 1"},{key:"telefone2",label:"telefone 2"},{key:"agenteSaude",label:"agente de saúde"},{key:"vigilanteId",label:"vigilante"},{key:"anotacoes",label:"anotações"},{key:"acoes",label:"ações"}]}},computed:Object(f["b"])(["syncStatus","user"]),methods:{loadUnidade:function(){var e=this,a="".concat(u,"/v2/unidades/").concat(this.$route.params.id);console.log(a),l.a.get(a).then((function(a){e.unidade=a.data,console.log(e.unidade)})).catch(m)},loadUsuarios:function(){var e=this,a="".concat(u,"/v2/unidades/").concat(this.$route.params.id,"/usuarios");console.log(a),l.a.get(a).then((function(a){e.usuarios=a.data,console.log(e.usuarios)})).catch(m)},loadIdosos:function(){var e=this,a="".concat(u,"/v2/unidades/").concat(this.$route.params.id,"/idosos");console.log(a),l.a.get(a).then((function(a){e.idosos=a.data})).catch(m)},formatDate:function(e){return new Date(e).toLocaleString()},toggleSync:function(e){var a=this;this.loading=!0,this.$store.commit("setIsLoadingApp",!0);var t="".concat(u,"/unidades/").concat(this.$route.params.id,"/autosync/").concat(e);console.log(t),l.a.get(t).then((function(e){console.log(e),a.$router.go()})).catch((function(e){console.log(e),a.loading=!1,a.$store.commit("setIsLoadingApp",!1),m(e)}))},manualSync:function(){console.log("emit syncEvent"),this.$socket.emit("syncEvent",{idUnidade:this.unidade._id})},manualReset:function(){console.log("emit resetEvent"),this.$socket.emit("resetEvent",{idUnidade:this.unidade._id})},resendInvite:function(e){var a=this,t="".concat(u,"/v2/usuarios/resendInvitation/").concat(e);console.log(t),l.a.post(t).then((function(e){console.log(e),a.$toasted.global.defaultSuccess({msg:e.data})})).catch(m)},toggleAtivo:function(e){var a=this,t="".concat(u,"/v2/usuarios/").concat(e._id,"/status/").concat("ATIVO"==e.status?"INATIVO":"INATIVO"==e.status?"ATIVO":e.status);console.log(t),l.a.post(t).then((function(e){a.$toasted.global.defaultSuccess({msg:e.data})})).catch((function(a){e.status="ATIVO"==e.status?"INATIVO":"INATIVO"==e.status?"ATIVO":e.status,m(a)}))},deleteUsuario:function(e){var a=this;this.$bvModal.msgBoxConfirm("Deseja realmente excluir o usuário? Todos os dados serão perdidos!",{okVariant:"danger",okTitle:"excluir",cancelTitle:"cancelar"}).then((function(t){if(console.log(t),!0===t){var o="".concat(u,"/v2/usuarios/").concat(e);console.log(o),l.a.delete(o).then((function(e){console.log(e),a.$toasted.global.defaultSuccess({msg:"Usuário removido com sucesso"}),a.loadUsuarios()})).catch(m)}})).catch((function(e){console.error(e.toString())}))},confirmDeletion:function(e){var a=this;this.$bvModal.msgBoxConfirm("Deseja realmente excluir a unidade? Todos os dados serão perdidos!",{okVariant:"danger",okTitle:"excluir",cancelTitle:"cancelar"}).then((function(t){if(console.log(t),!0===t){var o="".concat(u,"/v2/unidades/").concat(e);console.log(o),l.a.delete(o).then((function(e){console.log(e),a.$router.push({name:"unidades"}),a.$toasted.global.defaultSuccess({msg:"Unidade removida com sucesso"})})).catch(m)}})).catch((function(e){console.error(e.toString())}))},deleteIdoso:function(e){var a=this;this.$bvModal.msgBoxConfirm("Deseja realmente excluir o idoso? Todos os dados serão perdidos!",{okVariant:"danger",okTitle:"excluir",cancelTitle:"cancelar"}).then((function(t){if(console.log(t),!0===t){var o="".concat(u,"/v2/unidades/").concat(a.unidade._id,"/idosos/").concat(e);console.log(o),l.a.delete(o).then((function(e){console.log(e),a.$toasted.global.defaultSuccess({msg:"Idoso removido com sucesso"}),a.loadIdosos()})).catch(m)}})).catch((function(e){console.error(e.toString())}))}},sockets:{connect:function(){console.log("socket connected")}},mounted:function(){this.loadUnidade(),this.loadUsuarios(),this.loadIdosos()}}),Nt=$t,Dt=(t("6e60"),Object(k["a"])(Nt,Pt,Ot,!1,null,null,null)),Tt=Dt.exports,Ut=function(){var e=this,a=e.$createElement,t=e._self._c||a;return t("div",{staticClass:"adicionarUnidade"},[t("h1",[e._v("Adicionar/Editar Unidade")]),e._m(0),t("b-form",{on:{submit:e.onSubmit}},[t("b-form-group",{attrs:{id:"input-group-nome",label:"Nome:","label-for":"nome"}},[t("b-form-input",{attrs:{id:"nome",type:"text",required:"",placeholder:"Nome da unidade"},model:{value:e.form.nome,callback:function(a){e.$set(e.form,"nome",a)},expression:"form.nome"}})],1),t("b-form-group",{attrs:{id:"input-group-distrito",label:"Distrito:","label-for":"distrito"}},[t("b-form-select",{attrs:{id:"distrito",options:e.distritos,required:""},model:{value:e.form.distrito,callback:function(a){e.$set(e.form,"distrito",a)},expression:"form.distrito"}})],1),t("b-form-group",{attrs:{id:"input-group-planilhaIdosos",label:"Planilha de idosos:","label-for":"planilhaIdosos"}},[t("b-form-input",{attrs:{id:"planilhaIdosos",type:"text",required:"",placeholder:"Link para planilha de idosos"},model:{value:e.form.planilhaIdosos,callback:function(a){e.$set(e.form,"planilhaIdosos",a)},expression:"form.planilhaIdosos"}})],1),t("b-form-group",{attrs:{id:"input-group-planilhaGerenciamento",label:"Planilha de gerenciamento:","label-for":"planilhaGerenciamento"}},[t("b-form-input",{attrs:{id:"planilhaGerenciamento",type:"text",required:"",placeholder:"Link para planilha de gerenciamento"},model:{value:e.form.planilhaGerenciamento,callback:function(a){e.$set(e.form,"planilhaGerenciamento",a)},expression:"form.planilhaGerenciamento"}})],1),t("b-form-group",{attrs:{id:"input-group-fichaVigilancia",label:"Ficha de vigilância:","label-for":"fichaVigilancia"}},[t("b-form-input",{attrs:{id:"fichaVigilancia",type:"text",required:"",placeholder:"Link para ficha de vigilância"},model:{value:e.form.fichaVigilancia,callback:function(a){e.$set(e.form,"fichaVigilancia",a)},expression:"form.fichaVigilancia"}})],1),t("b-button",{attrs:{type:"submit",variant:"primary"}},[e._v("Salvar")])],1)],1)},Rt=[function(){var e=this,a=e.$createElement,t=e._self._c||a;return t("p",[e._v("Atenção: Não se esqueça de compartilhar as planilhas com o email "),t("code",[e._v("autobot@frente-prevencao-covid-19-rn.iam.gserviceaccount.com")]),e._v(" para que a sincronização dos dados possa ser efetuada.")])}],jt={name:"AdicionarUnidade",data:function(){return{form:{nome:"",distrito:null,_isDeleted:!1,planilhaIdosos:"",planilhaGerenciamento:"",fichaVigilancia:"",idPlanilhaIdosos:"",idPlanilhaGerenciamento:"",idFichaVigilancia:"",collectionPrefix:"",ativo:!0,autoSync:!1,lastSyncDate:null,vigilantes:[]},distritos:[{text:"Selecione...",value:null},"Norte I","Norte II","Sul","Leste","Oeste"]}},methods:{onSubmit:function(e){var a=this;e.preventDefault(),console.log(JSON.stringify(this.form));var t="".concat(u,"/v2/unidades");console.log(t),l.a.post(t,this.form).then((function(e){a.$router.push({name:"unidade",params:{id:e.data}}),a.$toasted.global.defaultSuccess()})).catch(m)}},mounted:function(){var e=this;if(this.$route.query.id){var a="".concat(u,"/v2/unidades/").concat(this.$route.query.id);l.a.get(a).then((function(a){e.form=a.data})).catch(m)}}},Mt=jt,qt=Object(k["a"])(Mt,Ut,Rt,!1,null,null,null),Lt=qt.exports,Bt=function(){var e=this,a=e.$createElement,t=e._self._c||a;return t("div",{staticClass:"adicionarUsuario"},[t("h1",[e._v("Convidar Usuário")]),t("b-form",{on:{submit:e.onSubmit}},[t("b-form-group",{attrs:{id:"input-group-nome",label:"Nome:","label-for":"nome"}},[t("b-form-input",{attrs:{id:"nome",type:"text",required:"",placeholder:"Nome do usuário"},model:{value:e.form.name,callback:function(a){e.$set(e.form,"name",a)},expression:"form.name"}})],1),t("b-form-group",{attrs:{id:"input-group-email",label:"Email:","label-for":"email"}},[t("b-form-input",{attrs:{id:"email",type:"email",required:"",placeholder:"E-mail"},model:{value:e.form.email,callback:function(a){e.$set(e.form,"email",a)},expression:"form.email"}})],1),t("b-form-group",{attrs:{id:"input-group-permissao",label:"Permissão:","label-for":"permissao"}},[t("b-form-select",{attrs:{id:"permissao",options:e.permissoes,required:""},model:{value:e.form.role,callback:function(a){e.$set(e.form,"role",a)},expression:"form.role"}})],1),t("b-form-group",{attrs:{id:"input-group-unidade",label:"Unidade:","label-for":"unidade"}},[t("b-form-select",{attrs:{id:"unidade",options:e.unidades,required:""},model:{value:e.form.unidadeId,callback:function(a){e.$set(e.form,"unidadeId",a)},expression:"form.unidadeId"}})],1),t("b-button",{attrs:{type:"submit",variant:"primary"}},[e._v("Salvar")])],1)],1)},Ft=[],zt={name:"ConvidarUsuario",data:function(){return{form:{name:"",email:"",role:"VIGILANTE",unidadeId:this.$route.params.unidadeId,status:"CONVIDADO",_isDeleted:!1},permissoes:[{text:"Preceptor",value:"PRECEPTOR"},{text:"Vigilante",value:"VIGILANTE"}],unidades:[{text:this.$route.params.unidadeId,value:this.$route.params.unidadeId}]}},methods:{onSubmit:function(e){var a=this;e.preventDefault(),console.log(JSON.stringify(this.form));var t="".concat(u,"/v2/unidades/").concat(this.$route.params.unidadeId,"/usuarios");console.log(t),l.a.post(t,this.form).then((function(){a.$router.push({name:"unidade",params:{id:a.$route.params.unidadeId}}),a.$toasted.global.defaultSuccess()})).catch(m)}}},Gt=zt,Ht=Object(k["a"])(Gt,Bt,Ft,!1,null,null,null),Yt=Ht.exports,Kt=function(){var e=this,a=e.$createElement,t=e._self._c||a;return t("div",{staticClass:"idososPorVigilante"},[e.unidade?t("h6",[t("router-link",{attrs:{to:"/"}},[e._v("Home")]),e._v(" / "),t("router-link",{attrs:{to:"/unidades"}},[e._v("Unidades")]),e._v(" / "),t("router-link",{attrs:{to:"/unidades/"+e.unidade._id}},[e._v(e._s(e.$route.params.unidadeNome))])],1):e._e(),e.unidade?t("div",[e.unidade.lastSyncDate?t("div",{staticClass:"sync-state",class:{ativo:e.unidade.autoSync}},[t("popper",{attrs:{trigger:"hover",options:{placement:"top"}}},[t("div",{staticClass:"popper"},[e._v(" Última sincronização ")]),t("span",{attrs:{slot:"reference"},slot:"reference"},[t("font-awesome-icon",{attrs:{icon:["fas","sync"]}}),e._v(" "+e._s(e.formatDate(e.unidade.lastSyncDate))+" ")],1)])],1):e._e()]):e._e(),t("h1",[e._v("Meus Idosos ("+e._s(e.$route.params.nome)+")")]),t("button",{staticClass:"btn btn-primary mb-2",attrs:{disabled:"LOADING"===e.syncStatus.status},on:{click:e.manualSync}},[e._v("sincronizar agora")]),t("b-tabs",{attrs:{"content-class":"mt-3"},on:{"activate-tab":e.tabActivated},model:{value:e.tabIndex,callback:function(a){e.tabIndex=a},expression:"tabIndex"}},[t("b-tab",{attrs:{title:"Com escalas",lazy:""}},[t("TableIdosos",{attrs:{collectionPrefix:e.$route.params.unidadePrefix,userId:e.$route.params.usuarioId,vigilanteNome:e.$route.params.nome,filter:"com-escalas",orderBy:"score"}})],1),t("b-tab",{attrs:{title:"Sem escalas",lazy:""}},[t("TableIdosos",{attrs:{collectionPrefix:e.$route.params.unidadePrefix,userId:e.$route.params.usuarioId,vigilanteNome:e.$route.params.nome,filter:"sem-escalas",orderBy:"score"}})],1),t("b-tab",{attrs:{title:"Todos",lazy:""}},[t("TableIdosos",{attrs:{collectionPrefix:e.$route.params.unidadePrefix,userId:e.$route.params.usuarioId,vigilanteNome:e.$route.params.nome,filter:"all",orderBy:"score"}})],1)],1)],1)},Wt=[],Jt={name:"IdososPorVigilante",components:{TableIdosos:_t,popper:vt.a},computed:Object(f["b"])(["syncStatus"]),data:function(){return{carregando:!0,unidade:null,tabIndex:0,tabs:["com-escalas","sem-escalas","todos"]}},methods:{loadUnidade:function(){var e=this,a="".concat(u,"/unidades/").concat(this.$route.params.unidadeId);console.log(a),l.a.get(a).then((function(a){e.unidade=a.data,console.log(e.unidade)})).catch(m)},formatDate:function(e){return new Date(e).toLocaleString()},manualSync:function(){console.log("emit syncEvent"),this.$socket.emit("syncEvent",{idUnidade:this.$route.params.unidadeId})},tabActivated:function(e,a,t){console.log("tab activated",e,a,t),console.log(location.search);var o=this.$route.params;o.tab=this.tabs[e],this.$router.replace({name:this.$route.name,params:o})}},mounted:function(){var e=this;this.tabIndex=this.tabs.findIndex((function(a){return a===e.$route.params.tab})),this.loadUnidade()}},Xt=Jt,Qt=(t("ce8d"),Object(k["a"])(Xt,Kt,Wt,!1,null,null,null)),Zt=Qt.exports,eo=function(){var e=this,a=e.$createElement,t=e._self._c||a;return t("div",{staticClass:"auth-content"},[t("div",{staticClass:"auth-modal"},[t("div",{staticClass:"auth-title"},[e._v("Login")]),t("input",{directives:[{name:"model",rawName:"v-model",value:e.user.email,expression:"user.email"}],attrs:{name:"email",placeholder:"E-mail",type:"email"},domProps:{value:e.user.email},on:{input:function(a){a.target.composing||e.$set(e.user,"email",a.target.value)}}}),t("input",{directives:[{name:"model",rawName:"v-model",value:e.user.password,expression:"user.password"}],attrs:{name:"password",placeholder:"Senha",type:"password"},domProps:{value:e.user.password},on:{input:function(a){a.target.composing||e.$set(e.user,"password",a.target.value)}}}),t("button",{on:{click:e.login}},[e._v("Entrar")]),t("router-link",{attrs:{to:"/forgot"}},[e._v("Esqueceu a senha?")])],1)])},ao=[],to={name:"Auth",data:function(){return{user:{}}},methods:{login:function(){var e=this;l.a.post("".concat(u,"/v2/login"),this.user).then((function(a){e.$store.commit("setUser",a.data),localStorage.setItem(c,JSON.stringify(a.data)),e.$router.push({path:"/"})})).catch(m)}}},oo=to,so=(t("ee68"),Object(k["a"])(oo,eo,ao,!1,null,null,null)),io=so.exports,no=function(){var e=this,a=e.$createElement,t=e._self._c||a;return t("div",{staticClass:"auth-content"},[t("div",{staticClass:"auth-modal"},[t("div",{staticClass:"auth-title"},[e._v("Resetar senha")]),t("p",[e._v("Informe seu e-mail, caso ele esteja cadastrado, você receberá um e-mail com instruções para recuperar sua senha.")]),t("input",{directives:[{name:"model",rawName:"v-model",value:e.user.email,expression:"user.email"}],attrs:{name:"email",placeholder:"E-mail",type:"email"},domProps:{value:e.user.email},on:{input:function(a){a.target.composing||e.$set(e.user,"email",a.target.value)}}}),t("button",{on:{click:e.login}},[e._v("Enviar")])])])},ro=[],lo={name:"ForgotPassword",data:function(){return{user:{}}},methods:{login:function(){var e=this;l.a.post("".concat(u,"/v2/forgotPassword"),this.user).then((function(a){e.$toasted.global.defaultSuccess({msg:a.data})})).catch(m)}}},co=lo,uo=(t("8e27"),Object(k["a"])(co,no,ro,!1,null,null,null)),mo=uo.exports,fo=function(){var e=this,a=e.$createElement,t=e._self._c||a;return t("div",{staticClass:"auth-content"},[t("div",{staticClass:"auth-modal"},[t("div",{staticClass:"auth-title"},[e._v("Alterar Senha")]),t("input",{directives:[{name:"model",rawName:"v-model",value:e.user.password,expression:"user.password"}],attrs:{name:"password",placeholder:"Nova Senha",type:"password",required:"true"},domProps:{value:e.user.password},on:{input:function(a){a.target.composing||e.$set(e.user,"password",a.target.value)}}}),t("input",{directives:[{name:"model",rawName:"v-model",value:e.user.confirmPassword,expression:"user.confirmPassword"}],attrs:{name:"confirmPassword",placeholder:"Repetir Senha",type:"password",required:"true"},domProps:{value:e.user.confirmPassword},on:{input:function(a){a.target.composing||e.$set(e.user,"confirmPassword",a.target.value)}}}),t("button",{on:{click:e.salvar}},[e._v("Salvar")])])])},po=[],vo={name:"ResetPassword",data:function(){return{user:{_id:this.$route.params.id,resetPasswordToken:this.$route.params.token}}},methods:{validateResetToken:function(){var e=this;return Object(n["a"])(regeneratorRuntime.mark((function a(){var t;return regeneratorRuntime.wrap((function(a){while(1)switch(a.prev=a.next){case 0:return a.next=2,l.a.post("".concat(u,"/v2/validateResetToken"),{_id:e.$route.params.id,token:e.$route.params.token});case 2:t=a.sent,!1===t.data&&m("token expirado");case 4:case"end":return a.stop()}}),a)})))()},salvar:function(){l.a.post("".concat(u,"/v2/resetPassword"),this.user).then((function(e){console.log(e.data),window.location.href=window.location.origin})).catch(m)}},mounted:function(){this.validateResetToken()}},go=vo,bo=(t("1157"),Object(k["a"])(go,fo,po,!1,null,null,null)),ho=bo.exports,_o=function(){var e=this,a=e.$createElement,t=e._self._c||a;return t("div",{staticClass:"auth-content"},[t("div",{staticClass:"auth-modal"},[t("div",{staticClass:"auth-title"},[e._v("Aceitar convite")]),t("p",[e._v("crie uma senha")]),t("input",{directives:[{name:"model",rawName:"v-model",value:e.user.password,expression:"user.password"}],attrs:{name:"password",placeholder:"Senha",type:"password",required:"true"},domProps:{value:e.user.password},on:{input:function(a){a.target.composing||e.$set(e.user,"password",a.target.value)}}}),t("input",{directives:[{name:"model",rawName:"v-model",value:e.user.confirmPassword,expression:"user.confirmPassword"}],attrs:{name:"confirmPassword",placeholder:"Repetir Senha",type:"password",required:"true"},domProps:{value:e.user.confirmPassword},on:{input:function(a){a.target.composing||e.$set(e.user,"confirmPassword",a.target.value)}}}),t("button",{on:{click:e.salvar}},[e._v("Salvar")])])])},Io=[],yo={name:"AcceptInvitation",data:function(){return{user:{_id:this.$route.params.id,invitationToken:this.$route.params.token}}},methods:{salvar:function(){l.a.post("".concat(u,"/v2/acceptInvite"),this.user).then((function(e){console.log(e.data),window.location.href=window.location.origin})).catch(m)}}},ko=yo,Ao=(t("dcee"),Object(k["a"])(ko,_o,Io,!1,null,null,null)),xo=Ao.exports,Eo=function(){var e=this,a=e.$createElement,t=e._self._c||a;return t("div",{staticClass:"administradores"},[t("h6",[t("router-link",{attrs:{to:"/"}},[e._v("Home")])],1),t("h1",[e._v("Administradores")]),t("div",{staticClass:"card mb-4"},[t("div",{staticClass:"card-body"},[t("h5",{staticClass:"card-title"},[e._v(" Usuários "),t("router-link",{staticClass:"btn btn-primary float-right mb-3",attrs:{to:"/administradores/addUsuario"}},[e._v("convidar")])],1),t("b-table",{attrs:{items:e.usuarios,fields:e.fieldsUsuarios},scopedSlots:e._u([{key:"cell(status)",fn:function(a){return["INCOMPLETO"==a.item.status?t("span",[e._v(" INCOMPLETO ")]):e._e(),"CONVIDADO"==a.item.status?t("span",[e._v(" CONVITE ENVIADO "),t("button",{staticClass:"btn btn-outline-primary",on:{click:function(t){return e.resendInvite(a.item._id)}}},[e._v("reenviar")])]):t("span",[t("b-form-checkbox",{attrs:{value:"ATIVO","unchecked-value":"INATIVO",name:"check-button",switch:"",disabled:a.item._id==e.user.id},on:{change:function(t){return e.toggleAtivo(a.item)}},model:{value:a.item.status,callback:function(t){e.$set(a.item,"status",t)},expression:"data.item.status"}})],1)]}},{key:"cell(acoes)",fn:function(a){return[t("b-button",{staticClass:"btn btn-danger ml-2",attrs:{disabled:a.item._id==e.user.id},on:{click:function(t){return e.deleteUsuario(a.item._id)}}},[e._v("excluir")])]}}])})],1)])])},wo=[],Co={name:"Administradores",data:function(){return{usuarios:[],fieldsUsuarios:[{key:"name",label:"nome"},{key:"email",label:"email"},{key:"status",label:"status"},{key:"acoes",label:"ações"}]}},computed:Object(f["b"])(["user"]),methods:{loadUsuarios:function(){var e=this,a="".concat(u,"/v2/administradores");console.log(a),l.a.get(a).then((function(a){e.usuarios=a.data,console.log(e.usuarios)})).catch(m)},resendInvite:function(e){var a=this,t="".concat(u,"/v2/usuarios/resendInvitation/").concat(e);console.log(t),l.a.post(t).then((function(e){console.log(e),a.$toasted.global.defaultSuccess({msg:e.data})})).catch(m)},toggleAtivo:function(e){var a=this,t="".concat(u,"/v2/usuarios/").concat(e._id,"/status/").concat("ATIVO"==e.status?"INATIVO":"INATIVO"==e.status?"ATIVO":e.status);console.log(t),l.a.post(t).then((function(e){a.$toasted.global.defaultSuccess({msg:e.data})})).catch((function(a){e.status="ATIVO"==e.status?"INATIVO":"INATIVO"==e.status?"ATIVO":e.status,m(a)}))},deleteUsuario:function(e){var a=this;this.$bvModal.msgBoxConfirm("Deseja realmente excluir o usuário? Todos os dados serão perdidos!",{okVariant:"danger",okTitle:"excluir",cancelTitle:"cancelar"}).then((function(t){if(console.log(t),!0===t){var o="".concat(u,"/v2/usuarios/").concat(e);console.log(o),l.a.delete(o).then((function(e){console.log(e),a.$toasted.global.defaultSuccess({msg:"Usuário removido com sucesso"}),a.loadUsuarios()})).catch(m)}})).catch((function(e){console.error(e.toString())}))}},mounted:function(){this.loadUsuarios()}},So=Co,Vo=Object(k["a"])(So,Eo,wo,!1,null,null,null),Po=Vo.exports,Oo=function(){var e=this,a=e.$createElement,t=e._self._c||a;return t("div",{staticClass:"adicionarUsuario"},[t("h1",[e._v("Convidar Administrador")]),t("b-form",{on:{submit:e.onSubmit}},[t("b-form-group",{attrs:{id:"input-group-nome",label:"Nome:","label-for":"nome"}},[t("b-form-input",{attrs:{id:"nome",type:"text",required:"",placeholder:"Nome"},model:{value:e.form.name,callback:function(a){e.$set(e.form,"name",a)},expression:"form.name"}})],1),t("b-form-group",{attrs:{id:"input-group-email",label:"Email:","label-for":"email"}},[t("b-form-input",{attrs:{id:"email",type:"email",required:"",placeholder:"E-mail"},model:{value:e.form.email,callback:function(a){e.$set(e.form,"email",a)},expression:"form.email"}})],1),t("b-button",{attrs:{type:"submit",variant:"primary"}},[e._v("Salvar")])],1)],1)},$o=[],No={name:"ConvidarUsuario",data:function(){return{form:{name:"",email:"",role:"ADMINISTRADOR",status:"CONVIDADO",_isDeleted:!1}}},methods:{onSubmit:function(e){var a=this;e.preventDefault(),console.log(JSON.stringify(this.form));var t="".concat(u,"/v2/administradores");console.log(t),l.a.post(t,this.form).then((function(){a.$router.push({name:"administradores"}),a.$toasted.global.defaultSuccess()})).catch(m)}}},Do=No,To=Object(k["a"])(Do,Oo,$o,!1,null,null,null),Uo=To.exports,Ro=function(){var e=this,a=e.$createElement,t=e._self._c||a;return t("div",{staticClass:"adicionarIdoso"},[t("h1",[e._v("Cadastrar/Editar Idoso")]),t("b-form",{on:{submit:e.onSubmit}},[t("b-form-group",{attrs:{id:"input-group-nome",label:"Nome:","label-for":"nome"}},[t("b-form-input",{attrs:{id:"nome",type:"text",required:"",placeholder:"Nome do idoso"},model:{value:e.form.nome,callback:function(a){e.$set(e.form,"nome",a)},expression:"form.nome"}})],1),t("b-form-group",{attrs:{id:"input-group-nascimento",label:"Data de nascimento:","label-for":"nascimento"}},[t("b-form-input",{attrs:{id:"nascimento",type:"text",placeholder:"Data de nascimento"},model:{value:e.form.dataNascimento,callback:function(a){e.$set(e.form,"dataNascimento",a)},expression:"form.dataNascimento"}})],1),t("b-form-group",{attrs:{id:"input-group-telefone1",label:"Telefone 1:","label-for":"telefone1"}},[t("b-form-input",{attrs:{id:"telefone1",type:"text",placeholder:"Telefone 1"},model:{value:e.form.telefone1,callback:function(a){e.$set(e.form,"telefone1",a)},expression:"form.telefone1"}})],1),t("b-form-group",{attrs:{id:"input-group-telefone2",label:"Telefone 2:","label-for":"telefone2"}},[t("b-form-input",{attrs:{id:"telefone2",type:"text",placeholder:"Telefone 2"},model:{value:e.form.telefone2,callback:function(a){e.$set(e.form,"telefone2",a)},expression:"form.telefone2"}})],1),t("b-form-group",{attrs:{id:"input-group-agenteSaude",label:"Agente de saúde:","label-for":"agenteSaude"}},[t("b-form-input",{attrs:{id:"agenteSaude",type:"text",placeholder:"Agente de saúde"},model:{value:e.form.agenteSaude,callback:function(a){e.$set(e.form,"agenteSaude",a)},expression:"form.agenteSaude"}})],1),t("b-form-group",{attrs:{id:"input-group-anotacoes",label:"Anotações:","label-for":"anotacoes"}},[t("b-form-input",{attrs:{id:"anotacoes",type:"text",placeholder:"Anotações"},model:{value:e.form.anotacoes,callback:function(a){e.$set(e.form,"anotacoes",a)},expression:"form.anotacoes"}})],1),t("b-form-group",{attrs:{id:"input-group-unidade",label:"Unidade:","label-for":"unidade"}},[t("b-form-select",{attrs:{id:"unidade",options:e.unidades,required:""},model:{value:e.form.unidadeId,callback:function(a){e.$set(e.form,"unidadeId",a)},expression:"form.unidadeId"}})],1),t("b-form-group",{attrs:{id:"input-group-vigilante",label:"Vigilante:","label-for":"vigilante"}},[t("b-form-select",{attrs:{id:"vigilante",options:e.vigilantes},model:{value:e.form.vigilanteId,callback:function(a){e.$set(e.form,"vigilanteId",a)},expression:"form.vigilanteId"}})],1),t("b-button",{attrs:{type:"submit",variant:"primary"}},[e._v("Salvar")])],1)],1)},jo=[],Mo=(t("d81d"),t("2909")),qo={name:"CadastrarIdoso",data:function(){return{form:{nome:"",dataNascimento:"",telefone1:"",telefone2:"",agenteSaude:"",anotacoes:"",unidadeId:this.$route.params.unidadeId,vigilanteId:"",row:"",_isDeleted:!1},unidades:[{text:"Selecione...",value:""}],vigilantes:[{text:"",value:""},{text:"Carlos",value:"5f9dc89e0a136c35bc73b0a8"}]}},methods:{loadUnidades:function(){var e=this,a="".concat(u,"/v2/unidades");console.log(a),l.a.get(a).then((function(a){e.unidades=[{text:"Selecione...",value:""}].concat(Object(Mo["a"])(a.data.map((function(e){return{text:e.nome,value:e._id}}))))})).catch(m)},onSubmit:function(e){var a=this;e.preventDefault(),console.log(JSON.stringify(this.form));var t="".concat(u,"/v2/unidades/").concat(this.$route.params.unidadeId,"/idosos");console.log(t,this.form),l.a.post(t,this.form).then((function(){a.$router.push({name:"unidade",params:{id:a.$route.params.unidadeId}}),a.$toasted.global.defaultSuccess({msg:"Registro salvo com sucesso"})})).catch(m)}},mounted:function(){var e=this;if(this.loadUnidades(),this.$route.query.id){var a="".concat(u,"/v2/unidades/").concat(this.$route.params.id,"/idosos/").concat(this.$route.query.id);l.a.get(a).then((function(a){e.form=a.data})).catch(m)}}},Lo=qo,Bo=Object(k["a"])(Lo,Ro,jo,!1,null,null,null),Fo=Bo.exports,zo=function(){var e=this,a=e.$createElement,t=e._self._c||a;return e.idoso?t("div",{staticClass:"idoso"},["ADMINISTRADOR"!==e.user.role?t("h6",[t("router-link",{attrs:{to:"/"}},[e._v("Home")]),e._v(" / "),t("router-link",{attrs:{to:"/meusIdosos/"}},[e._v("Meus Idosos")])],1):e._e(),"ADMINISTRADOR"===e.user.role?t("h6",[t("router-link",{attrs:{to:"/"}},[e._v("Home")]),e._v(" / "),t("router-link",{attrs:{to:"/unidades"}},[e._v("Unidades")]),e._v(" / "+e._s(e.idoso.unidade)+" / "+e._s(e.idoso.vigilante))],1):e._e(),t("h1",[e._v(" "+e._s(e.idoso.nome)+" ")]),e.idoso.ultimaEscala?t("div",{staticClass:"badges"},[e.idoso.ultimaEscala.vulnerabilidade?t("popper",{attrs:{trigger:"hover",options:{placement:"top"}}},[t("div",{staticClass:"popper"},[e._v(" Escala de Vulnerabilidade ")]),t("span",{attrs:{slot:"reference"},slot:"reference"},[t("Badge",{attrs:{value:e.idoso.ultimaEscala.vulnerabilidade}})],1)]):e._e(),e.idoso.ultimaEscala.epidemiologica?t("popper",{attrs:{trigger:"hover",options:{placement:"top"}}},[t("div",{staticClass:"popper"},[e._v(" Escala Epidemiológica ")]),t("span",{attrs:{slot:"reference"},slot:"reference"},[t("Badge",{attrs:{value:e.idoso.ultimaEscala.epidemiologica}})],1)]):e._e(),e.idoso.ultimaEscala.riscoContagio?t("popper",{attrs:{trigger:"hover",options:{placement:"top"}}},[t("div",{staticClass:"popper"},[e._v(" Risco de Contágio por COVID-19 ")]),t("span",{attrs:{slot:"reference"},slot:"reference"},[t("Badge",{attrs:{value:e.idoso.ultimaEscala.riscoContagio}})],1)]):e._e(),t("small",{staticClass:"text-muted ml-2"},[e._v("Score "+e._s(e.idoso.ultimaEscala.score))])],1):e._e(),t("div",{staticClass:"row mt-4"},[t("div",{staticClass:"col"},[t("div",[t("strong",[e._v("Unidade:")]),e._v(" "+e._s(e.$route.params.unidadeId)+" ")]),t("div",[t("strong",[e._v("Agente de saúde:")]),e._v(" "+e._s(e.idoso.agenteSaude)+" ")]),t("div",[t("strong",[e._v("Data de Nascimento:")]),e._v(" "+e._s(e.idoso.dataNascimento)+" ")]),t("div",[t("strong",[e._v("Telefones:")]),e._v(" "+e._s(e.idoso.telefone1)+" "+e._s(e.idoso.telefone2?"/ "+e.idoso.telefone2:"")+" ")]),t("div",[t("strong",[e._v("Key:")]),e._v(" "+e._s(e.idoso.row)+" ")])]),t("div",{staticClass:"col"},[t("div",[t("strong",[e._v("Vigilante:")]),e._v(" "+e._s(e.idoso.vigilante)+" ")]),t("div",[t("strong",[e._v("Atendimentos efetuados:")]),t("span",[t("popper",{attrs:{trigger:"hover",options:{placement:"top",modifiers:{offset:{offset:"0,10px"}}}}},[t("div",{staticClass:"popper"},[e._v(" Atendimentos efetuados / total de tentativas ")]),t("span",{attrs:{slot:"reference"},slot:"reference"},[e._v(" "+e._s(e.idoso.ultimaEscala?e.idoso.ultimaEscala.qtdAtendimentosEfetuados:0)+"/"+e._s(e.idoso.ultimoAtendimento?e.idoso.ultimoAtendimento.qtdTentativas:0)+" ")])])],1)]),t("div",[t("strong",[e._v("Último atendimento:")]),e.idoso.ultimoAtendimento?t("span",{staticClass:"statusUltimoAtendimento",class:{atendido:e.idoso.ultimoAtendimento.efetuado}},[t("popper",{attrs:{trigger:"hover",options:{placement:"top",modifiers:{offset:{offset:"0,10px"}}}}},[t("div",{staticClass:"popper"},[e._v(" Último atendimento: "),e.idoso.ultimoAtendimento.efetuado?t("span",[e._v("Ligação atendida")]):e._e(),e.idoso.ultimoAtendimento.efetuado?e._e():t("span",[e._v("Não atendeu a ligação")])]),t("span",{attrs:{slot:"reference"},slot:"reference"},[t("span",{directives:[{name:"show",rawName:"v-show",value:e.idoso.ultimoAtendimento.efetuado,expression:"idoso.ultimoAtendimento.efetuado"}]},[t("font-awesome-icon",{attrs:{icon:["far","check-circle"]}})],1),t("span",{directives:[{name:"show",rawName:"v-show",value:!e.idoso.ultimoAtendimento.efetuado,expression:"!idoso.ultimoAtendimento.efetuado"}]},[t("font-awesome-icon",{attrs:{icon:["far","times-circle"]}})],1),e._v(" "+e._s(e.formatDate(e.idoso.ultimoAtendimento.data))+" ")])])],1):e._e(),t("span",{directives:[{name:"show",rawName:"v-show",value:!e.idoso.ultimoAtendimento,expression:"!idoso.ultimoAtendimento"}],staticClass:"statusUltimoAtendimento atencao"},[t("popper",{attrs:{trigger:"hover",options:{placement:"top",modifiers:{offset:{offset:"0,10px"}}}}},[t("div",{staticClass:"popper"},[e._v(" Último atendimento: não há registros ")]),t("span",{attrs:{slot:"reference"},slot:"reference"},[t("font-awesome-icon",{attrs:{icon:["fas","exclamation-circle"]}}),e._v(" pendente ")],1)])],1)]),t("div",[t("strong",[e._v("Sugestão de próximo atendimento:")]),e.idoso.ultimaEscala&&e.idoso.ultimaEscala.dataProximoAtendimento?t("span",{staticClass:"dataProximoAtendimento"},[t("popper",{attrs:{trigger:"hover",options:{placement:"top",modifiers:{offset:{offset:"0,10px"}}}}},[t("div",{staticClass:"popper"},[e._v(" Sugestão de próximo atendimento ")]),t("span",{attrs:{slot:"reference"},slot:"reference"},[t("font-awesome-icon",{attrs:{icon:["far","clock"]}}),e._v(" "+e._s(e.formatDate(e.idoso.ultimaEscala.dataProximoAtendimento))+" ")],1)])],1):t("span",[t("popper",{attrs:{trigger:"hover",options:{placement:"top",modifiers:{offset:{offset:"0,10px"}}}}},[t("div",{staticClass:"popper"},[e._v(" Sugestão de próximo atendimento ")]),t("span",{attrs:{slot:"reference"},slot:"reference"},[t("font-awesome-icon",{attrs:{icon:["far","clock"]}}),e._v(" Não definido ")],1)])],1)])])]),t("div",{staticClass:"row mt-3"},[t("div",{staticClass:"col"},[t("div",[t("strong",[e._v("Anotações do vigilante:")]),t("p",[e._v(e._s(e.idoso.anotacoes?e.idoso.anotacoes:"-"))])])])]),t("h2",{staticClass:"my-5"},[e._v("Histórico de atendimentos")]),t("b-table",{attrs:{items:e.atendimentos,fields:e.fields,"primary-key":"_id",busy:e.carregandoAtendimentos,"show-empty":""},scopedSlots:e._u([{key:"table-busy",fn:function(){return[t("div",{staticClass:"text-center text-primary my-2"},[t("b-spinner",{staticClass:"align-middle"}),t("strong",[e._v(" Carregando...")])],1)]},proxy:!0},{key:"empty",fn:function(){return[t("div",{staticClass:"text-center text-muted"},[e._v("Não há registros")])]},proxy:!0},{key:"cell(col-data)",fn:function(a){return[t("router-link",{attrs:{to:"/unidades/"+e.$route.params.unidadeId+"/atendimentos/"+a.item._id}},[e._v(" "+e._s(e.formatDate(a.item.fichaVigilancia.data))+" ")])]}},{key:"cell(col-status)",fn:function(a){return[a.item.fichaVigilancia.dadosIniciais?t("span",{staticClass:"statusUltimoAtendimento",class:{atendido:a.item.fichaVigilancia.dadosIniciais.atendeu}},[t("span",{directives:[{name:"show",rawName:"v-show",value:a.item.fichaVigilancia.dadosIniciais.atendeu,expression:"data.item.fichaVigilancia.dadosIniciais.atendeu"}]},[t("font-awesome-icon",{attrs:{icon:["far","check-circle"]}}),e._v(" Ligação atendida ")],1),t("span",{directives:[{name:"show",rawName:"v-show",value:!a.item.fichaVigilancia.dadosIniciais.atendeu,expression:"!data.item.fichaVigilancia.dadosIniciais.atendeu"}]},[t("font-awesome-icon",{attrs:{icon:["far","times-circle"]}}),e._v(" Ligação não atendida ")],1)]):e._e()]}},{key:"cell(col-escalas)",fn:function(a){return[a.item.escalas?t("div",{staticClass:"badges"},[a.item.escalas.vulnerabilidade?t("popper",{attrs:{trigger:"hover",options:{placement:"top"}}},[t("div",{staticClass:"popper"},[e._v(" Escala de Vulnerabilidade ")]),t("span",{attrs:{slot:"reference"},slot:"reference"},[t("Badge",{attrs:{value:a.item.escalas.vulnerabilidade}})],1)]):e._e(),a.item.escalas.epidemiologica?t("popper",{attrs:{trigger:"hover",options:{placement:"top"}}},[t("div",{staticClass:"popper"},[e._v(" Escala Epidemiológica ")]),t("span",{attrs:{slot:"reference"},slot:"reference"},[t("Badge",{attrs:{value:a.item.escalas.epidemiologica}})],1)]):e._e(),a.item.escalas.riscoContagio?t("popper",{attrs:{trigger:"hover",options:{placement:"top"}}},[t("div",{staticClass:"popper"},[e._v(" Risco de Contágio por COVID-19 ")]),t("span",{attrs:{slot:"reference"},slot:"reference"},[t("Badge",{attrs:{value:a.item.escalas.riscoContagio}})],1)]):e._e()],1):e._e()]}}],null,!1,884971155)})],1):e._e()},Go=[],Ho={name:"Idoso",components:{Badge:ft,popper:vt.a},computed:Object(f["b"])(["user"]),data:function(){return{idoso:null,atendimentos:[],fields:[{key:"col-data",label:"Data"},{key:"col-status",label:"Status"},{key:"col-escalas",label:"Escalas"},{key:"fichaVigilancia.vigilante",label:"Vigilante"}],carregandoAtendimentos:!1}},methods:{loadIdoso:function(){var e=this,a="".concat(u,"/unidades/").concat(this.$route.params.unidadeId,"/idosos/").concat(this.$route.params.idosoId);console.log(a),l.a.get(a).then((function(a){e.idoso=a.data,console.log(e.idoso),e.loadAtendimentos()})).catch(m)},loadAtendimentos:function(){var e=this;this.carregandoAtendimentos=!0;var a="".concat(u,"/unidades/").concat(this.$route.params.unidadeId,"/idosos/").concat(this.idoso.nomeLower,"/atendimentos");console.log(a),l.a.get(a).then((function(a){e.atendimentos=a.data,e.carregandoAtendimentos=!1,console.log(e.atendimentos)})).catch((function(e){console.error(e),m(e)}))},formatDate:function(e){return new Date(e).toLocaleString()}},mounted:function(){this.loadIdoso()}},Yo=Ho,Ko=(t("672a"),Object(k["a"])(Yo,zo,Go,!1,null,null,null)),Wo=Ko.exports,Jo=function(){var e=this,a=e.$createElement,t=e._self._c||a;return e.atendimento?t("div",{staticClass:"atendimento"},["ADMINISTRADOR"!==e.user.role&&e.idoso?t("h6",[t("router-link",{attrs:{to:"/"}},[e._v("Home")]),e._v(" / "),t("router-link",{attrs:{to:"/meusIdosos/"}},[e._v("Meus Idosos")]),e._v(" / "),t("router-link",{attrs:{to:"/unidades/"+e.idoso.unidade+"/idosos/"+e.idoso._id}},[e._v(e._s(e.idoso.nome))])],1):e._e(),"ADMINISTRADOR"===e.user.role&&e.idoso?t("h6",[t("router-link",{attrs:{to:"/"}},[e._v("Home")]),e._v(" / "),t("router-link",{attrs:{to:"/unidades"}},[e._v("Unidades")]),e._v(" / "+e._s(e.idoso.unidade)+" / "+e._s(e.idoso.vigilante)+" / "),t("router-link",{attrs:{to:"/unidades/"+e.idoso.unidade+"/idosos/"+e.idoso._id}},[e._v(e._s(e.idoso.nome))])],1):e._e(),t("h1",[e._v("Atendimento")]),t("h6",{staticClass:"text-muted"},[e._v(e._s(e.formatDate(e.atendimento.fichaVigilancia.data)))]),t("div",{staticClass:"row mt-5"},[t("div",{staticClass:"col-lg-7"},[t("b-card",{staticClass:"mb-4",attrs:{title:"Idoso"}},[e.idoso?t("b-card-text",[t("div",{staticClass:"row"},[t("div",{staticClass:"col-lg-6"},[t("div",[t("b",[e._v("Nome:")]),e._v(" "+e._s(e.idoso.nome)+" ")]),t("div",[t("b",[e._v("Data de nascimento:")]),e._v(" "+e._s(e.idoso.dataNascimento)+" ")]),t("div",[t("b",[e._v("Telefones:")]),e._v(" "+e._s(e.idoso.telefone1)+" "+e._s(e.idoso.telefone2?"/ "+e.idoso.telefone2:"")+" ")])]),t("div",{staticClass:"col-lg-6"},[t("div",[t("b",[e._v("Unidade:")]),e._v(" "+e._s(e.idoso.unidade)+" ")]),t("div",[t("b",[e._v("Agente de saúde:")]),e._v(" "+e._s(e.idoso.agenteSaude)+" ")]),t("div",[t("b",[e._v("Vigilante:")]),e._v(" "+e._s(e.idoso.vigilante)+" ")])])])]):e._e()],1),e.atendimento.fichaVigilancia.dadosIniciais.atendeu?t("b-card",{staticClass:"mb-4",attrs:{title:"Sintomas do idoso"}},[t("b-card-text",[t("div",[t("b",[e._v("O idoso apresenta sintomas de gripe/COVID?")]),e.atendimento.fichaVigilancia.sintomasIdoso.apresentaSintomasGripeCOVID?e._e():t("div",[e._v("Não")]),t("ul",e._l(e.atendimento.fichaVigilancia.sintomasIdoso.sintomas,(function(a){return t("li",{key:a},[e._v(e._s(a))])})),0)]),t("div",[t("b",[e._v("Apresenta também outros sintomas?")]),0==e.atendimento.fichaVigilancia.sintomasIdoso.outrosSintomas.length?t("div",[e._v("Não")]):e._e(),t("ul",e._l(e.atendimento.fichaVigilancia.sintomasIdoso.outrosSintomas,(function(a){return t("li",{key:a},[e._v(e._s(a))])})),0)]),e.atendimento.fichaVigilancia.sintomasIdoso.detalhesAdicionais?t("div",[t("b",[e._v("Detalhes adicionais a respeito dos sintomas")]),t("div",[e._v(e._s(e.atendimento.fichaVigilancia.sintomasIdoso.detalhesAdicionais)+" ")])]):e._e(),e.atendimento.fichaVigilancia.sintomasIdoso.haQuantosDiasIniciaram>0?t("div",[t("b",[e._v("Se estiver apresentando sintomas, há quantos dias eles iniciaram?")]),t("div",[e._v(e._s(e.atendimento.fichaVigilancia.sintomasIdoso.haQuantosDiasIniciaram)+" ")])]):e._e(),t("div",[t("b",[e._v("Esteve em contato com algum caso confirmado de coronavírus?")]),t("div",[e._v(e._s(e.atendimento.fichaVigilancia.sintomasIdoso.contatoComCasoConfirmado?"Sim":"Não")+" ")])])])],1):e._e(),e.atendimento.fichaVigilancia.dadosIniciais.atendeu?t("b-card",{staticClass:"mb-4",attrs:{title:"Comorbidades"}},[t("b-card-text",[t("div",[t("b",[e._v("Tem alguma condição de saúde?")]),e.atendimento.fichaVigilancia.comorbidades.condicoesSaude?e._e():t("div",[e._v("Não")]),t("ul",e._l(e.atendimento.fichaVigilancia.comorbidades.condicoesSaude,(function(a){return t("li",{key:a},[e._v(e._s(a))])})),0)]),t("div",[t("b",[e._v("Tem alguma medicação que toma todos os dias?")]),t("div",[e._v(e._s(e.atendimento.fichaVigilancia.comorbidades.medicacaoDiaria.deveTomar?"Sim":"Não"))]),t("ul",e._l(e.atendimento.fichaVigilancia.comorbidades.medicacaoDiaria.medicacoes,(function(a){return t("li",{key:a},[e._v(e._s(a))])})),0)]),e.atendimento.fichaVigilancia.comorbidades.medicacaoDiaria.deveTomar?t("div",[t("b",[e._v("Se toma medicação diariamente, está conseguindo adquiri-las?")]),t("div",[e._v(e._s(e.atendimento.fichaVigilancia.comorbidades.medicacaoDiaria.acessoMedicacao?"Sim":"Não"))])]):e._e()])],1):e._e(),e.atendimento.fichaVigilancia.dadosIniciais.atendeu?t("b-card",{staticClass:"mb-4",attrs:{title:"Acompanhantes no domicílio"}},[t("b-card-text",[t("div",[t("b",[e._v("Quantas pessoas moram na casa do idoso?")]),t("div",[e._v(" "+e._s(e.atendimento.fichaVigilancia.qtdAcompanhantesDomicilio))])]),e.atendimento.fichaVigilancia.qtdAcompanhantesDomicilio>0?t("div",[t("b",[e._v("Na casa do idoso, alguém apresenta sintomas de gripe/COVID?")]),0==e.atendimento.fichaVigilancia.sintomasDomicilio.length?t("div",[e._v("Não")]):e._e(),t("ul",e._l(e.atendimento.fichaVigilancia.sintomasDomicilio,(function(a){return t("li",{key:a},[e._v(e._s(a))])})),0)]):e._e(),e.atendimento.fichaVigilancia.qtdAcompanhantesDomicilio>0?t("div",[t("b",[e._v("As pessoas que moram com o idoso têm saído de casa?")]),t("div",[e._v(" "+e._s(e.atendimento.fichaVigilancia.habitosDomiciliaresAcompanhantes.saiDeCasa?"Sim":"Não"))])]):e._e(),e.atendimento.fichaVigilancia.qtdAcompanhantesDomicilio>0?t("div",[t("b",[e._v("As pessoas que moram com o idoso têm feito a higienização frequente das mãos com água e sabão ou álcool gel?")]),t("div",[e._v(" "+e._s(e.atendimento.fichaVigilancia.habitosDomiciliaresAcompanhantes.higienizacaoMaos?"Sim":"Não"))])]):e._e(),e.atendimento.fichaVigilancia.qtdAcompanhantesDomicilio>0?t("div",[t("b",[e._v("O idoso costuma compartilhar utensílios com as pessoas da sua casa? Ex: copos, talheres.")]),t("div",[e._v(" "+e._s(e.atendimento.fichaVigilancia.habitosDomiciliaresAcompanhantes.compartilhamentoUtensilios?"Sim":"Não"))])]):e._e(),e.atendimento.fichaVigilancia.qtdAcompanhantesDomicilio>0?t("div",[t("b",[e._v("Todos em casa usam máscara ao falar com o idoso?")]),t("div",[e._v(" "+e._s(e.atendimento.fichaVigilancia.habitosDomiciliaresAcompanhantes.usoMascara?"Sim":"Não"))])]):e._e()])],1):e._e(),e.atendimento.fichaVigilancia.dadosIniciais.atendeu?t("b-card",{staticClass:"mb-4",attrs:{title:"Identificação de vulnerabilidades"}},[t("b-card-text",[t("div",[t("b",[e._v("Após a sondagem, como você identifica o convívio do idoso com sua família?")]),t("div",[e._v(" "+e._s(e.atendimento.fichaVigilancia.vulnerabilidades.convivioFamilia))])]),t("div",[t("b",[e._v("Após a sondagem, você identificou algum sinal de vulnerabilidade alimentar?")]),t("div",[e._v(" "+e._s(e.atendimento.fichaVigilancia.vulnerabilidades.alimentar?"Sim":"Não"))])]),t("div",[t("b",[e._v("Após a sondagem, você identificou algum sinal de vulnerabilidade financeira ou abuso financeiro por parte de terceiros?")]),t("div",[e._v(" "+e._s(e.atendimento.fichaVigilancia.vulnerabilidades.financeira?"Sim":"Não"))])]),t("div",[t("b",[e._v("Após a sondagem, você identificou algum sinal de violência sofrida pelo idoso, seja ela física ou psicológica?")]),t("div",[e._v(" "+e._s(e.atendimento.fichaVigilancia.vulnerabilidades.violencia?"Sim":"Não"))])])])],1):e._e(),t("b-card",{staticClass:"mb-4",attrs:{title:"Observações"}},[t("b-card-text",[t("div",[t("div",[e._v(" "+e._s(e.atendimento.fichaVigilancia.vulnerabilidades.observacoes||"-"))])])])],1)],1),t("div",{staticClass:"col-lg-5"},[t("b-card",{staticClass:"mb-4",attrs:{title:"Ficha do atendimento"}},[t("b-card-text",[t("div",[t("b",[e._v("Data de realização:")]),e._v(" "+e._s(e.formatDate(e.atendimento.fichaVigilancia.data))+" ")]),t("div",[t("b",[e._v("Status da chamada: ")]),t("span",{staticClass:"statusUltimoAtendimento",class:{atendido:e.atendimento.fichaVigilancia.dadosIniciais.atendeu}},[t("span",{directives:[{name:"show",rawName:"v-show",value:e.atendimento.fichaVigilancia.dadosIniciais.atendeu,expression:"atendimento.fichaVigilancia.dadosIniciais.atendeu"}]},[t("font-awesome-icon",{attrs:{icon:["far","check-circle"]}}),e._v(" Ligação atendida ")],1),t("span",{directives:[{name:"show",rawName:"v-show",value:!e.atendimento.fichaVigilancia.dadosIniciais.atendeu,expression:"!atendimento.fichaVigilancia.dadosIniciais.atendeu"}]},[t("font-awesome-icon",{attrs:{icon:["far","times-circle"]}}),e._v(" Ligação não atendida ")],1)])]),t("div",[t("b",[e._v("Vigilante responsável:")]),e._v(" "+e._s(e.atendimento.fichaVigilancia.vigilante)+" ")]),t("div",[t("b",[e._v("Tipo de atendimento:")]),e._v(" "+e._s(e.atendimento.fichaVigilancia.primeiroAtendimento?"Primeiro atendimento":"Acompanhamento")+" ")]),e.atendimento.fichaVigilancia.fonte?t("div",[t("b",[e._v("Fonte das informações:")]),e._v(" "+e._s(e.atendimento.fichaVigilancia.fonte)+" ")]):e._e(),e.atendimento.fichaVigilancia.idade?t("div",[t("b",[e._v("Idade:")]),e._v(" "+e._s(e.atendimento.fichaVigilancia.idade)+" anos ")]):e._e(),e.atendimento.fichaVigilancia.duracaoChamada?t("div",[t("b",[e._v("Duração da chamada:")]),e._v(" "+e._s(e.atendimento.fichaVigilancia.duracaoChamada)+" ")]):e._e(),t("div",[t("b",[e._v("key:")]),e._v(" "+e._s(e.atendimento.fichaVigilancia.row)+" ")])])],1),e.atendimento.fichaVigilancia.dadosIniciais.atendeu?t("b-card",{staticClass:"mb-4",attrs:{title:"Resultado do atendimento"}},[t("b-card-text",[t("div",[t("b",[e._v("Escala de vulnerabilidade")]),e.atendimento.escalas.vulnerabilidade?t("div",[t("Badge",{attrs:{value:e.atendimento.escalas.vulnerabilidade}})],1):e._e()]),t("br"),t("div",[t("b",[e._v("Escala epidemiológica")]),e.atendimento.escalas.epidemiologica?t("div",[t("Badge",{attrs:{value:e.atendimento.escalas.epidemiologica}})],1):e._e()]),t("br"),t("div",[t("b",[e._v("Escala de Risco COVID")]),e.atendimento.escalas.riscoContagio?t("div",[t("Badge",{attrs:{value:e.atendimento.escalas.riscoContagio}})],1):e._e()]),t("br"),t("div",[t("b",[e._v("Score de ordenação")]),e.atendimento.escalas.scoreOrdenacao?t("div",[e._v(" "+e._s(e.atendimento.escalas.scoreOrdenacao)+" ")]):e._e()])])],1):e._e(),e.idoso&&e.idoso.ultimaEscala?t("b-card",{staticClass:"mb-4",attrs:{title:"Epidemiologia"}},[t("b-card-text",[t("div",[t("b",[e._v("Tem feito a higienização frequente das mãos com água e sabão ou álcool gel?")]),t("div",[e._v(" "+e._s(e.idoso.ultimaEscala.epidemiologia.higienizacaoMaos?"Sim":"Não")+" ")])]),t("div",[t("b",[e._v("O idoso tem saído de casa?")]),t("div",[e._v(" "+e._s(e.idoso.ultimaEscala.epidemiologia.isolamento.saiDeCasa?"Sim":"Não")+" ")])]),e.idoso.ultimaEscala.epidemiologia.isolamento.saiDeCasa?t("div",[t("b",[e._v("Caso o idoso esteja saindo de casa, qual a frequência?")]),t("div",[e._v(" "+e._s(e.idoso.ultimaEscala.epidemiologia.isolamento.frequencia)+" ")])]):e._e(),e.idoso.ultimaEscala.epidemiologia.isolamento.saiDeCasa?t("div",[t("b",[e._v("Caso o idoso esteja saindo de casa, para onde?")]),t("ul",e._l(e.idoso.ultimaEscala.epidemiologia.isolamento.paraOnde,(function(a){return t("li",{key:a},[e._v(e._s(a))])})),0)]):e._e(),t("div",[t("b",[e._v("Há um familiar ou amigo que o idoso possa contar quando necessita de ajuda?")]),t("div",[e._v(" "+e._s(e.idoso.ultimaEscala.epidemiologia.recebeApoioFamiliarOuAmigo?"Sim":"Não")+" ")])]),e.idoso.ultimaEscala.epidemiologia.visitas.recebeVisitas?t("div",[t("b",[e._v("Caso esteja recebendo visitas na sua casa, essas visitas estão tomando os cuidados de prevenção?")]),t("div",[e._v(" "+e._s(e.idoso.ultimaEscala.epidemiologia.visitas.tomamCuidadosPrevencao?"Sim":"Não")+" ")])]):e._e(),t("div",[t("b",[e._v("Qual número de cômodos a casa do idoso possui?")]),t("div",[e._v(" "+e._s(e.idoso.ultimaEscala.epidemiologia.qtdComodosCasa)+" ")])]),t("div",[t("b",[e._v("Dentro de casa, tem realizado alguma atividade prazerosa?")]),t("div",[e._v(" "+e._s(e.idoso.ultimaEscala.epidemiologia.realizaAtividadePrazerosa?"Sim":"Não")+" ")])])])],1):e._e(),e.idoso&&!e.idoso.ultimaEscala?t("b-card",{staticClass:"mb-4",attrs:{title:"Epidemiologia"}},[t("b-card-text",[e._v(" O idoso ainda não possui atendimentos efetuados ")])],1):e._e()],1)])]):e._e()},Xo=[],Qo={name:"Atendimento",components:{Badge:ft},computed:Object(f["b"])(["user"]),data:function(){return{atendimento:null,idoso:null,loading:!1}},methods:{loadAtendimento:function(){var e=this,a="".concat(u,"/unidades/").concat(this.$route.params.unidadeId,"/atendimentos/").concat(this.$route.params.atendimentoId);console.log(a),l.a.get(a).then((function(a){e.atendimento=a.data,console.log(e.atendimento),e.loadIdoso(),console.log(e.atendimento.fichaVigilancia.dadosIniciais.nomeLower)})).catch(m)},loadIdoso:function(){var e=this,a="".concat(u,"/unidades/").concat(this.$route.params.unidadeId,"/idosos/").concat(this.atendimento.fichaVigilancia.dadosIniciais.nomeLower);console.log(a),l.a.get(a).then((function(a){e.idoso=a.data,console.log(e.idoso)})).catch(m)},formatDate:function(e){return new Date(e).toLocaleString()}},mounted:function(){this.loadAtendimento()}},Zo=Qo,es=(t("3cef"),Object(k["a"])(Zo,Jo,Xo,!1,null,null,null)),as=es.exports;o["default"].use(ve["a"]);var ts=[{name:"home",path:"/",component:Ce},{name:"idososSpreadsheet",path:"/googlesheets/idosos",component:da},{name:"gerenciamentoSpreadsheet",path:"/googlesheets/gerenciamento",component:ot},{name:"meusIdosos",path:"/meusIdosos/:tab",component:At},{name:"idososPorUsuario",path:"/unidades/:unidadePrefix/:unidadeNome/:unidadeId/usuarios/:usuarioId/:nome/:tab",component:Zt,meta:{requiresAdmin:!0}},{name:"auth",path:"/auth",component:io},{name:"forgotPassword",path:"/forgot",component:mo},{name:"resetPassword",path:"/reset/:id/:token",component:ho},{name:"convidarUsuarioDaUnidade",path:"/unidades/:unidadeId/addUsuario",component:Yt,meta:{requiresAdmin:!0}},{name:"convidarAdministrador",path:"/administradores/addUsuario",component:Uo,meta:{requiresAdmin:!0}},{name:"acceptInvitation",path:"/acceptInvitation/:id/:token",component:xo},{name:"atendimento",path:"/unidades/:unidadeId/atendimentos/:atendimentoId",component:as},{name:"idoso",path:"/unidades/:unidadeId/idosos/:idosoId",component:Wo},{name:"unidade",path:"/unidades/:id",component:Tt,meta:{requiresAdmin:!0}},{name:"unidades",path:"/unidades",component:Vt,meta:{requiresAdmin:!0}},{name:"adicionarUnidade",path:"/adicionarUnidade",component:Lt,meta:{requiresAdmin:!0}},{name:"administradores",path:"/administradores",component:Po,meta:{requiresAdmin:!0}},{name:"cadastrarIdoso",path:"/unidades/:unidadeId/cadastrarIdoso",component:Fo,meta:{requiresPreceptor:!0}}],os=new ve["a"]({mode:"history",routes:ts});os.beforeEach((function(e,a,t){var o=localStorage.getItem(c);if(e.matched.some((function(e){return e.meta.requiresAdmin}))){var s=JSON.parse(o);s&&"ADMINISTRADOR"===s.role?t():t({path:"/"})}else if(e.matched.some((function(e){return e.meta.requiresPreceptor}))){var i=JSON.parse(o);!i||"ADMINISTRADOR"!==i.role&&"PRECEPTOR"!==i.role?t({path:"/"}):t()}else t()}));var ss=os,is=t("5132"),ns=t.n(is),rs=t("ecee"),ls=t("c074"),ds=t("b702"),cs=t("f2d1"),us=t("ad3d");rs["c"].add(ls["e"],ls["c"],ls["d"],ls["b"],ds["c"],cs["a"],ds["a"],ds["d"],ds["b"],ls["f"],ls["k"],ls["g"],ls["i"],ls["j"],ls["a"],ls["h"]),o["default"].component("font-awesome-icon",us["a"]),o["default"].component("font-awesome-layers",us["b"]),o["default"].component("font-awesome-layers-text",us["c"]),o["default"].config.productionTip=!1,o["default"].use(new ns.a({debug:!0,connection:"http://frenteprevencaocovidrn.com.br",vuex:{store:pe,actionPrefix:"SOCKET_",mutationPrefix:"SOCKET_"}})),new o["default"]({store:pe,router:ss,render:function(e){return e(le)}}).$mount("#app")},"5ce0":function(e,a,t){},6698:function(e,a,t){},"672a":function(e,a,t){"use strict";var o=t("89c0"),s=t.n(o);s.a},"6a5c":function(e,a,t){},"6e60":function(e,a,t){"use strict";var o=t("c479"),s=t.n(o);s.a},"6f17":function(e,a,t){"use strict";var o=t("cd6a"),s=t.n(o);s.a},7264:function(e,a,t){"use strict";var o=t("17a5"),s=t.n(o);s.a},"77df":function(e,a,t){},"85ec":function(e,a,t){},"89c0":function(e,a,t){},"8e27":function(e,a,t){"use strict";var o=t("272e"),s=t.n(o);s.a},"905f":function(e,a,t){"use strict";var o=t("009d"),s=t.n(o);s.a},9551:function(e,a,t){"use strict";var o=t("32a6"),s=t.n(o);s.a},"9f34":function(e,a,t){"use strict";var o=t("6698"),s=t.n(o);s.a},a09f:function(e,a,t){"use strict";var o=t("77df"),s=t.n(o);s.a},a405:function(e,a,t){"use strict";var o=t("a90e"),s=t.n(o);s.a},a52b:function(e,a,t){},a90e:function(e,a,t){},c479:function(e,a,t){},c792:function(e,a,t){},cd6a:function(e,a,t){},ce8d:function(e,a,t){"use strict";var o=t("c792"),s=t.n(o);s.a},d49b:function(e,a,t){"use strict";var o=t("2442"),s=t.n(o);s.a},dcee:function(e,a,t){"use strict";var o=t("fe7f"),s=t.n(o);s.a},df2f:function(e,a,t){},e526:function(e,a,t){"use strict";var o=t("ff67"),s=t.n(o);s.a},ee68:function(e,a,t){"use strict";var o=t("6a5c"),s=t.n(o);s.a},fe7f:function(e,a,t){},ff67:function(e,a,t){}});
//# sourceMappingURL=app.aff9a611.js.map