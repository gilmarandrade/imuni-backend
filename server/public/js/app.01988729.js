(function(e){function t(t){for(var o,i,l=t[0],r=t[1],c=t[2],u=0,m=[];u<l.length;u++)i=l[u],Object.prototype.hasOwnProperty.call(s,i)&&s[i]&&m.push(s[i][0]),s[i]=0;for(o in r)Object.prototype.hasOwnProperty.call(r,o)&&(e[o]=r[o]);d&&d(t);while(m.length)m.shift()();return n.push.apply(n,c||[]),a()}function a(){for(var e,t=0;t<n.length;t++){for(var a=n[t],o=!0,l=1;l<a.length;l++){var r=a[l];0!==s[r]&&(o=!1)}o&&(n.splice(t--,1),e=i(i.s=a[0]))}return e}var o={},s={app:0},n=[];function i(t){if(o[t])return o[t].exports;var a=o[t]={i:t,l:!1,exports:{}};return e[t].call(a.exports,a,a.exports,i),a.l=!0,a.exports}i.m=e,i.c=o,i.d=function(e,t,a){i.o(e,t)||Object.defineProperty(e,t,{enumerable:!0,get:a})},i.r=function(e){"undefined"!==typeof Symbol&&Symbol.toStringTag&&Object.defineProperty(e,Symbol.toStringTag,{value:"Module"}),Object.defineProperty(e,"__esModule",{value:!0})},i.t=function(e,t){if(1&t&&(e=i(e)),8&t)return e;if(4&t&&"object"===typeof e&&e&&e.__esModule)return e;var a=Object.create(null);if(i.r(a),Object.defineProperty(a,"default",{enumerable:!0,value:e}),2&t&&"string"!=typeof e)for(var o in e)i.d(a,o,function(t){return e[t]}.bind(null,o));return a},i.n=function(e){var t=e&&e.__esModule?function(){return e["default"]}:function(){return e};return i.d(t,"a",t),t},i.o=function(e,t){return Object.prototype.hasOwnProperty.call(e,t)},i.p="/";var l=window["webpackJsonp"]=window["webpackJsonp"]||[],r=l.push.bind(l);l.push=t,l=l.slice();for(var c=0;c<l.length;c++)t(l[c]);var d=r;n.push([0,"chunk-vendors"]),a()})({0:function(e,t,a){e.exports=a("56d7")},"009d":function(e,t,a){},"034f":function(e,t,a){"use strict";var o=a("85ec"),s=a.n(o);s.a},1099:function(e,t,a){},"17a5":function(e,t,a){},2175:function(e,t,a){"use strict";var o=a("5ce0"),s=a.n(o);s.a},2442:function(e,t,a){},"2dd6":function(e,t,a){"use strict";var o=a("1099"),s=a.n(o);s.a},"32a6":function(e,t,a){},"4b57":function(e,t,a){"use strict";var o=a("df2f"),s=a.n(o);s.a},"56d7":function(e,t,a){"use strict";a.r(t);a("e260"),a("e6cf"),a("cca6"),a("a79d");var o=a("2b0e"),s=function(){var e=this,t=e.$createElement,a=e._self._c||t;return a("div",{class:{"hide-menu":!e.isMenuVisible||!e.user},attrs:{id:"app"}},[a("Header",{attrs:{title:"Monitoramento de Idosos",hideToggle:!e.user,hideUserDropdown:!e.user}}),e.user?a("Menu"):e._e(),e.isLoadingApp?a("Loading"):a("Content"),a("Footer")],1)},n=[],i=(a("96cf"),a("1da1")),l=a("bc3a"),r=a.n(l),c="__frente_prevencao_covid_rn",d=a("db48"),u=a("db48").api,m=a("db48").node_env;function f(e){e&&e.response&&e.response.data?o["default"].toasted.global.defaultError({msg:e.response.data}):"string"===typeof e?o["default"].toasted.global.defaultError({msg:e}):o["default"].toasted.global.defaultError()}console.log("environment: ",d);var p=a("2f62"),b=function(){var e=this,t=e.$createElement,a=e._self._c||t;return a("header",{staticClass:"header"},[a("a",{directives:[{name:"show",rawName:"v-show",value:!e.hideToggle&&e.isMenuVisible,expression:"!hideToggle && isMenuVisible"}],staticClass:"toggle",attrs:{href:"#"},on:{click:e.toggleMenu}},[a("i",{staticClass:"fa fa-lg fa-angle-left"})]),a("a",{directives:[{name:"show",rawName:"v-show",value:!e.hideToggle&&!e.isMenuVisible,expression:"!hideToggle && !isMenuVisible"}],staticClass:"toggle",attrs:{href:"#"},on:{click:e.toggleMenu}},[a("i",{staticClass:"fa fa-lg fa-angle-down"})]),a("h1",{staticClass:"title"},[a("router-link",{attrs:{to:"/"}},[e._v(" "+e._s(e.title))])],1),e.hideUserDropdown?e._e():a("UserDropdown")],1)},g=[],v=function(){var e=this,t=e.$createElement,a=e._self._c||t;return a("div",{staticClass:"user-dropdown"},[a("div",{staticClass:"user-button"},[a("span",{staticClass:"d-none d-sm-block"},[e._v(e._s(e.user.name))]),a("div",{staticClass:"user-dropdown-img"},[a("Gravatar",{attrs:{email:e.user.email,alt:"User"}})],1),a("i",{staticClass:"fa fa-angle-down"})]),a("div",{staticClass:"user-dropdown-content"},[a("div",[e._v(" "+e._s(e.user.role)+" ")]),a("a",{attrs:{href:""},on:{click:function(t){return t.preventDefault(),e.logout(t)}}},[a("i",{staticClass:"fa fa-sign-out-alt"}),e._v(" Sair ")])])])},h=[],_=a("e06a"),y=a.n(_),E={name:"UserDropdown",components:{Gravatar:y.a},computed:Object(p["b"])(["user"]),methods:{logout:function(){localStorage.removeItem(c),this.$store.commit("setUser",null),this.$router.push({name:"auth"})}}},k=E,A=(a("a09f"),a("2877")),S=Object(A["a"])(k,v,h,!1,null,null,null),x=S.exports,I={name:"Header",components:{UserDropdown:x},data:function(){return{syncState:"synced",lastSync:"00/00/0000 00:00"}},props:{title:String,hideToggle:Boolean,hideUserDropdown:Boolean},computed:{isMenuVisible:function(){return this.$store.state.isMenuVisible}},methods:{toggleMenu:function(){this.$store.commit("toggleMenu")}}},w=I,C=(a("9f34"),Object(A["a"])(w,b,g,!1,null,null,null)),V=C.exports,O=function(){var e=this,t=e.$createElement,a=e._self._c||t;return a("aside",{directives:[{name:"show",rawName:"v-show",value:e.isMenuVisible,expression:"isMenuVisible"}],staticClass:"menu"})},P=[],$={name:"Menu",computed:Object(p["b"])(["isMenuVisible"])},U=$,j=(a("4b57"),Object(A["a"])(U,O,P,!1,null,null,null)),N=j.exports,R=function(){var e=this,t=e.$createElement,a=e._self._c||t;return a("div",{staticClass:"content"},[a("ProgressBar"),a("router-view")],1)},M=[],D=function(){var e=this,t=e.$createElement,a=e._self._c||t;return a("div",{directives:[{name:"show",rawName:"v-show",value:e.syncStatus.isSyncing,expression:"syncStatus.isSyncing"}],staticClass:"progressBar",class:{isLoading:e.syncStatus.isSyncing,indeterminated:e.syncStatus.isSyncing&&null==e.syncStatus.progress}},[a("div",{staticClass:"bar",style:{width:e.syncStatus.progress+"%"}})])},T=[],q={name:"ProgressBar",computed:Object(p["b"])(["syncStatus"])},L=q,F=(a("7264"),Object(A["a"])(L,D,T,!1,null,null,null)),B=F.exports,G={name:"Content",components:{ProgressBar:B}},Y=G,K=(a("9551"),Object(A["a"])(Y,R,M,!1,null,null,null)),H=K.exports,W=function(){var e=this,t=e.$createElement;e._self._c;return e._m(0)},z=[function(){var e=this,t=e.$createElement,a=e._self._c||t;return a("footer",{staticClass:"footer"},[a("span",[e._v("Footer")])])}],J={name:"Footer"},X=J,Q=(a("2175"),Object(A["a"])(X,W,z,!1,null,null,null)),Z=Q.exports,ee=function(){var e=this,t=e.$createElement;e._self._c;return e._m(0)},te=[function(){var e=this,t=e.$createElement,a=e._self._c||t;return a("div",{staticClass:"loading"},[a("i",{staticClass:"fas fa-spinner fa-pulse fa-5x"})])}],ae={name:"Loading"},oe=ae,se=(a("2dd6"),Object(A["a"])(oe,ee,te,!1,null,null,null)),ne=se.exports,ie={name:"App",components:{Header:V,Menu:N,Content:H,Footer:Z,Loading:ne},data:function(){return{mensagem:"digite sua mensagem"}},computed:Object(p["b"])(["isMenuVisible","user","isLoadingApp"]),methods:{validateToken:function(){var e=this;return Object(i["a"])(regeneratorRuntime.mark((function t(){var a,o,s;return regeneratorRuntime.wrap((function(t){while(1)switch(t.prev=t.next){case 0:if(e.$store.commit("setIsLoadingApp",!0),a=localStorage.getItem(c),o=JSON.parse(a),e.$store.commit("setUser",null),o){t.next=8;break}return e.$store.commit("setIsLoadingApp",!1),e.$router.push({name:"auth"}),t.abrupt("return");case 8:return t.next=10,r.a.post("".concat(u,"/validateToken"),o);case 10:s=t.sent,s.data?e.$store.commit("setUser",o):(localStorage.removeItem(c),e.$router.push({name:"auth"})),e.$store.commit("setIsLoadingApp",!1);case 13:case"end":return t.stop()}}),t)})))()}},created:function(){this.validateToken()}},le=ie,re=(a("034f"),Object(A["a"])(le,s,n,!1,null,null,null)),ce=re.exports,de=a("a65d"),ue=a.n(de);o["default"].use(ue.a,{iconPack:"fontawesome",duration:3e3}),o["default"].toasted.register("defaultSuccess",(function(e){return e.msg?e.msg:"Operação realizada com sucesso!"}),{type:"success",icon:"check"}),o["default"].toasted.register("defaultError",(function(e){return e.msg?e.msg:"Oops... Erro inesperado."}),{type:"error",icon:"times"});a("f9e3"),a("2dd8");var me=a("5f5b");o["default"].use(me["a"]);a("d3b7");var fe=function(e){return e},pe=function(e){if(401!==e.response.status)return Promise.reject(e);window.location="/"};r.a.interceptors.response.use(fe,pe),o["default"].use(p["a"]);var be=new p["a"].Store({state:{isMenuVisible:!1,user:null,isLoadingApp:!0,syncStatus:{isSyncing:!1,progress:0}},mutations:{toggleMenu:function(e,t){e.user?e.isMenuVisible=void 0===t?!e.isMenuVisible:t:e.isMenuVisible=!1},setUser:function(e,t){e.user=t,t?(r.a.defaults.headers.common["Authorization"]="bearer ".concat(t.token),e.isMenuVisible=!0):(delete r.a.defaults.headers.common["Authorization"],e.isMenuVisible=!1)},setIsLoadingApp:function(e,t){e.isLoadingApp=t},SOCKET_syncStatusEvent:function(e,t){e.syncStatus=t,!1===e.syncStatus.isSyncing&&100===e.syncStatus.progress&&location.reload()}}}),ge=(a("45fc"),a("8c4f")),ve=function(){var e=this,t=e.$createElement,a=e._self._c||t;return a("div",{staticClass:"home"},[a("PageTitle",{attrs:{icon:"fa fa-home",main:"Home",sub:"Bem vindo ao sistema de monitoramento"}}),"ADMINISTRADOR"===e.user.role?a("div",[a("router-link",{attrs:{to:"/unidades"}},[e._v("unidades")])],1):e._e(),"VIGILANTE"===e.user.role?a("div",[a("h2",[e._v("Seja bem vindo vigilante")]),a("router-link",{attrs:{to:"/meusIdosos/"}},[e._v("Meus idosos")])],1):e._e()],1)},he=[],_e=function(){var e=this,t=e.$createElement,a=e._self._c||t;return a("div",{staticClass:"page-title"},[a("h1",[e.icon?a("i",{class:e.icon}):e._e(),e._v(" "+e._s(e.main))]),a("h2",[e._v(e._s(e.sub))]),a("hr")])},ye=[],Ee={name:"PageTitle",props:["icon","main","sub"]},ke=Ee,Ae=(a("a405"),Object(A["a"])(ke,_e,ye,!1,null,null,null)),Se=Ae.exports,xe={name:"Home",components:{PageTitle:Se},data:function(){return{vigilantes:[],unidades:[]}},methods:{loadVigilantes:function(){var e=this,t="".concat(u,"/unidades/idunidade/vigilantes");console.log(t),r.a.get(t).then((function(t){e.vigilantes=t.data,console.log(e.vigilantes)})).catch(f)},loadUnidades:function(){var e=this,t="".concat(u,"/unidades");console.log(t),r.a.get(t).then((function(t){e.unidades=t.data,console.log(e.unidades)})).catch(f)}},computed:Object(p["b"])(["user"]),mounted:function(){"ADMINISTRADOR"===this.user.role&&(this.loadVigilantes(),this.loadUnidades())}},Ie=xe,we=Object(A["a"])(Ie,ve,he,!1,null,null,null),Ce=we.exports,Ve=function(){var e=this,t=e.$createElement,a=e._self._c||t;return a("div",[a("PageTitle",{attrs:{icon:"fa fa-home",main:"Planilha Idosos",sub:"unidade xxxx"}}),a("b-card",{attrs:{"no-body":""}},[a("b-tabs",{attrs:{card:""}},[a("b-tab",{attrs:{title:"Idosos",active:""}},[a("IdososPage")],1),a("b-tab",{attrs:{title:"Idosos por Vulnerabilidade"}},[a("IdososPorVulnerabilidadePage")],1),a("b-tab",{attrs:{title:"Idosos por Risco"}},[a("IdososPorRiscoPage")],1),a("b-tab",{attrs:{title:"Idosos com Escalas"}},[a("IdososComEscalaPage")],1),a("b-tab",{attrs:{title:"Idosos em ordem Alfabética"}},[a("IdososOrdemAlfabeticaPage")],1)],1)],1)],1)},Oe=[],Pe=function(){var e=this,t=e.$createElement,a=e._self._c||t;return a("div",[a("p",[e._v("foram encontrados "+e._s(e.idosos.length)+" registros")]),a("b-table",{attrs:{hover:"",items:e.idosos,fields:e.fields}})],1)},$e=[],Ue=(a("99af"),a("4160"),a("159b"),{name:"IdososPage",data:function(){return{idosos:[],fields:[{key:"row",label:"row",sortable:!0},{key:"dataNascimento",label:"Data de Nascimento",sortable:!0},{key:"nome",label:"Nome",sortable:!0},{key:"telefone1",label:"Telefone 1",sortable:!0},{key:"telefone2",label:"Telefone 2",sortable:!0},{key:"agenteSaude",label:"Agente de Saúde",sortable:!0}]}},methods:{loadIdosos:function(){var e=this;console.log("load idosos");var t="1sP1UegbOnv5dVoO6KMtk2nms6HqjFs3vuYN5FGMWasc",a="Idosos",o="A2:E";console.log("idosos base api url",u,m);var s="".concat(u,"/docs/").concat(t,"/sheets/").concat(a,"/range/").concat(o);r.a.get(s).then((function(t){var a=[];t.data.forEach((function(e,t){a.push({row:"A"+(t+2),dataNascimento:e[0],nome:e[1],telefone1:e[2],telefone2:e[3],agenteSaude:e[4]})})),e.idosos=a,console.log(e.idosos)})).catch(f)}},mounted:function(){this.loadIdosos()}}),je=Ue,Ne=Object(A["a"])(je,Pe,$e,!1,null,null,null),Re=Ne.exports,Me=function(){var e=this,t=e.$createElement,a=e._self._c||t;return a("div",[a("p",[e._v("foram encontrados "+e._s(e.idosos.length)+" registros")]),a("b-table",{attrs:{hover:"",items:e.idosos,fields:e.fields}})],1)},De=[],Te={name:"IdososPorVulnerabilidadePage",data:function(){return{idosos:[],fields:[{key:"row",label:"row",sortable:!0},{key:"nome",label:"Nome",sortable:!0},{key:"escalaVulnerabilidade",label:"Escala de Vulnerabilidade",sortable:!0},{key:"escalaEpidemiologica",label:"Escala Epidemiológica",sortable:!0},{key:"escalaRisco",label:"Escala de Risco COVID-19",sortable:!0},{key:"scoreOrdenacao",label:"Score de Ordenacao",sortable:!0}]}},methods:{loadIdosos:function(){var e=this;console.log("load idosos");var t="1sP1UegbOnv5dVoO6KMtk2nms6HqjFs3vuYN5FGMWasc",a="Idosos por vulnerabilidade",o="A2:E",s="".concat(u,"/docs/").concat(t,"/sheets/").concat(a,"/range/").concat(o);r.a.get(s).then((function(t){var a=[];t.data.forEach((function(e,t){a.push({row:"A"+(t+2),nome:e[0],escalaVulnerabilidade:e[1],escalaEpidemiologica:e[2],escalaRisco:e[3],scoreOrdenacao:e[4]})})),e.idosos=a,console.log(e.idosos)})).catch(f)}},mounted:function(){this.loadIdosos()}},qe=Te,Le=Object(A["a"])(qe,Me,De,!1,null,null,null),Fe=Le.exports,Be=function(){var e=this,t=e.$createElement,a=e._self._c||t;return a("div",[a("p",[e._v("foram encontrados "+e._s(e.idosos.length)+" registros")]),a("b-table",{attrs:{hover:"",items:e.idosos,fields:e.fields}})],1)},Ge=[],Ye={name:"IdososPorRiscoPage",data:function(){return{idosos:[],fields:[{key:"row",label:"row",sortable:!0},{key:"nome",label:"Nome",sortable:!0},{key:"escalaVulnerabilidade",label:"Escala de Vulnerabilidade",sortable:!0},{key:"escalaEpidemiologica",label:"Escala Epidemiológica",sortable:!0},{key:"escalaRisco",label:"Escala de Risco COVID-19",sortable:!0},{key:"scoreOrdenacao",label:"Score de Ordenacao",sortable:!0}]}},methods:{loadIdosos:function(){var e=this;console.log("load idosos");var t="1sP1UegbOnv5dVoO6KMtk2nms6HqjFs3vuYN5FGMWasc",a="Idosos por risco",o="A2:E",s="".concat(u,"/docs/").concat(t,"/sheets/").concat(a,"/range/").concat(o);r.a.get(s).then((function(t){var a=[];t.data.forEach((function(e,t){a.push({row:"A"+(t+2),nome:e[0],escalaVulnerabilidade:e[1],escalaEpidemiologica:e[2],escalaRisco:e[3],scoreOrdenacao:e[4]})})),e.idosos=a,console.log(e.idosos)})).catch(f)}},mounted:function(){this.loadIdosos()}},Ke=Ye,He=Object(A["a"])(Ke,Be,Ge,!1,null,null,null),We=He.exports,ze=function(){var e=this,t=e.$createElement,a=e._self._c||t;return a("div",[a("p",[e._v("foram encontrados "+e._s(e.idosos.length)+" registros")]),a("b-table",{attrs:{hover:"",items:e.idosos,fields:e.fields}})],1)},Je=[],Xe={name:"IdososComEscalaPage",data:function(){return{idosos:[],fields:[{key:"row",label:"row",sortable:!0},{key:"nome",label:"Nome",sortable:!0},{key:"escalaVulnerabilidade",label:"Escala de Vulnerabilidade",sortable:!0},{key:"escalaEpidemiologica",label:"Escala Epidemiológica",sortable:!0},{key:"escalaRisco",label:"Escala de Risco COVID-19",sortable:!0},{key:"scoreOrdenacao",label:"Score de Ordenacao",sortable:!0}]}},methods:{loadIdosos:function(){var e=this;console.log("load idosos");var t="1sP1UegbOnv5dVoO6KMtk2nms6HqjFs3vuYN5FGMWasc",a="Idosos com escalas",o="A2:E",s="".concat(u,"/docs/").concat(t,"/sheets/").concat(a,"/range/").concat(o);r.a.get(s).then((function(t){var a=[];t.data.forEach((function(e,t){a.push({row:"A"+(t+2),nome:e[0],escalaVulnerabilidade:e[1],escalaEpidemiologica:e[2],escalaRisco:e[3],scoreOrdenacao:e[4]})})),e.idosos=a,console.log(e.idosos)})).catch(f)}},mounted:function(){this.loadIdosos()}},Qe=Xe,Ze=Object(A["a"])(Qe,ze,Je,!1,null,null,null),et=Ze.exports,tt=function(){var e=this,t=e.$createElement,a=e._self._c||t;return a("div",[a("p",[e._v("foram encontrados "+e._s(e.idosos.length)+" registros")]),a("b-table",{attrs:{hover:"",items:e.idosos,fields:e.fields}})],1)},at=[],ot={name:"IdososOrdemAlfabeticaPage",data:function(){return{idosos:[],fields:[{key:"row",label:"row",sortable:!0},{key:"nome",label:"Nome",sortable:!0}]}},methods:{loadIdosos:function(){var e=this;console.log("load idosos");var t="1sP1UegbOnv5dVoO6KMtk2nms6HqjFs3vuYN5FGMWasc",a="Idosos em ordem alfabética",o="A2:A",s="".concat(u,"/docs/").concat(t,"/sheets/").concat(a,"/range/").concat(o);r.a.get(s).then((function(t){var a=[];t.data.forEach((function(e,t){a.push({row:"A"+(t+2),nome:e[0]})})),e.idosos=a,console.log(e.idosos)})).catch(f)}},mounted:function(){this.loadIdosos()}},st=ot,nt=Object(A["a"])(st,tt,at,!1,null,null,null),it=nt.exports,lt={name:"IdososSpreadsheet",components:{PageTitle:Se,IdososPage:Re,IdososPorVulnerabilidadePage:Fe,IdososPorRiscoPage:We,IdososComEscalaPage:et,IdososOrdemAlfabeticaPage:it}},rt=lt,ct=Object(A["a"])(rt,Ve,Oe,!1,null,null,null),dt=ct.exports,ut=function(){var e=this,t=e.$createElement,a=e._self._c||t;return a("div",[a("PageTitle",{attrs:{icon:"fa fa-home",main:"Planilha de Gerenciamento",sub:"unidade xxxx"}}),a("b-card",{attrs:{"no-body":""}},[a("b-tabs",{attrs:{card:""}},[a("b-tab",{attrs:{title:"Vigilante 1"}},[a("Vigilante1Page")],1),a("b-tab",{attrs:{title:"Vigilante 2"}},[a("Vigilante2Page")],1),a("b-tab",{attrs:{title:"Vigilante 3"}},[a("Vigilante3Page")],1),a("b-tab",{attrs:{title:"Vigilante 4"}},[a("Vigilante4Page")],1),a("b-tab",{attrs:{title:"Respostas"}},[a("RespostasPage")],1),a("b-tab",{attrs:{title:"Escalas"}},[a("EscalasPage")],1),a("b-tab",{attrs:{title:"Status Atendimentos"}},[a("StatusAtendimentosPage")],1)],1)],1)],1)},mt=[],ft=function(){var e=this,t=e.$createElement,a=e._self._c||t;return a("div",[a("p",[e._v("foram encontrados "+e._s(e.items.length)+" registros")]),a("b-table",{attrs:{hover:"",items:e.items,fields:e.fields}})],1)},pt=[],bt={name:"Vigilante1Page",data:function(){return{items:[],fields:[{key:"row",label:"row",sortable:!0},{key:"vigilante",label:"Vigilante",sortable:!0},{key:"nome",label:"Nome",sortable:!0},{key:"telefone1",label:"Telefones",sortable:!0},{key:"agenteSaude",label:"Agente de Saúde",sortable:!0},{key:"atendimentosEfetuados",label:"Atendimentos Efetuados",sortable:!0},{key:"escalaVulnerabilidade",label:"Escala Vulnerabilidade",sortable:!0},{key:"escalaEpidemiologica",label:"Escala Epidemiológica",sortable:!0},{key:"escalaRisco",label:"Escala Risco COVID-19",sortable:!0},{key:"dataUltimoAtendimento",label:"Último Atendimento",sortable:!0},{key:"sugestaoProximoAtendimento",label:"Sugestão próximo atendimento",sortable:!0}]}},methods:{loadItems:function(){var e=this;console.log("load items");var t="1tBlFtcTlo1xtq4lU1O2Yq94wYaFfyL9RboX6mWjKhh4",a="Vigilante 1",o="A2:M",s="".concat(u,"/docs/").concat(t,"/sheets/").concat(a,"/range/").concat(o);r.a.get(s).then((function(t){var a=[];t.data.forEach((function(e,t){a.push({row:"A"+(t+2),vigilante:e[0],nome:e[1],telefone1:"".concat(e[2]," ").concat(e[3]),agenteSaude:e[4],tentativas:e[5],atendimentosEfetuados:"".concat(+e[6],"/").concat(+e[5]+ +e[6]),escalaVulnerabilidade:e[7],escalaEpidemiologica:e[8],escalaRisco:e[9],dataUltimoAtendimento:"".concat(e[10]," ").concat(e[11]),horaUltimoAtendimento:e[11],sugestaoProximoAtendimento:e[12]})})),e.items=a,console.log(e.items)})).catch(f)}},mounted:function(){this.loadItems()}},gt=bt,vt=Object(A["a"])(gt,ft,pt,!1,null,null,null),ht=vt.exports,_t=function(){var e=this,t=e.$createElement,a=e._self._c||t;return a("div",[a("p",[e._v("foram encontrados "+e._s(e.items.length)+" registros")]),a("b-table",{attrs:{hover:"",items:e.items,fields:e.fields}})],1)},yt=[],Et={name:"Vigilante2Page",data:function(){return{items:[],fields:[{key:"row",label:"row",sortable:!0},{key:"vigilante",label:"Vigilante",sortable:!0},{key:"nome",label:"Nome",sortable:!0},{key:"telefone1",label:"Telefones",sortable:!0},{key:"agenteSaude",label:"Agente de Saúde",sortable:!0},{key:"atendimentosEfetuados",label:"Atendimentos Efetuados",sortable:!0},{key:"escalaVulnerabilidade",label:"Escala Vulnerabilidade",sortable:!0},{key:"escalaEpidemiologica",label:"Escala Epidemiológica",sortable:!0},{key:"escalaRisco",label:"Escala Risco COVID-19",sortable:!0},{key:"dataUltimoAtendimento",label:"Último Atendimento",sortable:!0},{key:"sugestaoProximoAtendimento",label:"Sugestão próximo atendimento",sortable:!0}]}},methods:{loadItems:function(){var e=this;console.log("load items");var t="1tBlFtcTlo1xtq4lU1O2Yq94wYaFfyL9RboX6mWjKhh4",a="Vigilante 2",o="A2:M",s="".concat(u,"/docs/").concat(t,"/sheets/").concat(a,"/range/").concat(o);r.a.get(s).then((function(t){var a=[];t.data.forEach((function(e,t){a.push({row:"A"+(t+2),vigilante:e[0],nome:e[1],telefone1:"".concat(e[2]," ").concat(e[3]),agenteSaude:e[4],tentativas:e[5],atendimentosEfetuados:"".concat(+e[6],"/").concat(+e[5]+ +e[6]),escalaVulnerabilidade:e[7],escalaEpidemiologica:e[8],escalaRisco:e[9],dataUltimoAtendimento:"".concat(e[10]," ").concat(e[11]),horaUltimoAtendimento:e[11],sugestaoProximoAtendimento:e[12]})})),e.items=a,console.log(e.items)})).catch(f)}},mounted:function(){this.loadItems()}},kt=Et,At=Object(A["a"])(kt,_t,yt,!1,null,null,null),St=At.exports,xt=function(){var e=this,t=e.$createElement,a=e._self._c||t;return a("div",[a("p",[e._v("foram encontrados "+e._s(e.items.length)+" registros")]),a("b-table",{attrs:{hover:"",items:e.items,fields:e.fields}})],1)},It=[],wt={name:"Vigilante3Page",data:function(){return{items:[],fields:[{key:"row",label:"row",sortable:!0},{key:"vigilante",label:"Vigilante",sortable:!0},{key:"nome",label:"Nome",sortable:!0},{key:"telefone1",label:"Telefones",sortable:!0},{key:"agenteSaude",label:"Agente de Saúde",sortable:!0},{key:"atendimentosEfetuados",label:"Atendimentos Efetuados",sortable:!0},{key:"escalaVulnerabilidade",label:"Escala Vulnerabilidade",sortable:!0},{key:"escalaEpidemiologica",label:"Escala Epidemiológica",sortable:!0},{key:"escalaRisco",label:"Escala Risco COVID-19",sortable:!0},{key:"dataUltimoAtendimento",label:"Último Atendimento",sortable:!0},{key:"sugestaoProximoAtendimento",label:"Sugestão próximo atendimento",sortable:!0}]}},methods:{loadItems:function(){var e=this;console.log("load items");var t="1tBlFtcTlo1xtq4lU1O2Yq94wYaFfyL9RboX6mWjKhh4",a="Vigilante 3",o="A2:M",s="".concat(u,"/docs/").concat(t,"/sheets/").concat(a,"/range/").concat(o);r.a.get(s).then((function(t){var a=[];t.data.forEach((function(e,t){a.push({row:"A"+(t+2),vigilante:e[0],nome:e[1],telefone1:"".concat(e[2]," ").concat(e[3]),agenteSaude:e[4],tentativas:e[5],atendimentosEfetuados:"".concat(+e[6],"/").concat(+e[5]+ +e[6]),escalaVulnerabilidade:e[7],escalaEpidemiologica:e[8],escalaRisco:e[9],dataUltimoAtendimento:"".concat(e[10]," ").concat(e[11]),horaUltimoAtendimento:e[11],sugestaoProximoAtendimento:e[12]})})),e.items=a,console.log(e.items)})).catch(f)}},mounted:function(){this.loadItems()}},Ct=wt,Vt=Object(A["a"])(Ct,xt,It,!1,null,null,null),Ot=Vt.exports,Pt=function(){var e=this,t=e.$createElement,a=e._self._c||t;return a("div",[a("p",[e._v("foram encontrados "+e._s(e.items.length)+" registros")]),a("b-table",{attrs:{hover:"",items:e.items,fields:e.fields}})],1)},$t=[],Ut={name:"Vigilante4Page",data:function(){return{items:[],fields:[{key:"row",label:"row",sortable:!0},{key:"vigilante",label:"Vigilante",sortable:!0},{key:"nome",label:"Nome",sortable:!0},{key:"telefone1",label:"Telefones",sortable:!0},{key:"agenteSaude",label:"Agente de Saúde",sortable:!0},{key:"atendimentosEfetuados",label:"Atendimentos Efetuados",sortable:!0},{key:"escalaVulnerabilidade",label:"Escala Vulnerabilidade",sortable:!0},{key:"escalaEpidemiologica",label:"Escala Epidemiológica",sortable:!0},{key:"escalaRisco",label:"Escala Risco COVID-19",sortable:!0},{key:"dataUltimoAtendimento",label:"Último Atendimento",sortable:!0},{key:"sugestaoProximoAtendimento",label:"Sugestão próximo atendimento",sortable:!0}]}},methods:{loadItems:function(){var e=this;console.log("load items");var t="1tBlFtcTlo1xtq4lU1O2Yq94wYaFfyL9RboX6mWjKhh4",a="Vigilante 4",o="A2:M",s="".concat(u,"/docs/").concat(t,"/sheets/").concat(a,"/range/").concat(o);r.a.get(s).then((function(t){var a=[];t.data.forEach((function(e,t){a.push({row:"A"+(t+2),vigilante:e[0],nome:e[1],telefone1:"".concat(e[2]," ").concat(e[3]),agenteSaude:e[4],tentativas:e[5],atendimentosEfetuados:"".concat(+e[6],"/").concat(+e[5]+ +e[6]),escalaVulnerabilidade:e[7],escalaEpidemiologica:e[8],escalaRisco:e[9],dataUltimoAtendimento:"".concat(e[10]," ").concat(e[11]),horaUltimoAtendimento:e[11],sugestaoProximoAtendimento:e[12]})})),e.items=a,console.log(e.items)})).catch(f)}},mounted:function(){this.loadItems()}},jt=Ut,Nt=Object(A["a"])(jt,Pt,$t,!1,null,null,null),Rt=Nt.exports,Mt=function(){var e=this,t=e.$createElement,a=e._self._c||t;return a("div",[a("p",[e._v("foram encontrados "+e._s(e.items.length)+" registros")]),a("b-table",{attrs:{hover:"",items:e.items,fields:e.fields}})],1)},Dt=[],Tt={name:"RespostasPage",data:function(){return{items:[],fields:[{key:"row",label:"row",sortable:!0},{key:"data",label:"data",sortable:!0},{key:"vigilante",label:"vigilante",sortable:!0},{key:"nome",label:"Nome",sortable:!0},{key:"atendeu",label:"Atendeu ao telefonema",sortable:!0},{key:"idade",label:"Idade",sortable:!0}]}},methods:{loadItems:function(){var e=this;console.log("load items");var t="1tBlFtcTlo1xtq4lU1O2Yq94wYaFfyL9RboX6mWjKhh4",a="Respostas",o="A2:AI",s="".concat(u,"/docs/").concat(t,"/sheets/").concat(a,"/range/").concat(o);r.a.get(s).then((function(t){var a=[];t.data.forEach((function(e,t){a.push({row:"A"+(t+2),data:e[0],vigilante:e[1],nome:e[2],atendeu:e[3],idade:e[4]})})),e.items=a})).catch(f)}},mounted:function(){this.loadItems()}},qt=Tt,Lt=Object(A["a"])(qt,Mt,Dt,!1,null,null,null),Ft=Lt.exports,Bt=function(){var e=this,t=e.$createElement,a=e._self._c||t;return a("div",[a("p",[e._v("foram encontrados "+e._s(e.items.length)+" registros")]),a("b-table",{attrs:{hover:"",items:e.items,fields:e.fields}})],1)},Gt=[],Yt={name:"EscalasPage",data:function(){return{items:[],fields:[{key:"row",label:"row",sortable:!0},{key:"nome",label:"nome",sortable:!0},{key:"idade",label:"idade",sortable:!0},{key:"escalaVulnerabilidade",label:"Escala Vulnerabilidade",sortable:!0},{key:"escalaEpidemiologica",label:"Escala Epidemiologica",sortable:!0},{key:"escalaRisco",label:"Escala de Risco",sortable:!0},{key:"scoreOrdenacao",label:"Score de Ordenacao",sortable:!0},{key:"data",label:"data",sortable:!0}]}},methods:{loadItems:function(){var e=this;console.log("load items");var t="1tBlFtcTlo1xtq4lU1O2Yq94wYaFfyL9RboX6mWjKhh4",a="Escalas",o="A2:AI",s="".concat(u,"/docs/").concat(t,"/sheets/").concat(a,"/range/").concat(o);r.a.get(s).then((function(t){var a=[];t.data.forEach((function(e,t){a.push({row:"A"+(t+2),nome:e[0],idade:e[1],escalaVulnerabilidade:e[2],escalaEpidemiologica:e[3],escalaRisco:e[4],scoreOrdenacao:e[5],data:e[6]})})),e.items=a,console.log(e.items)})).catch(f)}},mounted:function(){this.loadItems()}},Kt=Yt,Ht=Object(A["a"])(Kt,Bt,Gt,!1,null,null,null),Wt=Ht.exports,zt=function(){var e=this,t=e.$createElement,a=e._self._c||t;return a("div",[a("p",[e._v("foram encontrados "+e._s(e.items.length)+" registros")]),a("b-table",{attrs:{hover:"",items:e.items,fields:e.fields}})],1)},Jt=[],Xt={name:"StatusAtendimentosPage",data:function(){return{items:[],fields:[{key:"row",label:"row",sortable:!0},{key:"vigilante",label:"Vigilante",sortable:!0},{key:"nome",label:"Nome",sortable:!0},{key:"agenteSaude",label:"Agente de Saúde",sortable:!0},{key:"atendimentosEfetuados",label:"Atendimentos Efetuados",sortable:!0},{key:"escalaVulnerabilidade",label:"Escala Vulnerabilidade",sortable:!0},{key:"escalaEpidemiologica",label:"Escala Epidemiológica",sortable:!0},{key:"escalaRisco",label:"Escala Risco COVID-19",sortable:!0},{key:"scoreOrdenacao",label:"scoreOrdenacao",sortable:!0},{key:"dataUltimoAtendimento",label:"Último Atendimento",sortable:!0},{key:"sugestaoProximoAtendimento",label:"Sugestão próximo atendimento",sortable:!0}]}},methods:{loadItems:function(){var e=this;console.log("load items");var t="1tBlFtcTlo1xtq4lU1O2Yq94wYaFfyL9RboX6mWjKhh4",a="Status Atendimentos",o="A2:AI",s="".concat(u,"/docs/").concat(t,"/sheets/").concat(a,"/range/").concat(o);r.a.get(s).then((function(t){var a=[];t.data.forEach((function(e,t){a.push({row:"A"+(t+2),vigilante:e[0],nome:e[1],telefone1:"".concat(e[2]," ").concat(e[3]),agenteSaude:e[4],tentativas:e[5],atendimentosEfetuados:"".concat(+e[6],"/").concat(+e[5]+ +e[6]),escalaVulnerabilidade:e[7],escalaEpidemiologica:e[8],escalaRisco:e[9],scoreOrdenacao:e[10],dataUltimoAtendimento:"".concat(e[11]," ").concat(e[12]),sugestaoProximoAtendimento:e[13]})})),e.items=a,console.log(e.items)})).catch(f)}},mounted:function(){this.loadItems()}},Qt=Xt,Zt=Object(A["a"])(Qt,zt,Jt,!1,null,null,null),ea=Zt.exports,ta={name:"GerenciamentoSpreadsheet",components:{PageTitle:Se,Vigilante1Page:ht,Vigilante2Page:St,Vigilante3Page:Ot,Vigilante4Page:Rt,RespostasPage:Ft,EscalasPage:Wt,StatusAtendimentosPage:ea}},aa=ta,oa=Object(A["a"])(aa,ut,mt,!1,null,null,null),sa=oa.exports,na=function(){var e=this,t=e.$createElement,a=e._self._c||t;return a("div",{staticClass:"listaIdosos"},[a("h6",[e._v(e._s(e.user.nomeUnidade)+" / "+e._s(e.user.name))]),a("h1",[e._v("Meus Idosos ("+e._s(e.idosos.length)+")")]),e._v(" "),e.carregando?a("span",[e._v("Carregando...")]):e._e(),a("b-table",{attrs:{items:e.idosos,fields:e.fields},scopedSlots:e._u([{key:"cell(col-1)",fn:function(t){return[a("div",[a("b",[e._v(e._s(t.item.nome))])]),t.item.ultimaEscala?a("div",{staticClass:"badges"},[t.item.ultimaEscala.vulnerabilidade?a("popper",{attrs:{trigger:"hover",options:{placement:"top"}}},[a("div",{staticClass:"popper"},[e._v(" Escala de Vulnerabilidade ")]),a("span",{attrs:{slot:"reference"},slot:"reference"},[a("Badge",{attrs:{value:t.item.ultimaEscala.vulnerabilidade}})],1)]):e._e(),t.item.ultimaEscala.epidemiologica?a("popper",{attrs:{trigger:"hover",options:{placement:"top"}}},[a("div",{staticClass:"popper"},[e._v(" Escala Epidemiológica ")]),a("span",{attrs:{slot:"reference"},slot:"reference"},[a("Badge",{attrs:{value:t.item.ultimaEscala.epidemiologica}})],1)]):e._e(),t.item.ultimaEscala.riscoContagio?a("popper",{attrs:{trigger:"hover",options:{placement:"top"}}},[a("div",{staticClass:"popper"},[e._v(" Risco de Contágio por COVID-19 ")]),a("span",{attrs:{slot:"reference"},slot:"reference"},[a("Badge",{attrs:{value:t.item.ultimaEscala.riscoContagio}})],1)]):e._e()],1):e._e()]}},{key:"cell(col-2)",fn:function(t){return[a("div",{staticClass:"statusAtendimentos"},[a("span",[a("popper",{attrs:{trigger:"hover",options:{placement:"top",modifiers:{offset:{offset:"0,10px"}}}}},[a("div",{staticClass:"popper"},[e._v(" Atendimentos efetuados / total de tentativas ")]),a("span",{attrs:{slot:"reference"},slot:"reference"},[a("i",{staticClass:"fas fa-headset"}),e._v(" "+e._s(t.item.ultimaEscala?t.item.ultimaEscala.qtdAtendimentosEfetuados:0)+"/"+e._s(t.item.ultimoAtendimento?t.item.ultimoAtendimento.qtdTentativas:0)+" ")])])],1),t.item.ultimoAtendimento?a("span",{staticClass:"statusUltimoAtendimento",class:{atendido:t.item.ultimoAtendimento.efetuado}},[a("popper",{attrs:{trigger:"hover",options:{placement:"top",modifiers:{offset:{offset:"0,10px"}}}}},[a("div",{staticClass:"popper"},[e._v(" Último atendimento: "),t.item.ultimoAtendimento.efetuado?a("span",[e._v("Ligação atendida")]):e._e(),t.item.ultimoAtendimento.efetuado?e._e():a("span",[e._v("Não atendeu a ligação")])]),a("span",{attrs:{slot:"reference"},slot:"reference"},[a("i",{directives:[{name:"show",rawName:"v-show",value:t.item.ultimoAtendimento.efetuado,expression:"data.item.ultimoAtendimento.efetuado"}],staticClass:"far fa-check-circle"}),a("i",{directives:[{name:"show",rawName:"v-show",value:!t.item.ultimoAtendimento.efetuado,expression:"!data.item.ultimoAtendimento.efetuado"}],staticClass:"far fa-times-circle"}),e._v(" "+e._s(e.formatDate(t.item.ultimoAtendimento.data))+" ")])])],1):e._e(),t.item.ultimoAtendimento?e._e():a("span",{staticClass:"statusUltimoAtendimento atencao"},[a("popper",{attrs:{trigger:"hover",options:{placement:"top",modifiers:{offset:{offset:"0,10px"}}}}},[a("div",{staticClass:"popper"},[e._v(" Último atendimento: não há registros ")]),a("span",{attrs:{slot:"reference"},slot:"reference"},[a("i",{staticClass:"fas fa-exclamation-circle"}),e._v(" pendente ")])])],1),t.item.ultimaEscala&&t.item.ultimaEscala.dataProximoAtendimento?a("span",{staticClass:"dataProximoAtendimento"},[a("popper",{attrs:{trigger:"hover",options:{placement:"top",modifiers:{offset:{offset:"0,10px"}}}}},[a("div",{staticClass:"popper"},[e._v(" Sugestão de próximo atendimento ")]),a("span",{attrs:{slot:"reference"},slot:"reference"},[a("i",{staticClass:"far fa-clock"}),e._v(" "+e._s(e.formatDate(t.item.ultimaEscala.dataProximoAtendimento))+" ")])])],1):e._e()]),a("div",[e._v(" Telefones: "+e._s(t.item.telefone1)+" "+e._s(t.item.telefone2)+" ")])]}}])})],1)},ia=[],la=(a("b0c0"),function(){var e=this,t=e.$createElement,a=e._self._c||t;return a("div",{staticClass:"badge",class:e.color},[e._v(" "+e._s(e.value)+" ")])}),ra=[],ca={name:"Badge",props:["value"],computed:{color:function(){switch(this.value){case"baixo":case"Baixo":return"green";case"médio":case"Médio":return"yellow";case"alto":case"Alto":return"red";case"0 - Sem vulnerabilidades":case"O - Sem Vulnerabilidade":return"blue";case"A - vulnerabilidade financeira":case"A - Vulnerabilidade Financeira":case"B - vulnerabilidade alimentar":case"B - Vulnerabilidade Alimentar":return"yellow";case"C - Situação de violência":case"C - situação de violência":return"red";case"Ia - Assintomático, mora com assintomáticos":case"Ib - Assintomático, mas vive sozinho":return"blue";case"IIa - Assintomático, mas sai de casa":case"IIb - Assintomático, mas recebe visitas ou domiciliares saem":case"IIIa - Assintomático, mas com comorbidades":return"green";case"IIIb - Assintomático, mas tem contato com sintomáticos ou confirmados":case"IVa - Assintomático, mas sem medicações":return"yellow";case"IVb - Idoso sintomático":return"red";case"0 - Não atendeu à ligação":default:return"gray"}}}},da=ca,ua=(a("d49b"),Object(A["a"])(da,la,ra,!1,null,null,null)),ma=ua.exports,fa=a("526e"),pa=a.n(fa),ba=(a("a101"),{name:"VigilanteHome",components:{Badge:ma,popper:pa.a},computed:Object(p["b"])(["user"]),data:function(){return{carregando:!0,idosos:[],fields:[{key:"ultimaEscala.score",label:"Score"},{key:"col-1",label:"Idoso"},{key:"col-2",label:" "}]}},methods:{loadIdosos:function(){var e=this,t="".concat(u,"/unidades/").concat(this.user.collectionPrefix,"/vigilantes/").concat(this.user.name,"/idosos");console.log(t),r.a.get(t).then((function(t){e.idosos=t.data,console.log(e.idosos),e.carregando=!1})).catch(f)},formatDate:function(e){return new Date(e).toLocaleString()}},mounted:function(){this.loadIdosos()}}),ga=ba,va=(a("905f"),Object(A["a"])(ga,na,ia,!1,null,null,null)),ha=va.exports,_a=function(){var e=this,t=e.$createElement,a=e._self._c||t;return a("div",{staticClass:"unidades"},[a("h1",[e._v("Unidades")]),a("ul",{staticClass:"grid-list row"},[e._l(e.unidades,(function(t){return a("li",{key:t._id,staticClass:"col-sm-6 col-md-4 col-lg-3",class:{ativo:t.autoSync}},[a("router-link",{staticClass:"item",attrs:{to:"/unidades/"+t._id,title:"clique para ver detalhes"}},[t.lastSyncDate?a("div",{staticClass:"sync-state"},[a("popper",{attrs:{trigger:"hover",options:{placement:"top"}}},[a("div",{staticClass:"popper"},[e._v(" "+e._s(t.autoSync?"Sincronização automática ativada":"Sincronização automática desativada")+" ")]),a("span",{attrs:{slot:"reference"},slot:"reference"},[a("i",{staticClass:"fas fa-sync"}),e._v(" "+e._s(e.formatDate(t.lastSyncDate))+" ")])])],1):e._e(),a("h2",[e._v(e._s(t.nome))]),a("p",[e._v("Distrito "+e._s(t.distrito))])])],1)})),a("li",{staticClass:"col-sm-6 col-md-4 col-lg-3"},[a("router-link",{staticClass:"item button",attrs:{to:"/adicionarUnidade"}},[a("h2",[a("i",{staticClass:"fas fa-plus"}),e._v(" Adicionar unidade")])])],1)],2)])},ya=[],Ea={name:"Unidades",components:{popper:pa.a},data:function(){return{unidades:[]}},methods:{loadUnidades:function(){var e=this,t="".concat(u,"/unidades");console.log(t),r.a.get(t).then((function(t){e.unidades=t.data,console.log(e.unidades)})).catch(f)},formatDate:function(e){return new Date(e).toLocaleString()}},mounted:function(){this.loadUnidades()}},ka=Ea,Aa=(a("6f17"),Object(A["a"])(ka,_a,ya,!1,null,null,null)),Sa=Aa.exports,xa=function(){var e=this,t=e.$createElement,a=e._self._c||t;return e.unidade?a("div",{staticClass:"unidades"},[a("header",{staticClass:"header-page"},[e.unidade.lastSyncDate?a("div",{staticClass:"sync-state",class:{ativo:e.unidade.autoSync}},[a("popper",{attrs:{trigger:"hover",options:{placement:"top"}}},[a("div",{staticClass:"popper"},[e._v(" Última sincronização ")]),a("span",{attrs:{slot:"reference"},slot:"reference"},[a("i",{staticClass:"fas fa-sync"}),e._v(" "+e._s(e.formatDate(e.unidade.lastSyncDate))+" ")])])],1):e._e(),a("h1",[e._v(e._s(e.unidade.nome))]),a("p",[e._v("Distrito "+e._s(e.unidade.distrito))]),a("b-checkbox",{attrs:{name:"check-button",switch:"",disabled:""},on:{change:e.toggleSync},model:{value:e.unidade.autoSync,callback:function(t){e.$set(e.unidade,"autoSync",t)},expression:"unidade.autoSync"}},[e._v(" "+e._s(e.unidade.autoSync?"Sincronização automática ativada":"Sincronização automática desativada")+" ")]),a("button",{staticClass:"btn btn-primary",attrs:{disabled:e.syncStatus.isSyncing},on:{click:e.manualSync}},[e._v("sincronizar agora")]),e.loading?a("div",[e._v("carregando...")]):e._e()],1),a("div",{staticClass:"container"},[a("div",{staticClass:"card mb-4"},[a("div",{staticClass:"card-body"},[a("h5",{staticClass:"card-title"},[e._v("Planilhas")]),a("div",[a("b",[e._v("Planilha de idosos:")]),e._v(" "),a("a",{attrs:{href:"https://docs.google.com/spreadsheets/d/"+e.unidade.idPlanilhaIdosos+"/edit?usp=sharing",target:"_blank"}},[e._v(e._s(e.unidade.idPlanilhaIdosos))])]),a("div",[a("b",[e._v("Planilha de gerenciamento:")]),e._v(" "),a("a",{attrs:{href:"https://docs.google.com/spreadsheets/d/"+e.unidade.idPlanilhaGerenciamento+"/edit?usp=sharing",target:"_blank"}},[e._v(e._s(e.unidade.idPlanilhaGerenciamento))])]),a("div",[a("b",[e._v("Ficha de vigilância:")]),e._v(" "),a("a",{attrs:{href:"https://docs.google.com/forms/d/"+e.unidade.idFichaVigilancia+"/edit?usp=sharing",target:"_blank"}},[e._v(e._s(e.unidade.idFichaVigilancia))])])])]),a("div",{staticClass:"card mb-4"},[a("div",{staticClass:"card-body"},[a("h5",{staticClass:"card-title"},[e._v("Vigilantes")]),a("ul",e._l(e.unidade.vigilantes,(function(t){return a("li",{key:t.nome},[a("router-link",{attrs:{to:"/unidades/"+e.unidade.collectionPrefix+"/"+e.unidade.nome+"/vigilantes/"+t.nome}},[e._v(e._s(t.nome))])],1)})),0)])]),a("div",{staticClass:"card mb-4"},[a("div",{staticClass:"card-body"},[a("h5",{staticClass:"card-title"},[e._v(" Usuários "),a("router-link",{staticClass:"btn btn-primary float-right mb-3",attrs:{to:"/unidades/"+e.unidade._id+"/"+e.unidade.nome+"/addUsuario"}},[e._v("add")])],1),a("b-table",{attrs:{items:e.usuarios,fields:e.fieldsUsuarios},scopedSlots:e._u([{key:"cell(link)",fn:function(t){return[a("router-link",{attrs:{to:"/unidades/"+e.unidade.collectionPrefix+"/"+e.unidade.nome+"/vigilantes/"+t.item.name}},[e._v(e._s(t.item.name))])]}}],null,!1,2958954227)})],1)])])]):e._e()},Ia=[],wa={name:"Unidade",components:{popper:pa.a},data:function(){return{unidade:null,loading:!1,usuarios:[],fieldsUsuarios:[{key:"link",label:""},{key:"email",label:"email"},{key:"role",label:"tipo"}]}},computed:Object(p["b"])(["syncStatus"]),methods:{loadUnidade:function(){var e=this,t="".concat(u,"/unidades/").concat(this.$route.params.id);console.log(t),r.a.get(t).then((function(t){e.unidade=t.data,console.log(e.unidade)})).catch(f)},loadUsuarios:function(){var e=this,t="".concat(u,"/unidades/").concat(this.$route.params.id,"/usuarios");console.log(t),r.a.get(t).then((function(t){e.usuarios=t.data,console.log(e.usuarios)})).catch(f)},formatDate:function(e){return new Date(e).toLocaleString()},toggleSync:function(e){var t=this;this.loading=!0,this.$store.commit("setIsLoadingApp",!0);var a="".concat(u,"/unidades/").concat(this.$route.params.id,"/autosync/").concat(e);console.log(a),r.a.get(a).then((function(e){console.log(e),t.$router.go()})).catch((function(e){console.log(e),t.loading=!1,t.$store.commit("setIsLoadingApp",!1),f(e)}))},manualSync:function(){console.log("emit syncEvent"),this.$socket.emit("syncEvent",{idUnidade:this.unidade._id,descricao:this.mensagem,data:new Date,numero:Math.random()})}},sockets:{connect:function(){console.log("socket connected")}},mounted:function(){this.loadUnidade(),this.loadUsuarios()}},Ca=wa,Va=(a("6e60"),Object(A["a"])(Ca,xa,Ia,!1,null,null,null)),Oa=Va.exports,Pa=function(){var e=this,t=e.$createElement,a=e._self._c||t;return a("div",{staticClass:"adicionarUnidade"},[a("h1",[e._v("Adicionar Unidade")]),a("b-form",{on:{submit:e.onSubmit}},[a("b-form-group",{attrs:{id:"input-group-nome",label:"Nome:","label-for":"nome"}},[a("b-form-input",{attrs:{id:"nome",type:"text",required:"",placeholder:"Nome da unidade"},model:{value:e.form.nome,callback:function(t){e.$set(e.form,"nome",t)},expression:"form.nome"}})],1),a("b-form-group",{attrs:{id:"input-group-distrito",label:"Distrito:","label-for":"distrito"}},[a("b-form-select",{attrs:{id:"distrito",options:e.distritos,required:""},model:{value:e.form.distrito,callback:function(t){e.$set(e.form,"distrito",t)},expression:"form.distrito"}})],1),a("b-form-group",{attrs:{id:"input-group-planilhaIdosos",label:"Planilha de idosos:","label-for":"planilhaIdosos"}},[a("b-form-input",{attrs:{id:"planilhaIdosos",type:"text",required:"",placeholder:"Link para planilha de idosos"},model:{value:e.form.planilhaIdosos,callback:function(t){e.$set(e.form,"planilhaIdosos",t)},expression:"form.planilhaIdosos"}})],1),a("b-form-group",{attrs:{id:"input-group-planilhaGerenciamento",label:"Planilha de gerenciamento:","label-for":"planilhaGerenciamento"}},[a("b-form-input",{attrs:{id:"planilhaGerenciamento",type:"text",required:"",placeholder:"Link para planilha de gerenciamento"},model:{value:e.form.planilhaGerenciamento,callback:function(t){e.$set(e.form,"planilhaGerenciamento",t)},expression:"form.planilhaGerenciamento"}})],1),a("b-form-group",{attrs:{id:"input-group-fichaVigilancia",label:"Ficha de vigilância:","label-for":"fichaVigilancia"}},[a("b-form-input",{attrs:{id:"fichaVigilancia",type:"text",required:"",placeholder:"Link para ficha de vigilância"},model:{value:e.form.fichaVigilancia,callback:function(t){e.$set(e.form,"fichaVigilancia",t)},expression:"form.fichaVigilancia"}})],1),a("b-button",{attrs:{type:"submit",variant:"primary"}},[e._v("Salvar")])],1)],1)},$a=[],Ua={name:"AdicionarUnidade",data:function(){return{form:{nome:"",distrito:null,planilhaIdosos:"",planilhaGerenciamento:"",fichaVigilancia:""},distritos:[{text:"Selecione...",value:null},"Norte","Sul","Leste","Oeste"]}},methods:{onSubmit:function(e){var t=this;e.preventDefault(),console.log(JSON.stringify(this.form));var a="".concat(u,"/unidades");console.log(a),r.a.post(a,this.form).then((function(e){t.$router.push({name:"unidade",params:{id:e.data}}),t.$toasted.global.defaultSuccess()})).catch(f)}}},ja=Ua,Na=Object(A["a"])(ja,Pa,$a,!1,null,null,null),Ra=Na.exports,Ma=function(){var e=this,t=e.$createElement,a=e._self._c||t;return a("div",{staticClass:"adicionarUsuario"},[a("h1",[e._v("Adicionar Usuário")]),e._v(" obs: caso o usuario seja um vigilante, seu nome deve ser informado da mesma forma que foi usado nas planilhas (incluido letras maiúsculas, acentos e abreviações). "),a("b-form",{on:{submit:e.onSubmit}},[a("b-form-group",{attrs:{id:"input-group-nome",label:"Nome:","label-for":"nome"}},[a("b-form-input",{attrs:{id:"nome",type:"text",required:"",placeholder:"Nome do usuário"},model:{value:e.form.name,callback:function(t){e.$set(e.form,"name",t)},expression:"form.name"}})],1),a("b-form-group",{attrs:{id:"input-group-email",label:"Email:","label-for":"email"}},[a("b-form-input",{attrs:{id:"email",type:"email",required:"",placeholder:"E-mail"},model:{value:e.form.email,callback:function(t){e.$set(e.form,"email",t)},expression:"form.email"}})],1),a("b-form-group",{attrs:{id:"input-group-senha",label:"Senha:","label-for":"senha"}},[a("b-form-input",{attrs:{id:"senha",type:"password",required:"",placeholder:"senha"},model:{value:e.form.password,callback:function(t){e.$set(e.form,"password",t)},expression:"form.password"}})],1),a("b-form-group",{attrs:{id:"input-group-confirmarSenha",label:"Confirmar senha:","label-for":"confirmarSenha"}},[a("b-form-input",{attrs:{id:"confirmarSenha",type:"password",required:"",placeholder:"repetir senha"},model:{value:e.form.confirmPassword,callback:function(t){e.$set(e.form,"confirmPassword",t)},expression:"form.confirmPassword"}})],1),a("b-form-group",{attrs:{id:"input-group-permissao",label:"Permissão:","label-for":"permissao"}},[a("b-form-select",{attrs:{id:"permissao",options:e.permissoes,required:""},model:{value:e.form.role,callback:function(t){e.$set(e.form,"role",t)},expression:"form.role"}})],1),a("b-form-group",{attrs:{id:"input-group-unidade",label:"Unidade:","label-for":"unidade"}},[a("b-form-select",{attrs:{id:"unidade",options:e.unidades,required:""},model:{value:e.form.unidadeId,callback:function(t){e.$set(e.form,"unidadeId",t)},expression:"form.unidadeId"}})],1),a("b-button",{attrs:{type:"submit",variant:"primary"}},[e._v("Salvar")])],1)],1)},Da=[],Ta={name:"AdicionarUsuario",data:function(){return{form:{name:"",email:"",password:"",confirmPassword:"",role:"VIGILANTE",unidadeId:this.$route.params.id},permissoes:[{text:"Vigilante",value:"VIGILANTE"}],unidades:[{text:this.$route.params.unidadeNome,value:this.$route.params.id}]}},methods:{onSubmit:function(e){var t=this;e.preventDefault(),console.log(JSON.stringify(this.form));var a="".concat(u,"/unidades/").concat(this.$route.params.id,"/usuarios");console.log(a),r.a.post(a,this.form).then((function(){t.$router.push({name:"unidade",params:{id:t.$route.params.id}}),t.$toasted.global.defaultSuccess()})).catch(f)}}},qa=Ta,La=Object(A["a"])(qa,Ma,Da,!1,null,null,null),Fa=La.exports,Ba=function(){var e=this,t=e.$createElement,a=e._self._c||t;return a("div",{staticClass:"idososPorVigilante"},[a("h6",[e._v(e._s(e.$route.params.unidadeNome)+" / "+e._s(e.$route.params.vigilanteNome))]),a("h1",[e._v("Meus Idosos ("+e._s(e.idosos.length)+")")]),e._v(" "),e.carregando?a("span",[e._v("Carregando...")]):e._e(),a("b-table",{attrs:{items:e.idosos,fields:e.fields},scopedSlots:e._u([{key:"cell(col-1)",fn:function(t){return[a("div",[a("b",[e._v(e._s(t.item.nome))])]),t.item.ultimaEscala?a("div",{staticClass:"badges"},[t.item.ultimaEscala.vulnerabilidade?a("popper",{attrs:{trigger:"hover",options:{placement:"top"}}},[a("div",{staticClass:"popper"},[e._v(" Escala de Vulnerabilidade ")]),a("span",{attrs:{slot:"reference"},slot:"reference"},[a("Badge",{attrs:{value:t.item.ultimaEscala.vulnerabilidade}})],1)]):e._e(),t.item.ultimaEscala.epidemiologica?a("popper",{attrs:{trigger:"hover",options:{placement:"top"}}},[a("div",{staticClass:"popper"},[e._v(" Escala Epidemiológica ")]),a("span",{attrs:{slot:"reference"},slot:"reference"},[a("Badge",{attrs:{value:t.item.ultimaEscala.epidemiologica}})],1)]):e._e(),t.item.ultimaEscala.riscoContagio?a("popper",{attrs:{trigger:"hover",options:{placement:"top"}}},[a("div",{staticClass:"popper"},[e._v(" Risco de Contágio por COVID-19 ")]),a("span",{attrs:{slot:"reference"},slot:"reference"},[a("Badge",{attrs:{value:t.item.ultimaEscala.riscoContagio}})],1)]):e._e()],1):e._e()]}},{key:"cell(col-2)",fn:function(t){return[a("div",{staticClass:"statusAtendimentos"},[a("span",[a("popper",{attrs:{trigger:"hover",options:{placement:"top",modifiers:{offset:{offset:"0,10px"}}}}},[a("div",{staticClass:"popper"},[e._v(" Atendimentos efetuados / total de tentativas ")]),a("span",{attrs:{slot:"reference"},slot:"reference"},[a("i",{staticClass:"fas fa-headset"}),e._v(" "+e._s(t.item.ultimaEscala?t.item.ultimaEscala.qtdAtendimentosEfetuados:0)+"/"+e._s(t.item.ultimoAtendimento?t.item.ultimoAtendimento.qtdTentativas:0)+" ")])])],1),t.item.ultimoAtendimento?a("span",{staticClass:"statusUltimoAtendimento",class:{atendido:t.item.ultimoAtendimento.efetuado}},[a("popper",{attrs:{trigger:"hover",options:{placement:"top",modifiers:{offset:{offset:"0,10px"}}}}},[a("div",{staticClass:"popper"},[e._v(" Último atendimento: "),t.item.ultimoAtendimento.efetuado?a("span",[e._v("Ligação atendida")]):e._e(),t.item.ultimoAtendimento.efetuado?e._e():a("span",[e._v("Não atendeu a ligação")])]),a("span",{attrs:{slot:"reference"},slot:"reference"},[a("i",{directives:[{name:"show",rawName:"v-show",value:t.item.ultimoAtendimento.efetuado,expression:"data.item.ultimoAtendimento.efetuado"}],staticClass:"far fa-check-circle"}),a("i",{directives:[{name:"show",rawName:"v-show",value:!t.item.ultimoAtendimento.efetuado,expression:"!data.item.ultimoAtendimento.efetuado"}],staticClass:"far fa-times-circle"}),e._v(" "+e._s(e.formatDate(t.item.ultimoAtendimento.data))+" ")])])],1):e._e(),t.item.ultimoAtendimento?e._e():a("span",{staticClass:"statusUltimoAtendimento atencao"},[a("popper",{attrs:{trigger:"hover",options:{placement:"top",modifiers:{offset:{offset:"0,10px"}}}}},[a("div",{staticClass:"popper"},[e._v(" Último atendimento: não há registros ")]),a("span",{attrs:{slot:"reference"},slot:"reference"},[a("i",{staticClass:"fas fa-exclamation-circle"}),e._v(" pendente ")])])],1),t.item.ultimaEscala&&t.item.ultimaEscala.dataProximoAtendimento?a("span",{staticClass:"dataProximoAtendimento"},[a("popper",{attrs:{trigger:"hover",options:{placement:"top",modifiers:{offset:{offset:"0,10px"}}}}},[a("div",{staticClass:"popper"},[e._v(" Sugestão de próximo atendimento ")]),a("span",{attrs:{slot:"reference"},slot:"reference"},[a("i",{staticClass:"far fa-clock"}),e._v(" "+e._s(e.formatDate(t.item.ultimaEscala.dataProximoAtendimento))+" ")])])],1):e._e()]),a("div",[e._v(" Telefones: "+e._s(t.item.telefone1)+" "+e._s(t.item.telefone2)+" ")])]}}])})],1)},Ga=[],Ya={name:"IdososPorVigilante",components:{Badge:ma,popper:pa.a},data:function(){return{carregando:!0,idosos:[],fields:[{key:"ultimaEscala.score",label:"Score"},{key:"col-1",label:"Idoso"},{key:"col-2",label:" "}]}},methods:{loadIdosos:function(){var e=this,t="".concat(u,"/unidades/").concat(this.$route.params.unidadePrefix,"/vigilantes/").concat(this.$route.params.vigilanteNome,"/idosos");console.log(t),r.a.get(t).then((function(t){e.idosos=t.data,console.log(e.idosos),e.carregando=!1})).catch(f)},formatDate:function(e){return new Date(e).toLocaleString()}},mounted:function(){this.loadIdosos()}},Ka=Ya,Ha=(a("ce8d"),Object(A["a"])(Ka,Ba,Ga,!1,null,null,null)),Wa=Ha.exports,za=function(){var e=this,t=e.$createElement,a=e._self._c||t;return a("div",{staticClass:"auth-content"},[a("div",{staticClass:"auth-modal"},[a("div",{staticClass:"auth-title"},[e._v("Login")]),a("input",{directives:[{name:"model",rawName:"v-model",value:e.user.email,expression:"user.email"}],attrs:{name:"email",placeholder:"E-mail",type:"email"},domProps:{value:e.user.email},on:{input:function(t){t.target.composing||e.$set(e.user,"email",t.target.value)}}}),a("input",{directives:[{name:"model",rawName:"v-model",value:e.user.password,expression:"user.password"}],attrs:{name:"password",placeholder:"Senha",type:"password"},domProps:{value:e.user.password},on:{input:function(t){t.target.composing||e.$set(e.user,"password",t.target.value)}}}),a("button",{on:{click:e.login}},[e._v("Entrar")])])])},Ja=[],Xa={name:"Auth",data:function(){return{user:{}}},methods:{login:function(){var e=this;r.a.post("".concat(u,"/login"),this.user).then((function(t){e.$store.commit("setUser",t.data),localStorage.setItem(c,JSON.stringify(t.data)),e.$router.push({path:"/"})})).catch(f)}}},Qa=Xa,Za=(a("ee68"),Object(A["a"])(Qa,za,Ja,!1,null,null,null)),eo=Za.exports;o["default"].use(ge["a"]);var to=[{name:"home",path:"/",component:Ce},{name:"idososSpreadsheet",path:"/googlesheets/idosos",component:dt},{name:"gerenciamentoSpreadsheet",path:"/googlesheets/gerenciamento",component:sa},{name:"meusIdosos",path:"/meusIdosos",component:ha},{name:"idososPorVigilante",path:"/unidades/:unidadePrefix/:unidadeNome/vigilantes/:vigilanteNome",component:Wa,meta:{requiresAdmin:!0}},{name:"auth",path:"/auth",component:eo},{name:"adicionarUsuarioDaUnidade",path:"/unidades/:id/:unidadeNome/addUsuario",component:Fa,meta:{requiresAdmin:!0}},{name:"unidade",path:"/unidades/:id",component:Oa,meta:{requiresAdmin:!0}},{name:"unidades",path:"/unidades",component:Sa,meta:{requiresAdmin:!0}},{name:"adicionarUnidade",path:"/adicionarUnidade",component:Ra,meta:{requiresAdmin:!0}}],ao=new ge["a"]({mode:"history",routes:to});ao.beforeEach((function(e,t,a){var o=localStorage.getItem(c);if(e.matched.some((function(e){return e.meta.requiresAdmin}))){var s=JSON.parse(o);s&&"ADMINISTRADOR"===s.role?a():a({path:"/"})}else a()}));var oo=ao,so=a("5132"),no=a.n(so),io=(a("15f5"),a("7051"),a("db48"));console.log(io),o["default"].config.productionTip=!1,o["default"].use(new no.a({debug:!0,connection:io.socketUrl,vuex:{store:be,actionPrefix:"SOCKET_",mutationPrefix:"SOCKET_"}})),new o["default"]({store:be,router:oo,render:function(e){return e(ce)}}).$mount("#app")},"5ce0":function(e,t,a){},6698:function(e,t,a){},"6a5c":function(e,t,a){},"6e60":function(e,t,a){"use strict";var o=a("c479"),s=a.n(o);s.a},"6f17":function(e,t,a){"use strict";var o=a("cd6a"),s=a.n(o);s.a},7264:function(e,t,a){"use strict";var o=a("17a5"),s=a.n(o);s.a},"77df":function(e,t,a){},"85ec":function(e,t,a){},"905f":function(e,t,a){"use strict";var o=a("009d"),s=a.n(o);s.a},9551:function(e,t,a){"use strict";var o=a("32a6"),s=a.n(o);s.a},"9f34":function(e,t,a){"use strict";var o=a("6698"),s=a.n(o);s.a},a09f:function(e,t,a){"use strict";var o=a("77df"),s=a.n(o);s.a},a405:function(e,t,a){"use strict";var o=a("a90e"),s=a.n(o);s.a},a90e:function(e,t,a){},c479:function(e,t,a){},c792:function(e,t,a){},cd6a:function(e,t,a){},ce8d:function(e,t,a){"use strict";var o=a("c792"),s=a.n(o);s.a},d49b:function(e,t,a){"use strict";var o=a("2442"),s=a.n(o);s.a},db48:function(e,t,a){(function(t){var o=a("df7c");e.exports={caminho:o.resolve(t,"../server/public"),forcarHTTPS:!1,port:Object({NODE_ENV:"production",BASE_URL:"/"}).PORT||3e3,node_env:"production",api:"http://api.frenteprevencaocovidrn.com.br/api",socketUrl:"http://api.frenteprevencaocovidrn.com.br"}}).call(this,"/")},df2f:function(e,t,a){},ee68:function(e,t,a){"use strict";var o=a("6a5c"),s=a.n(o);s.a}});
//# sourceMappingURL=app.01988729.js.map